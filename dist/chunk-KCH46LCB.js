"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var Si=Object.create;var mt=Object.defineProperty,wi=Object.defineProperties,Ri=Object.getOwnPropertyDescriptor,ji=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertyNames,pt=Object.getOwnPropertySymbols,Pi=Object.getPrototypeOf,kt=Object.prototype.hasOwnProperty,Zr=Object.prototype.propertyIsEnumerable;var Xr=(e,t,r)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O=(e,t)=>{for(var r in t||(t={}))kt.call(t,r)&&Xr(e,r,t[r]);if(pt)for(var r of pt(t))Zr.call(t,r)&&Xr(e,r,t[r]);return e},S=(e,t)=>wi(e,ji(t)),vi=e=>mt(e,"__esModule",{value:!0});var Y=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var xe=(e,t)=>{var r={};for(var n in e)kt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&pt)for(var n of pt(e))t.indexOf(n)<0&&Zr.call(e,n)&&(r[n]=e[n]);return r};var Ei=(e,t)=>()=>(e&&(t=e(e=0)),t);var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ti(t))!kt.call(e,o)&&(r||o!=="default")&&mt(e,o,{get:()=>t[o],enumerable:!(n=Ri(t,o))||n.enumerable});return e},Ke=(e,t)=>Mi(vi(mt(e!=null?Si(Pi(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var m=Ei(()=>{});var ir=j((Mh,vo)=>{m();var Gp=Object.prototype;function Ip(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gp;return e===r}vo.exports=Ip});var Mo=j((Gh,Eo)=>{m();function Ap(e,t){return function(r){return e(t(r))}}Eo.exports=Ap});var Io=j((Ih,Go)=>{m();var Cp=Mo(),Dp=Cp(Object.keys,Object);Go.exports=Dp});var Co=j((Ah,Ao)=>{m();var qp=ir(),kp=Io(),Fp=Object.prototype,Np=Fp.hasOwnProperty;function Vp(e){if(!qp(e))return kp(e);var t=[];for(var r in Object(e))Np.call(e,r)&&r!="constructor"&&t.push(r);return t}Ao.exports=Vp});var ar=j((Ch,Do)=>{m();var Up=typeof global=="object"&&global&&global.Object===Object&&global;Do.exports=Up});var pe=j((Dh,qo)=>{m();var Wp=ar(),Bp=typeof self=="object"&&self&&self.Object===Object&&self,zp=Wp||Bp||Function("return this")();qo.exports=zp});var pr=j((qh,ko)=>{m();var Kp=pe(),Qp=Kp.Symbol;ko.exports=Qp});var Uo=j((kh,Vo)=>{m();var Fo=pr(),No=Object.prototype,Lp=No.hasOwnProperty,_p=No.toString,Ze=Fo?Fo.toStringTag:void 0;function Hp(e){var t=Lp.call(e,Ze),r=e[Ze];try{e[Ze]=void 0;var n=!0}catch (e2){}var o=_p.call(e);return n&&(t?e[Ze]=r:delete e[Ze]),o}Vo.exports=Hp});var Bo=j((Fh,Wo)=>{m();var Yp=Object.prototype,Jp=Yp.toString;function Xp(e){return Jp.call(e)}Wo.exports=Xp});var et=j((Nh,Qo)=>{m();var zo=pr(),Zp=Uo(),em=Bo(),tm="[object Null]",rm="[object Undefined]",Ko=zo?zo.toStringTag:void 0;function nm(e){return e==null?e===void 0?rm:tm:Ko&&Ko in Object(e)?Zp(e):em(e)}Qo.exports=nm});var mr=j((Vh,Lo)=>{m();function om(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Lo.exports=om});var cr=j((Uh,_o)=>{m();var sm=et(),im=mr(),am="[object AsyncFunction]",pm="[object Function]",mm="[object GeneratorFunction]",cm="[object Proxy]";function lm(e){if(!im(e))return!1;var t=sm(e);return t==pm||t==mm||t==am||t==cm}_o.exports=lm});var Yo=j((Wh,Ho)=>{m();var um=pe(),fm=um["__core-js_shared__"];Ho.exports=fm});var Zo=j((Bh,Xo)=>{m();var lr=Yo(),Jo=function(){var e=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gm(e){return!!Jo&&Jo in e}Xo.exports=gm});var ur=j((zh,es)=>{m();var dm=Function.prototype,ym=dm.toString;function hm(e){if(e!=null){try{return ym.call(e)}catch (e3){}try{return e+""}catch (e4){}}return""}es.exports=hm});var rs=j((Kh,ts)=>{m();var bm=cr(),Om=Zo(),$m=mr(),xm=ur(),Sm=/[\\^$.*+?()[\]{}|]/g,wm=/^\[object .+?Constructor\]$/,Rm=Function.prototype,jm=Object.prototype,Tm=Rm.toString,Pm=jm.hasOwnProperty,vm=RegExp("^"+Tm.call(Pm).replace(Sm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Em(e){if(!$m(e)||Om(e))return!1;var t=bm(e)?vm:wm;return t.test(xm(e))}ts.exports=Em});var os=j((Qh,ns)=>{m();function Mm(e,t){return e==null?void 0:e[t]}ns.exports=Mm});var ke=j((Lh,ss)=>{m();var Gm=rs(),Im=os();function Am(e,t){var r=Im(e,t);return Gm(r)?r:void 0}ss.exports=Am});var as=j((_h,is)=>{m();var Cm=ke(),Dm=pe(),qm=Cm(Dm,"DataView");is.exports=qm});var ms=j((Hh,ps)=>{m();var km=ke(),Fm=pe(),Nm=km(Fm,"Map");ps.exports=Nm});var ls=j((Yh,cs)=>{m();var Vm=ke(),Um=pe(),Wm=Vm(Um,"Promise");cs.exports=Wm});var fs=j((Jh,us)=>{m();var Bm=ke(),zm=pe(),Km=Bm(zm,"Set");us.exports=Km});var ds=j((Xh,gs)=>{m();var Qm=ke(),Lm=pe(),_m=Qm(Lm,"WeakMap");gs.exports=_m});var ws=j((Zh,Ss)=>{m();var fr=as(),gr=ms(),dr=ls(),yr=fs(),hr=ds(),xs=et(),Fe=ur(),ys="[object Map]",Hm="[object Object]",hs="[object Promise]",bs="[object Set]",Os="[object WeakMap]",$s="[object DataView]",Ym=Fe(fr),Jm=Fe(gr),Xm=Fe(dr),Zm=Fe(yr),ec=Fe(hr),Te=xs;(fr&&Te(new fr(new ArrayBuffer(1)))!=$s||gr&&Te(new gr)!=ys||dr&&Te(dr.resolve())!=hs||yr&&Te(new yr)!=bs||hr&&Te(new hr)!=Os)&&(Te=function(e){var t=xs(e),r=t==Hm?e.constructor:void 0,n=r?Fe(r):"";if(n)switch(n){case Ym:return $s;case Jm:return ys;case Xm:return hs;case Zm:return bs;case ec:return Os}return t});Ss.exports=Te});var Ct=j((eb,Rs)=>{m();function tc(e){return e!=null&&typeof e=="object"}Rs.exports=tc});var Ts=j((tb,js)=>{m();var rc=et(),nc=Ct(),oc="[object Arguments]";function sc(e){return nc(e)&&rc(e)==oc}js.exports=sc});var Ms=j((rb,Es)=>{m();var Ps=Ts(),ic=Ct(),vs=Object.prototype,ac=vs.hasOwnProperty,pc=vs.propertyIsEnumerable,mc=Ps(function(){return arguments}())?Ps:function(e){return ic(e)&&ac.call(e,"callee")&&!pc.call(e,"callee")};Es.exports=mc});var Is=j((nb,Gs)=>{m();var cc=Array.isArray;Gs.exports=cc});var br=j((ob,As)=>{m();var lc=9007199254740991;function uc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lc}As.exports=uc});var Ds=j((sb,Cs)=>{m();var fc=cr(),gc=br();function dc(e){return e!=null&&gc(e.length)&&!fc(e)}Cs.exports=dc});var ks=j((ib,qs)=>{m();function yc(){return!1}qs.exports=yc});var Us=j((tt,Ne)=>{m();var hc=pe(),bc=ks(),Vs=typeof tt=="object"&&tt&&!tt.nodeType&&tt,Fs=Vs&&typeof Ne=="object"&&Ne&&!Ne.nodeType&&Ne,Oc=Fs&&Fs.exports===Vs,Ns=Oc?hc.Buffer:void 0,$c=Ns?Ns.isBuffer:void 0,xc=$c||bc;Ne.exports=xc});var Bs=j((ab,Ws)=>{m();var Sc=et(),wc=br(),Rc=Ct(),jc="[object Arguments]",Tc="[object Array]",Pc="[object Boolean]",vc="[object Date]",Ec="[object Error]",Mc="[object Function]",Gc="[object Map]",Ic="[object Number]",Ac="[object Object]",Cc="[object RegExp]",Dc="[object Set]",qc="[object String]",kc="[object WeakMap]",Fc="[object ArrayBuffer]",Nc="[object DataView]",Vc="[object Float32Array]",Uc="[object Float64Array]",Wc="[object Int8Array]",Bc="[object Int16Array]",zc="[object Int32Array]",Kc="[object Uint8Array]",Qc="[object Uint8ClampedArray]",Lc="[object Uint16Array]",_c="[object Uint32Array]",G={};G[Vc]=G[Uc]=G[Wc]=G[Bc]=G[zc]=G[Kc]=G[Qc]=G[Lc]=G[_c]=!0;G[jc]=G[Tc]=G[Fc]=G[Pc]=G[Nc]=G[vc]=G[Ec]=G[Mc]=G[Gc]=G[Ic]=G[Ac]=G[Cc]=G[Dc]=G[qc]=G[kc]=!1;function Hc(e){return Rc(e)&&wc(e.length)&&!!G[Sc(e)]}Ws.exports=Hc});var Ks=j((pb,zs)=>{m();function Yc(e){return function(t){return e(t)}}zs.exports=Yc});var Ls=j((rt,Ve)=>{m();var Jc=ar(),Qs=typeof rt=="object"&&rt&&!rt.nodeType&&rt,nt=Qs&&typeof Ve=="object"&&Ve&&!Ve.nodeType&&Ve,Xc=nt&&nt.exports===Qs,Or=Xc&&Jc.process,Zc=function(){try{var e=nt&&nt.require&&nt.require("util").types;return e||Or&&Or.binding&&Or.binding("util")}catch (e5){}}();Ve.exports=Zc});var Js=j((mb,Ys)=>{m();var el=Bs(),tl=Ks(),_s=Ls(),Hs=_s&&_s.isTypedArray,rl=Hs?tl(Hs):el;Ys.exports=rl});var $r=j((cb,Xs)=>{m();var nl=Co(),ol=ws(),sl=Ms(),il=Is(),al=Ds(),pl=Us(),ml=ir(),cl=Js(),ll="[object Map]",ul="[object Set]",fl=Object.prototype,gl=fl.hasOwnProperty;function dl(e){if(e==null)return!0;if(al(e)&&(il(e)||typeof e=="string"||typeof e.splice=="function"||pl(e)||cl(e)||sl(e)))return!e.length;var t=ol(e);if(t==ll||t==ul)return!e.size;if(ml(e))return!nl(e).length;for(var r in e)if(gl.call(e,r))return!1;return!0}Xs.exports=dl});var Gi="orval",Ii="A swagger client generator for typescript",Ai="6.6.4",Ci="MIT",Di=["dist"],qi={orval:"dist/bin/orval.js"},ki="dist/index.js",Fi=["rest","client","swagger","open-api","fetch","data fetching","code-generation","angular","react","react-query","svelte","svelte-query","vue","vue-query","msw","mock","axios","vue-query","vue","swr"],Ni={name:"Victor Bury",email:"bury.victor@gmail.com"},Vi={type:"git",url:"https://github.com/anymaniax/orval"},Ui={build:"tsup ./src/bin/orval.ts ./src/index.ts --minify --clean --dts --splitting",dev:"tsup ./src/bin/orval.ts ./src/index.ts --clean --watch src --onSuccess 'yarn generate-api'",lint:"eslint src/**/*.ts",test:"vitest --global test.ts",format:"prettier --write 'src/**/*.{js,ts}'",prerelease:"yarn build && cd ./tests && yarn generate && yarn build",release:"dotenv release-it",postrelease:"yarn build && yarn update-samples","generate-api":"node ./dist/bin/orval.js --config ./samples/react-query/basic/orval.config.ts --watch",prepare:"husky install && cd ./samples/react-query/basic && yarn",commitlint:"commitlint","update-samples":"zx ./scripts/update-samples.mjs"},Wi={"@commitlint/cli":"^16.2.1","@commitlint/config-conventional":"^16.2.1","@faker-js/faker":"^6.1.1","@release-it/conventional-changelog":"^4.2.0","@types/chalk":"^2.2.0","@types/commander":"^2.12.2","@types/fs-extra":"^9.0.12","@types/inquirer":"^8.2.0","@types/lodash.get":"^4.4.6","@types/lodash.omit":"^4.5.6","@types/lodash.omitby":"^4.6.6","@types/lodash.uniq":"^4.5.6","@types/lodash.uniqby":"^4.7.6","@types/lodash.uniqwith":"^4.5.6","@types/micromatch":"^4.0.2","@types/node":"^17.0.21","@types/prettier":"^2.4.4","@types/request":"^2.48.8","@types/validator":"^13.7.1","@typescript-eslint/eslint-plugin":"^5.14.0","@typescript-eslint/parser":"^5.14.0","dotenv-cli":"^4.0.0",eslint:"^8.10.0","eslint-config-prettier":"^8.5.0","eslint-plugin-prettier":"^4.0.0",husky:"^7.0.2","lint-staged":"^12.3.5","npm-run-all":"^4.1.5",prettier:"^2.5.1","release-it":"^14.12.5",rimraf:"^3.0.2",tsup:"^5.12.0",typescript:"^4.6.2",vitest:"^0.6.0",zx:"^5.2.0"},Bi={"@apidevtools/swagger-parser":"^10.0.3",acorn:"^8.7.0",cac:"^6.7.12",chalk:"^4.1.2",chokidar:"^3.5.3",cuid:"^2.1.8",debug:"^4.3.3",esbuild:"^0.14.25",esutils:"2.0.3",execa:"^5.1.1","find-up":"5.0.0","fs-extra":"^10.0.1",globby:"11.0.4","ibm-openapi-validator":"^0.57.4",inquirer:"^8.2.0","lodash.get":"^4.4.2","lodash.omit":"^4.5.0","lodash.omitby":"^4.6.0","lodash.uniq":"^4.5.0","lodash.uniqby":"^4.7.0","lodash.uniqwith":"^4.5.0",micromatch:"^4.0.4","openapi3-ts":"^2.0.2",swagger2openapi:"^7.0.8",tsconfck:"^1.2.0",upath:"^2.0.1",url:"^0.11.0",validator:"^13.7.0"},Ft= exports.a ={name:Gi,description:Ii,version:Ai,license:Ci,files:Di,bin:qi,main:ki,keywords:Fi,author:Ni,repository:Vi,scripts:Ui,devDependencies:Wi,dependencies:Bi};m();var Q={ANGULAR:"angular",AXIOS:"axios",AXIOS_FUNCTIONS:"axios-functions",REACT_QUERY:"react-query",SVELTE_QUERY:"svelte-query"},ae={SINGLE:"single",SPLIT:"split",TAGS:"tags",TAGS_SPLIT:"tags-split"},J={POST:"post",PUT:"put",GET:"get",PATCH:"patch",DELETE:"delete",HEAD:"head"};m();var _upath = require('upath');var A=e=>Boolean(e.$ref),en=e=>!_upath.extname.call(void 0, e);function D(e){return Object.prototype.toString.call(e)==="[object Object]"}function q(e){return typeof e=="string"}function tn(e){return typeof e=="number"}function L(e){return typeof e=="boolean"}function W(e){return typeof e=="function"}function ct(e){return typeof e>"u"}function rn(e){return typeof e===null}var nn=e=>Object.values(J).includes(e);m();var _chalk = require('chalk'); var _chalk2 = _interopRequireDefault(_chalk);var _readline = require('readline'); var _readline2 = _interopRequireDefault(_readline);var F=console.log,Yl= exports.e =({name:e,version:t,description:r})=>F(`\u{1F37B} Start ${_chalk2.default.cyan.bold(e)} ${_chalk2.default.green(`v${t}`)}${r?` - ${r}`:""}`),pn=e=>F(_chalk2.default.red(e));var mn=e=>F(`\u{1F389} ${e?`${_chalk2.default.green(e)} - `:""}Your OpenAPI spec has been converted into ready to use orval!`),cn=e=>{F(_chalk2.default.yellow("(!) Warnings")),e.forEach(t=>F(_chalk2.default.yellow(`Message : ${t.message}
Path    : ${t.path}`)))},ln=e=>{F(_chalk2.default.red("(!) Errors")),e.forEach(t=>F(_chalk2.default.red(`Message : ${t.message}
Path    : ${t.path}`)))},Nt={silent:0,error:1,warn:2,info:3},sn,an,Vt=0;function Ki(){let e=process.stdout.rows-2,t=e>0?`
`.repeat(e):"";console.log(t),_readline2.default.cursorTo(process.stdout,0,0),_readline2.default.clearScreenDown(process.stdout)}function _(e="info",t={}){let{prefix:r="[vite]",allowClearScreen:n=!0}=t,o=Nt[e],s=n&&process.stdout.isTTY&&!process.env.CI?Ki:()=>{};function i(c,l,u={}){if(o>=Nt[c]){let f=c==="info"?"log":c,g=()=>{if(u.timestamp){let h=c==="info"?_chalk2.default.cyan.bold(r):c==="warn"?_chalk2.default.yellow.bold(r):_chalk2.default.red.bold(r);return`${_chalk2.default.dim(new Date().toLocaleTimeString())} ${h} ${l}`}else return l};c===sn&&l===an?(Vt++,s(),console[f](g(),_chalk2.default.yellow(`(x${Vt+1})`))):(Vt=0,an=l,sn=c,u.clear&&s(),console[f](g()))}}let a=new Set,p={hasWarned:!1,info(c,l){i("info",c,l)},warn(c,l){p.hasWarned=!0,i("warn",c,l)},warnOnce(c,l){a.has(c)||(p.hasWarned=!0,i("warn",c,l),a.add(c))},error(c,l){p.hasWarned=!0,i("error",c,l)},clearScreen(c){o>=Nt[c]&&s()}};return p}m();m();var _lodashget = require('lodash.get'); var _lodashget2 = _interopRequireDefault(_lodashget);var _url = require('url'); var _url2 = _interopRequireDefault(_url);m();var Ut=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},lt=Ut("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),ut="a-z"+Ut("DF-F6,F8-FF","00"),Qe="A-Z"+Ut("C0-D6,D8-DE","00"),Qi="A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",me={capitalize:new RegExp("(^|["+lt+"])(["+ut+"])","g"),pascal:new RegExp("(^|["+lt+"])+(["+ut+Qe+"])","g"),fill:new RegExp("["+lt+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+ut+"])","g"),improper:new RegExp("\\b("+Qi+")\\b","g"),relax:new RegExp("([^"+Qe+"])(["+Qe+"]*)(["+Qe+"])(?=[^"+Qe+"]|$)","g"),upper:new RegExp("^[^"+ut+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+lt+"]")},Li=e=>e.replace(me.apostrophe,""),_i=String.prototype.toUpperCase,Wt=String.prototype.toLowerCase,Bt=(e,t,r=!1)=>(t!=null&&(e=e.replace(me.fill,function(n,o){return o?t+o:""})),r&&(e=Li(e)),e),Hi=e=>Wt.call(e.charAt(0))+e.slice(1),Yi=(e,t,r,n)=>t+" "+(r?r+" ":"")+n,un=(e,t=!1,r=!1,n=!1)=>{if(e=e==null?"":e+"",!n&&me.upper.test(e)&&(e=Wt.call(e)),!t&&!me.hole.test(e)){var o=Bt(e," ");me.hole.test(o)&&(e=o)}return!r&&!me.room.test(e)&&(e=e.replace(me.relax,Yi)),e},Ji=(e,t,r)=>Bt(Wt.call(un(e,!!t)),t,r),$=e=>Bt(un(e,!1,!0).replace(me.pascal,(t,r,n)=>_i.call(n)),"",!0),R=e=>Hi($(e));var Se=e=>Ji(e,"-",!0);m();var _esbuild = require('esbuild');var _fs = require('fs'); var _fs2 = _interopRequireDefault(_fs);var _globby = require('globby'); var _globby2 = _interopRequireDefault(_globby);var _micromatch = require('micromatch'); var _micromatch2 = _interopRequireDefault(_micromatch);var _path = require('path'); var _path2 = _interopRequireDefault(_path);m();var _debug = require('debug'); var _debug2 = _interopRequireDefault(_debug);var fn=process.env.ORVAL_DEBUG_FILTER,zt=process.env.DEBUG;function gn(e,t={}){let r=_debug2.default.call(void 0, e),{onlyWhenFocused:n}=t,o=typeof n=="string"?n:e;return(s,...i)=>{fn&&!s.includes(fn)||n&&!(zt==null?void 0:zt.includes(o))||r(s,...i)}}var E=(e="",{backupFilename:t="filename",extension:r=".ts"}={})=>{let n=en(e),o=n?_upath.join.call(void 0, e,t+r):e,s=o.replace(/\.[^/.]+$/,""),i=_upath.dirname.call(void 0, o),a=_upath.basename.call(void 0, o,r[0]!=="."?`.${r}`:r);return{path:o,pathWithoutExtension:s,extension:r,isDirectory:n,dirname:i,filename:a}},bn=gn("orval:file-load"),Qt=new Map;async function ft(e,t){let{root:r=process.cwd(),isDefault:n=!0,defaultFileName:o,logLevel:s,alias:i,tsconfig:a,load:p=!0}=t||{},c=Date.now(),l,u=!1,f=!1;if(e)l=_path2.default.resolve(e),u=e.endsWith(".ts");else if(o){let d=_path2.default.resolve(r,`${o}.js`);if(_fs2.default.existsSync(d)&&(l=d),!l){let y=_path2.default.resolve(r,`${o}.mjs`);_fs2.default.existsSync(y)&&(l=y,f=!0)}if(!l){let y=_path2.default.resolve(r,`${o}.ts`);_fs2.default.existsSync(y)&&(l=y,u=!0)}}l||(e?_(s).error(_chalk2.default.red(`File not found => ${e}`)):o?_(s).error(_chalk2.default.red(`File not found => ${o}.{js,mjs,ts}`)):_(s).error(_chalk2.default.red("File not found")),process.exit(1));let g=_upath.normalizeSafe.call(void 0, l),h=Qt.get(l);if(h)return S(O({path:g},h),{cached:!0});try{let d;if(!d&&!u&&!f)try{delete Y.cache[Y.resolve(l)],d=Y(l),bn(`cjs loaded in ${Date.now()-c}ms`)}catch(y){if(!new RegExp(["Cannot use import statement","Must use import to load ES Module","Unexpected token","Unexpected identifier"].join("|")).test(y.message))throw y}if(!d){let{code:y}=await oa(l,f,r||_upath.dirname.call(void 0, g),i,a==null?void 0:a.compilerOptions);p?d=await sa(l,y,n):d=y,bn(`bundled file loaded in ${Date.now()-c}ms`)}return Qt.set(l,{file:d}),{path:g,file:d}}catch(d){return Qt.set(l,{error:d}),{path:g,error:d}}}async function oa(e,t=!1,r,n,o){let s=await _esbuild.build.call(void 0, {absWorkingDir:process.cwd(),entryPoints:[e],outfile:"out.js",write:!1,platform:"node",bundle:!0,format:t?"esm":"cjs",sourcemap:"inline",metafile:!0,target:"es6",minifyWhitespace:!0,plugins:[...n||(o==null?void 0:o.paths)?[{name:"aliasing",setup(a){a.onResolve({filter:/^[\w@][^:]/},async({path:p})=>{if(n){let c=Object.keys(n),l=c.find(u=>p.startsWith(u)||_micromatch2.default.isMatch(p,c));if(l){let u=_micromatch2.default.scan(l),f=_micromatch2.default.scan(n[l]),g=_upath.resolve.call(void 0, r,f.base),h=u.base?p.replace(u.base,g):_upath.joinSafe.call(void 0, g,p),y=_upath.extname.call(void 0, h)?h:`${h}.ts`;return _fs2.default.existsSync(y)?{path:y}:void 0}}if(o==null?void 0:o.paths){let c=Object.keys(o==null?void 0:o.paths),l=c.find(u=>p.startsWith(u)||_micromatch2.default.isMatch(p,c));if(l){let u=_micromatch2.default.scan(l),f=_micromatch2.default.scan(o==null?void 0:o.paths[l][0]),g=_upath.resolve.call(void 0, r,f.base),h=u.base?p.replace(u.base,g):_upath.joinSafe.call(void 0, g,p),y=_upath.extname.call(void 0, h)?h:`${h}.ts`;return _fs2.default.existsSync(y)?{path:y}:void 0}}})}}]:[],{name:"externalize-deps",setup(a){a.onResolve({filter:/.*/},p=>{let c=p.path;if(c[0]!=="."&&!_path2.default.isAbsolute(c))return{external:!0}})}},{name:"replace-import-meta",setup(a){a.onLoad({filter:/\.[jt]s$/},async p=>{let c=await _fs2.default.promises.readFile(p.path,"utf8");return{loader:p.path.endsWith(".ts")?"ts":"js",contents:c.replace(/\bimport\.meta\.url\b/g,JSON.stringify(`file://${p.path}`)).replace(/\b__dirname\b/g,JSON.stringify(_path2.default.dirname(p.path))).replace(/\b__filename\b/g,JSON.stringify(p.path))}})}}]}),{text:i}=s.outputFiles[0];return{code:i,dependencies:s.metafile?Object.keys(s.metafile.inputs):[]}}async function sa(e,t,r){let n=_path2.default.extname(e),o=Y.extensions[n];Y.extensions[n]=(a,p)=>{p===e?a._compile(t,p):o(a,p)},delete Y.cache[Y.resolve(e)];let s=Y(e),i=r&&s.__esModule?s.default:s;return Y.extensions[n]=o,i}async function Lt(e,t){let r=await _globby2.default.call(void 0, e,{cwd:t,absolute:!0});await Promise.all(r.map(n=>_fs2.default.promises.unlink(n)))}m();var _isURL = require('validator/lib/isURL'); var _isURL2 = _interopRequireDefault(_isURL);var aa=/^https?:\/\/\w+(\.\w+)*(:[0-9]+)?(\/.*)?$/,ce=e=>_isURL2.default.call(void 0, e)||aa.test(e);var Le={schemas:"",responses:"Response",parameters:"Parameter",requestBodies:"Body"},la=new RegExp("~1","g"),Ee=async(e,t)=>{let[r,n]=e.split("#"),o=n.slice(1).split("/").map(p=>p.replace(la,"/")),s=_lodashget2.default.call(void 0, t.override,[...o.slice(0,2),"suffix"],""),i=o[o.length-1];if(!r)return{name:$(i)+s,originalName:i,refPaths:o};let a=ce(t.specKey)?_url2.default.resolve(t.specKey,r):_upath.resolve.call(void 0, E(t.specKey).dirname,r);return{name:$(i)+s,originalName:i,specKey:a,refPaths:o}};m();var _fsextra = require('fs-extra');var _inquirer = require('inquirer'); var _inquirer2 = _interopRequireDefault(_inquirer);m();var _https = require('https'); var _https2 = _interopRequireDefault(_https);var $n=(e,t)=>new Promise((r,n)=>{let o=_https2.default.request(e,s=>{let i="";s.on("data",a=>i+=a.toString()),s.on("error",n),s.on("end",()=>{let a={status:s.statusCode,headers:s.headers,body:JSON.parse(i)};s.statusCode&&s.statusCode>=200&&s.statusCode<=299?r(a):n(a)})});o.on("error",n),t&&o.write(t,"binary"),o.end()});var ha=({accessToken:e,repo:t,owner:r,branch:n,path:o})=>{let s=JSON.stringify({query:`query {
      repository(name: "${t}", owner: "${r}") {
        object(expression: "${n}:${o}") {
          ... on Blob {
            text
          }
        }
      }
    }`});return[{method:"POST",hostname:"api.github.com",path:"/graphql",headers:{"content-type":"application/json","user-agent":"orval-importer",authorization:`bearer ${e}`,"Content-Length":s.length}},s]},ba=async e=>{if(await _fsextra.pathExists.call(void 0, e))return _fsextra.readFile.call(void 0, e,"utf-8");{let t=await _inquirer2.default.prompt([{type:"input",name:"githubToken",message:"Please provide a GitHub token with `repo` rules checked (https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)"},{type:"confirm",name:"saveToken",message:"Would you like to store your token for the next time? (stored in your node_modules)"}]);return t.saveToken&&await _fsextra.outputFile.call(void 0, e,t.githubToken),t.githubToken}},Oa=async e=>{var c,l,u,f;let t=_upath.join.call(void 0, __dirname,".githubToken"),r=await ba(t),[n]=e.split("github.com/").slice(-1),[o,s,,i,...a]=n.split("/"),p=a.join("/");try{let{body:g}=await $n(...ha({accessToken:r,repo:s,owner:o,branch:i,path:p}));return((c=g.errors)==null?void 0:c.length)&&((l=g.errors)==null?void 0:l.some(d=>(d==null?void 0:d.type)==="NOT_FOUND"))&&(await _inquirer2.default.prompt([{type:"confirm",name:"removeToken",message:"Your token doesn't have the correct permissions, should we remove it?"}])).removeToken&&await _fsextra.unlink.call(void 0, t),(f=(u=g.data)==null?void 0:u.repository)==null?void 0:f.object.text}catch(g){throw g.body?(g.body.message==="Bad credentials"&&(await _inquirer2.default.prompt([{type:"confirm",name:"removeToken",message:"Your token doesn't have the correct permissions, should we remove it?"}])).removeToken&&await _fsextra.unlink.call(void 0, t),g.body.message||`Oups... \u{1F37B}. ${g}`):`Oups... \u{1F37B}. ${g}`}},Sn={order:199,canRead(e){return e.url.includes("github.com")},read(e){return Oa(e.url)}};m();var gt=e=>e&&typeof e=="object";function je(e,t){return!gt(t)||!gt(e)?e:Object.entries(t).reduce((r,[n,o])=>{let s=r[n];return Array.isArray(s)&&Array.isArray(o)?r[n]=[...s,...o]:gt(s)&&gt(o)?r[n]=je(s,o):r[n]=o,r},e)}m();var wn=({title:e,description:t,version:r})=>[`Generated by ${Ft.name} v${Ft.version} \u{1F37A}`,"Do not edit manually.",...e?[e]:[],...t?[t]:[],...r?[`OpenAPI spec version: ${r}`]:[]];m();var _findup = require('find-up'); var _findup2 = _interopRequireDefault(_findup);var _tsconfck = require('tsconfck');var jn=async(e,t=process.cwd())=>{var r,n;if(ct(e)){let o=await _findup2.default.call(void 0, ["tsconfig.json","jsconfig.json"],{cwd:t});return o?(await _tsconfck.parse.call(void 0, o)).tsconfig:void 0}if(q(e)){let o=le(e,t);if(_fsextra.existsSync.call(void 0, o)){let s=await _tsconfck.parse.call(void 0, o);return((n=(r=s.referenced)==null?void 0:r.find(({tsconfigFile:a})=>a===o))==null?void 0:n.tsconfig)||s.tsconfig}return}if(D(e))return e},H=e=>{var t,r,n;return e?!!((n=(t=e==null?void 0:e.compilerOptions)==null?void 0:t.allowSyntheticDefaultImports)!=null?n:(r=e==null?void 0:e.compilerOptions)==null?void 0:r.esModuleInterop):!0};function sf(e){return e}var Pn=async(e,t=process.cwd(),r={})=>{var d,y,x,w,P,M,T,C,I,k,te,re,ie,Pe,st,Ue,We,Be,ze,it,at,Pr,vr,Er,Mr,Gr,Ir,Ar,Cr,Dr,qr,kr,Fr,Nr,Vr,Ur,Wr,Br,zr,Kr,Qr,Lr,_r,Hr,Yr,Jr;let n=await(W(e)?e():e);n.input||(_().error(_chalk2.default.red("Config require an input")),process.exit(1)),n.output||(_().error(_chalk2.default.red("Config require an output")),process.exit(1));let o=q(n.input)?{target:n.input}:n.input,s=q(n.output)?{target:n.output}:n.output;typeof((y=(d=s.override)==null?void 0:d.angular)==null?void 0:y.provideInRoot)<"u"&&console.warn("provideInRoot is deprecated, use provideIn instead");let i=le(s.workspace||"",t),{clean:a,prettier:p,client:c,mode:l,mock:u,tslint:f}=r,g=await jn(s.tsconfig||r.tsconfig,t),h={input:{target:wa(o.target,t),validation:o.validation||!1,override:{transformer:le((x=o.override)==null?void 0:x.transformer,t)},converterOptions:o.converterOptions||{},parserOptions:je(Sa,o.parserOptions||{})},output:{target:le(s.target,i),schemas:le(s.schemas,i),workspace:s.workspace?i:void 0,client:(P=(w=s.client)!=null?w:c)!=null?P:Q.AXIOS_FUNCTIONS,mode:Ra((M=s.mode)!=null?M:l),mock:(C=(T=s.mock)!=null?T:u)!=null?C:!1,clean:(k=(I=s.clean)!=null?I:a)!=null?k:!1,prettier:(re=(te=s.prettier)!=null?te:p)!=null?re:!1,tslint:(Pe=(ie=s.tslint)!=null?ie:f)!=null?Pe:!1,tsconfig:g,override:S(O({},s.override),{operations:Tn(((st=s.override)==null?void 0:st.operations)||{},i),tags:Tn(((Ue=s.override)==null?void 0:Ue.tags)||{},i),mutator:Ge(i,(We=s.override)==null?void 0:We.mutator),formData:(at=L((Be=s.override)==null?void 0:Be.formData)?(it=s.override)==null?void 0:it.formData:Ge(i,(ze=s.override)==null?void 0:ze.formData))!=null?at:!0,formUrlEncoded:(Mr=L((Pr=s.override)==null?void 0:Pr.formUrlEncoded)?(Er=s.override)==null?void 0:Er.formUrlEncoded:Ge(i,(vr=s.override)==null?void 0:vr.formUrlEncoded))!=null?Mr:!0,header:((Gr=s.override)==null?void 0:Gr.header)===!1?!1:W((Ir=s.override)==null?void 0:Ir.header)?(Ar=s.override)==null?void 0:Ar.header:wn,requestOptions:(Dr=(Cr=s.override)==null?void 0:Cr.requestOptions)!=null?Dr:!0,components:{schemas:O({suffix:Le.schemas},((kr=(qr=s.override)==null?void 0:qr.components)==null?void 0:kr.schemas)||{}),responses:O({suffix:Le.responses},((Nr=(Fr=s.override)==null?void 0:Fr.components)==null?void 0:Nr.responses)||{}),parameters:O({suffix:Le.parameters},((Ur=(Vr=s.override)==null?void 0:Vr.components)==null?void 0:Ur.parameters)||{}),requestBodies:O({suffix:Le.requestBodies},((Br=(Wr=s.override)==null?void 0:Wr.components)==null?void 0:Br.requestBodies)||{})},query:O({useQuery:!0},((zr=s.override)==null?void 0:zr.query)||{}),angular:{provideIn:(Yr=(Hr=(Qr=(Kr=s.override)==null?void 0:Kr.angular)==null?void 0:Qr.provideIn)!=null?Hr:(_r=(Lr=s.override)==null?void 0:Lr.angular)==null?void 0:_r.provideInRoot)!=null?Yr:"root"},useDates:((Jr=s.override)==null?void 0:Jr.useDates)||!1})}};return h.input.target||(_().error(_chalk2.default.red("Config require an input target")),process.exit(1)),!h.output.target&&!h.output.schemas&&(_().error(_chalk2.default.red("Config require an output target or schemas")),process.exit(1)),h},Sa={validate:!0,resolve:{github:Sn}},Ge=(e,t)=>{var r;return D(t)?(t.path||(_().error(_chalk2.default.red("Mutator need a path")),process.exit(1)),S(O({},t),{path:_upath.resolve.call(void 0, e,t.path),default:(r=t.default||!t.name)!=null?r:!1})):q(t)?{path:_upath.resolve.call(void 0, e,t),default:!0}:t},wa=(e,t)=>q(e)&&!ce(e)?le(e,t):e,le=(e,t)=>q(e)?_upath.resolve.call(void 0, t,e):e,Tn=(e,t)=>Object.fromEntries(Object.entries(e).map(c=>{var[r,l]=c,u=l,{transformer:n,mutator:o,formData:s,formUrlEncoded:i,requestOptions:a}=u,p=xe(u,["transformer","mutator","formData","formUrlEncoded","requestOptions"]);var f,g;return[r,S(O(O(O({},p),n?{transformer:le(n,t)}:{}),o?{mutator:Ge(t,o)}:{}),{formData:(f=L(s)?s:Ge(t,s))!=null?f:!0,formUrlEncoded:(g=L(i)?i:Ge(t,i))!=null?g:!0,requestOptions:a!=null?a:!0})]})),Ra=e=>e?Object.values(ae).includes(e)?e:(_().warn(_chalk2.default.yellow(`Unknown the provided mode => ${e}`)),ae.SINGLE):ae.SINGLE;m();var vn=async(e,t,r=".")=>{if(!e)return;let{watch:n}=await Promise.resolve().then(()=>Ke(Y("chokidar"))),o=["**/{.git,node_modules}/**"],s=typeof e=="boolean"?r:Array.isArray(e)?e.filter(a=>typeof a=="string"):e;F(`Watching for changes in ${Array.isArray(s)?s.map(a=>'"'+a+'"').join(" | "):'"'+s+'"'}`),n(s,{ignorePermissionErrors:!0,ignored:o}).on("all",async(a,p)=>{F(`Change detected: ${a} ${p}`);try{await t()}catch(c){F(_chalk2.default.red(c))}})};m();m();var _swaggerparser = require('@apidevtools/swagger-parser'); var _swaggerparser2 = _interopRequireDefault(_swaggerparser);var _console = require('console');m();var _lodashomit = require('lodash.omit'); var _lodashomit2 = _interopRequireDefault(_lodashomit);m();var v=(e,t,r)=>e.reduce(async(n,...o)=>t(await n,...o),Promise.resolve(r));m();var _swagger2openapi = require('swagger2openapi'); var _swagger2openapi2 = _interopRequireDefault(_swagger2openapi);var En=async(e,t={},r)=>{try{return new Promise(n=>{!e.openapi&&e.swagger==="2.0"?_swagger2openapi2.default.convertObj(e,t,(o,s)=>{o?(F(_chalk2.default.yellow(`${r}
=> ${o}`)),n(e)):n(s.openapi)}):n(e)})}catch(n){throw`Oups... \u{1F37B}.
Path: ${r}
Parsing Error: ${n}`}};m();var dt=async(e,t=process.cwd(),r=!0)=>{if(!e)return e;try{if(q(e)){let n=_upath.resolve.call(void 0, t,e),o=await Promise.resolve().then(()=>Ke(Y(n)));return r&&D(o)&&o.default?o.default:o}return Promise.resolve(e)}catch(n){throw`Oups... \u{1F37B}. Path: ${e} => ${n}`}};m();m();m();var Z=e=>{if(!(ct(e)||rn(e)))return q(e)?`'${e}'`:tn(e)||L(e)||W(e)?`${e}`:Array.isArray(e)?`[${e.map(Z).join(", ")}]`:Object.entries(e).reduce((t,[r,n],o,s)=>{let i=Z(n);return s.length===1?`{ ${r}: ${i}, }`:o?s.length-1===o?t+`${r}: ${i}, }`:t+`${r}: ${i}, `:`{ ${r}: ${i}, `},"")},B=(e,t)=>{let{whitespace:r="",underscore:n="",dot:o="",dash:s=""}=t||{},i=e.replace(/[^\w\s.-]/g,"");return r!==!0&&(i=i.replace(/[\s]/g,r)),n!==!0&&(i=i.replace(/['_']/g,n)),o!==!0&&(i=i.replace(/[.]/g,o)),s!==!0&&(i=i.replace(/[-]/g,s)),i},z=(e,t)=>e.length?(t?e.map(n=>_lodashget2.default.call(void 0, n,t)):e).join(`,
    `)+",":"",Ma={"0":"zero","1":"one","2":"two","3":"three","4":"four","5":"five","6":"six","7":"seven","8":"eight","9":"nine"},yt=e=>e.toString().split("").reduce((r,n)=>r+Ma[n],""),ht=(e,t="'")=>e.replace(t,`\\${t}`);var Mn=e=>/[^{]*{[\w_-]*}.*/.test(e),Gn=e=>{let t=e.match(/([^{]*){?([\w_-]*)}?(.*)/);if(!(t==null?void 0:t.length))return e;let r=t[1],n=R(B(t[2],{underscore:!0,dash:!0,dot:!0})),o=Mn(t[3])?Gn(t[3]):t[3];return Mn(e)?`${r}\${${n}}${o}`:`${r}${n}${o}`},In=e=>e.split("/").reduce((r,n,o)=>!n&&!o?r:n.includes("{")?`${r}/${Gn(n)}`:`${r}/${n}`,"");m();var N=async(e,t,r=[])=>{if(!A(e))return{schema:e,imports:r};let{name:n,originalName:o,specKey:s,refPaths:i}=await Ee(e.$ref,t),a=_lodashget2.default.call(void 0, t.specs[s||t.specKey],i);if(!a)throw`Oups... \u{1F37B}. Ref not found: ${e.$ref}`;return N(a,S(O({},t),{specKey:s||t.specKey}),[...r,{name:n,specKey:s,schemaName:o}])};m();m();m();var _lodashuniq = require('lodash.uniq'); var _lodashuniq2 = _interopRequireDefault(_lodashuniq);var _lodashuniqwith = require('lodash.uniqwith'); var _lodashuniqwith2 = _interopRequireDefault(_lodashuniqwith);m();var _acorn = require('acorn');m();m();var Yt=e=>e.toLowerCase().includes(".yaml")||e.toLowerCase().includes(".yml")?"yaml":"json";var ee=(e,t)=>{let r=_upath.relative.call(void 0, e,t);return _upath.normalizeSafe.call(void 0, `.${_upath.sep}${r}`)},bt=(e,t)=>{if(ce(e)){let r=new URL(t);return e.replace(r.origin,"").replace(E(r.pathname).dirname,"").replace(`.${Yt(e)}`,"")}return"/"+_upath.normalize.call(void 0, _upath.relative.call(void 0, E(t).dirname,e)).split("../").join("").replace(`.${Yt(e)}`,"")};var Ie="BodyType",Dn=(e,t)=>{let r=E(e),n=E(t.path),{pathWithoutExtension:o}=E(ee(r.dirname,n.path));return o},$t=async({output:e,mutator:t,name:r,workspace:n,tsconfig:o})=>{var d;if(!t||!e)return;let s=t.default,i=t.name?t.name:`${r}Mutator`,a=t.path,p=await _fsextra.readFile.call(void 0, a,"utf8"),c=p.includes("export type ErrorType")||p.includes("export interface ErrorType"),l=p.includes(`export type ${Ie}`)||p.includes(`export interface ${Ie}`),u=t.default?`${$(r)}ErrorType`:"ErrorType",f=t.default?`${$(r)}${Ie}`:Ie,{file:g,cached:h}=await ft(a,{isDefault:!1,root:n,alias:t.alias,tsconfig:o,load:!1});if(g){let y=s?"default":t.name,x=ka(g,y);x||(_().error(_chalk2.default.red(`Your mutator file doesn't have the ${y} exported function`)),process.exit(1));let w=Dn(e,t);return O({name:i,path:w,default:s,hasErrorType:c,errorTypeName:u,hasSecondArg:x.numberOfParams>1,hasThirdArg:x.numberOfParams>2,isHook:!!((d=t==null?void 0:t.name)==null?void 0:d.startsWith("use"))&&!x.numberOfParams},l?{bodyTypeName:f}:{})}else{let y=Dn(e,t);return h||_().warn(_chalk2.default.yellow("Failed to parse provided mutator function")),O({name:i,path:y,default:s,hasSecondArg:!1,hasThirdArg:!1,isHook:!1,hasErrorType:c,errorTypeName:u},l?{bodyTypeName:f}:{})}},ka=(e,t)=>{var r,n;try{let o=_acorn.Parser.parse(e,{ecmaVersion:6}),s=(r=o==null?void 0:o.body)==null?void 0:r.find(a=>{var p,c,l,u,f,g,h;if(a.type==="ExpressionStatement")return((l=(c=(p=a.expression.arguments)==null?void 0:p[1])==null?void 0:c.properties)==null?void 0:l.some(d=>{var y;return((y=d.key)==null?void 0:y.name)===t}))||((f=(u=a.expression.left)==null?void 0:u.property)==null?void 0:f.name)===t?!0:(h=(g=a.expression.right)==null?void 0:g.properties)==null?void 0:h.some(d=>d.key.name===t)});if(!s)return;if(s.expression.type==="AssignmentExpression"){if(s.expression.right.type==="FunctionExpression"||s.expression.right.type==="ArrowFunctionExpression")return{numberOfParams:s.expression.right.params.length};if(s.expression.right.name)return Ot(o,s.expression.right.name);let a=(n=s.expression.right)==null?void 0:n.properties.find(p=>p.key.name===t);return a.value.name?Ot(o,a.value.name):a.value.type==="FunctionExpression"||a.value.type==="ArrowFunctionExpression"?{numberOfParams:a.value.params.length}:void 0}let i=s.expression.arguments[1].properties.find(a=>{var p;return((p=a.key)==null?void 0:p.name)===t});return Ot(o,i.value.body.name)}catch (e6){return}},Ot=(e,t)=>{var o;let r=(o=e==null?void 0:e.body)==null?void 0:o.find(s=>{if(s.type==="VariableDeclaration")return s.declarations.find(i=>i.id.name===t);if(s.type==="FunctionDeclaration"&&s.id.name===t)return s});if(!r)return;if(r.type==="FunctionDeclaration")return{numberOfParams:r.params.length};let n=r.declarations.find(s=>s.id.name===t);return n.init.name?Ot(e,n.init.name):{numberOfParams:n.init.params.length}};var Fn=({imports:e=[],target:t,isRootKey:r,specsName:n})=>e.length?_lodashuniqwith2.default.call(void 0, e,(o,s)=>o.name===s.name&&o.default===s.default&&o.specKey===s.specKey).sort().map(({specKey:o,name:s,values:i,alias:a})=>{if(o){let p=o!==t?n[o]:"";return!r&&o?`import ${i?"":"type "}{ ${s}${a?` as ${a}`:""} } from '../${_upath.join.call(void 0, p,R(s))}';`:`import ${i?"":"type "}{ ${s}${a?` as ${a}`:""} } from './${_upath.join.call(void 0, p,R(s))}';`}return`import ${i?"":"type "}{ ${s}${a?` as ${a}`:""} } from './${R(s)}';`}).join(`
`):"",V=(e,t)=>{let r=_lodashuniqwith2.default.call(void 0, e,(n,o)=>n.name===o.name&&n.default===o.default).map(n=>`import ${n.default?`${n.name}${n.hasErrorType||n.bodyTypeName?`, { ${n.hasErrorType?`ErrorType as ${n.errorTypeName}`:""}${n.hasErrorType&&n.bodyTypeName?",":""} ${n.bodyTypeName?`${Ie} as ${n.bodyTypeName}`:""} }`:""}`:`{ ${n.name}${n.hasErrorType?`, ${n.errorTypeName}`:""}${n.bodyTypeName?`, ${n.bodyTypeName}`:""} }`} from '${t?"../":""}${n.path}'`).join(`
`);return r?r+`
`:""},Na=({implementation:e,exports:t,dependency:r,specsName:n,hasSchemaDir:o,isAllowSyntheticDefaultImports:s})=>{let i=t.filter(p=>e.includes(p.alias||p.name));if(!i.length)return;let a=i.reduce((p,c)=>{var u,f;let l=o&&c.specKey?c.specKey:"default";return p[l]={values:((u=p[l])==null?void 0:u.values)||c.values&&(s||!c.syntheticDefaultImport)||!1,deps:[...((f=p[l])==null?void 0:f.deps)||[],c]},p},{});return Object.entries(a).map(([p,{values:c,deps:l}])=>{let u=l.find(y=>y.default&&(s||!y.syntheticDefaultImport)),f=s?void 0:l.find(y=>y.syntheticDefaultImport),g=_lodashuniq2.default.call(void 0, l.filter(y=>!y.default&&!y.syntheticDefaultImport).map(({name:y,alias:x})=>x?`${y} as ${x}`:y)).join(`,
  `),h="",d=f?`import * as ${f.name} from '${r}';`:"";if(d){if(l.length===1)return d;h+=`${d}
`}return h+=`import ${c?"":"type "}${u?`${u.name}${g?",":""}`:""}${g?`{
  ${g}
}`:""} from '${r}${p!=="default"&&n[p]?`/${n[p]}`:""}'`,h}).join(`
`)},xt=(e,t,r,n,o)=>{let s=t.map(i=>Na(S(O({},i),{implementation:e,specsName:r,hasSchemaDir:n,isAllowSyntheticDefaultImports:o}))).filter(Boolean).join(`
`);return s?s+`
`:""},ue=({response:e,body:t,queryParams:r,params:n})=>[...e.imports,...t.imports,...r?[{name:r.schema.name}]:[],...n.flatMap(({imports:o})=>o)];m();m();var Va=["number","string","null","unknown","undefined","object","blob"],Ae=Va.reduce((e,t)=>(e.push(t,`Array<${t}>`,`${t}[]`),e),[]),Jt=[J.POST,J.PUT,J.PATCH,J.DELETE];var Ua=(e,t,r)=>t&&e.formData?`
      formData,`:r&&e.formUrlEncoded?`
      formUrlEncoded,`:e.implementation?`
      ${e.implementation},`:"",Wa=(e,t,r)=>{var s;let n=r!==!1;if(!t&&!e.isBlob)return n?"options":"";let o="";return t&&(o+=`
        params,`),e.isBlob&&(!D(r)||!r.hasOwnProperty("responseType"))&&(o+=`
        responseType: 'blob',`),D(r)&&(o+=`
 ${(s=Z(r))==null?void 0:s.slice(1,-1)}`),n&&(o+=`
    ...options`),o},fe=({route:e,body:t,queryParams:r,response:n,verb:o,requestOptions:s,isFormData:i,isFormUrlEncoded:a,isAngular:p})=>{let c=Jt.includes(o),l=c?Ua(t,i,a):"",u=Wa(n,r==null?void 0:r.schema,s);return o===J.DELETE?l?`
      \`${e}\`,{${p?"body":"data"}:${l} ${u==="options"?`...${u}`:u}}
    `:`
      \`${e}\`,${u==="options"?u:`{${u}}`}
    `:`
      \`${e}\`,${c?l||"undefined,":""}${u==="options"?u:`{${u}}`}
    `},Ba=(e,t,r)=>t&&e.formData?`,
       data: formData`:r&&e.formUrlEncoded?`,
       data: formUrlEncoded`:e.implementation?`,
      data: ${e.implementation}`:"",za=(e,t)=>{if(!t&&!e.isBlob)return"";let r=",";return t&&(r+=`
        params,`),e.isBlob&&(r+=`
        responseType: 'blob',`),r},ge=({route:e,body:t,queryParams:r,response:n,verb:o,isFormData:s,isFormUrlEncoded:i})=>{let p=Jt.includes(o)?Ba(t,s,i):"",c=za(n,r==null?void 0:r.schema);return`{url: \`${e}\`, method: '${o}'${p}${c}
    }`},de=(e,t)=>{var r,n;return t?D(e)?`{${(n=Z(e))==null?void 0:n.slice(1,-1)} ...options}`:"options":D(e)?(r=Z(e))==null?void 0:r.slice(1,-1):""},ye=({body:e,formData:t,formUrlEncoded:r,isFormData:n,isFormUrlEncoded:o})=>n&&e.formData?t?`const formData = ${t.name}(${e.implementation})`:e.formData:o&&e.formUrlEncoded?r?`const formUrlEncoded = ${r.name}(${e.implementation})`:e.formUrlEncoded:"";var Ka=[{exports:[{name:"HttpClient",values:!0},{name:"HttpHeaders"},{name:"HttpParams"},{name:"HttpContext"}],dependency:"@angular/common/http"},{exports:[{name:"Injectable",values:!0}],dependency:"@angular/core"},{exports:[{name:"Observable",values:!0}],dependency:"rxjs"}],Nn=[],Vn=()=>Ka,Un=e=>{let t=B(e);return`${$(t)}Service`},Wn=({title:e,isRequestOptions:t,isMutator:r,isGlobalMutator:n,provideInRoot:o,provideIn:s})=>`
${t&&!n?`type HttpClientOptions = {
  headers?: HttpHeaders | {
      [header: string]: string | string[];
  };
  context?: HttpContext;
  observe?: any;
  params?: HttpParams | {
    [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;
  };
  reportProgress?: boolean;
  responseType?: any;
  withCredentials?: boolean;
};`:""}

${t&&r?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
    type ThirdParameter<T extends (...args: any) => any> = T extends (
  config: any,
  httpClient: any,
  args: infer P,
) => any
  ? P
  : never;`:""}

@Injectable(${s?`{ providedIn: '${L(s)?"root":s}' }`:""})
export class ${e} {
  constructor(
    private http: HttpClient,
  ) {}`,Bn=()=>`};

${Nn.join(`
`)}`,Qa=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:i,override:a,formData:p,formUrlEncoded:c},{route:l})=>{let u=(a==null?void 0:a.requestOptions)!==!1,f=(a==null?void 0:a.formData)!==!1,g=(a==null?void 0:a.formUrlEncoded)!==!1,h=ye({formData:p,formUrlEncoded:c,body:o,isFormData:f,isFormUrlEncoded:g}),d=r.definition.success||"unknown";if(Nn.push(`export type ${$(t)}ClientResult = NonNullable<${d}>`),n){let x=ge({route:l,body:o,queryParams:e,response:r,verb:i,isFormData:f,isFormUrlEncoded:g}),w=u?de(a==null?void 0:a.requestOptions,n.hasThirdArg):"";return` ${t}<TData = ${d}>(
    ${z(s,"implementation")}
 ${u&&n.hasThirdArg?`options?: ThirdParameter<typeof ${n.name}>`:""}) {${h}
      return ${n.name}<TData>(
      ${x},
      this.http,
      ${w});
    }
  `}let y=fe({route:l,body:o,queryParams:e,response:r,verb:i,requestOptions:a==null?void 0:a.requestOptions,isFormData:f,isFormUrlEncoded:g,isAngular:!0});return` ${t}<TData = ${d}>(
    ${z(s,"implementation")} ${u?`options?: HttpClientOptions
`:""}  ): Observable<TData>  {${h}
    return this.http.${i}<TData>(${y});
  }
`},zn=(e,t)=>{let r=ue(e);return{implementation:Qa(e,t),imports:r}};m();var La=[{exports:[{name:"axios",default:!0,values:!0,syntheticDefaultImport:!0},{name:"AxiosRequestConfig"},{name:"AxiosResponse"}],dependency:"axios"}],St=new Map,Xt=e=>[...e?[]:La],_a=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:i,override:a,formData:p,formUrlEncoded:c},{route:l,context:u})=>{let f=(a==null?void 0:a.requestOptions)!==!1,g=(a==null?void 0:a.formData)!==!1,h=(a==null?void 0:a.formUrlEncoded)!==!1,d=H(u.tsconfig),y=ye({formData:p,formUrlEncoded:c,body:o,isFormData:g,isFormUrlEncoded:h});if(n){let w=ge({route:l,body:o,queryParams:e,response:r,verb:i,isFormData:g,isFormUrlEncoded:h}),P=f?de(a==null?void 0:a.requestOptions,n.hasSecondArg):"";return St.set(t,M=>`export type ${$(t)}Result = NonNullable<AsyncReturnType<${M?`ReturnType<typeof ${M}>['${t}']`:`typeof ${t}`}>>`),`const ${t} = (
    ${z(s,"implementation")}
 ${f&&n.hasSecondArg?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${y}
      return ${n.name}<${r.definition.success||"unknown"}>(
      ${w},
      ${P});
    }
  `}let x=fe({route:l,body:o,queryParams:e,response:r,verb:i,requestOptions:a==null?void 0:a.requestOptions,isFormData:g,isFormUrlEncoded:h});return St.set(t,w=>`export type ${$(t)}Result = AsyncReturnType<${w?`ReturnType<typeof ${w}>['${t}']`:`typeof ${t}`}>`),`const ${t} = <TData = AxiosResponse<${r.definition.success||"unknown"}>>(
    ${z(s,"implementation")} ${f?`options?: AxiosRequestConfig
`:""} ): Promise<TData> => {${y}
    return axios${d?"":".default"}.${i}(${x});
  }
`},Zt=e=>{let t=B(e);return`get${$(t)}`},er=({title:e,isRequestOptions:t,isMutator:r,noFunction:n})=>`${t&&r?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
  type SecondParameter<T extends (...args: any) => any> = T extends (
  config: any,
  args: infer P,
) => any
  ? P
  : never;

`:""}
  ${n?"":`export const ${e} = () => {
`}`,tr=({operationNames:e,title:t,noFunction:r})=>{let n=`return {${e.join(",")}}};
`,o=e.map(i=>{var a;return St.has(i)?(a=St.get(i))==null?void 0:a(r||!t?void 0:t):""}).filter(Boolean),s=o.length?`
// eslint-disable-next-line @typescript-eslint/no-explicit-any
type AsyncReturnType<
T extends (...args: any) => Promise<any>
> = T extends (...args: any) => Promise<infer R> ? R : any;

${o.join(`
`)}`:"";return r?s:n+s},rr=(e,t)=>{let r=ue(e);return{implementation:_a(e,t),imports:r}};m();m();m();m();var Kn={email:"faker.internet.email()",zipCode:"faker.address.zipCode()",city:"faker.address.city()",streetName:"faker.address.streetName()",country:"faker.address.country()",date:"faker.date.recent()",iban:"faker.finance.iban()",userName:"faker.internet.userName()",firstName:"faker.name.firstName()",lastName:"faker.name.lastName()",jobTitle:"faker.name.jobTitle()",gender:"faker.name.gender()",phoneNumber:"faker.phone.phoneNumber()",url:"faker.internet.url()"};m();m();var Qn=(e,t,r)=>{var i,a;let n=Object.entries(((i=t.specs[r].components)==null?void 0:i.schemas)||[]).reduce((p,[c,l])=>(p[c]=l,p),{}),o=Object.entries(((a=t.specs[r].components)==null?void 0:a.responses)||[]).reduce((p,[c,l])=>{var u,f;return p[c]=A(l)?l:(f=(u=l.content)==null?void 0:u["application/json"])==null?void 0:f.schema,p},{}),s=O(O({},n),o);return S(O({},s[e]),{specKey:r})};var Ha=e=>e[0]==="/"&&e[e.length-1]==="/",wt=(e={},t)=>{let r=Object.entries(e).find(([n])=>!!(Ha(n)&&new RegExp(n.slice(1,n.length-1)).test(t.name)||`#.${n}`===(t.path?t.path:`#.${t.name}`)));if(!!r)return{value:He(r[1],t.nullable),imports:[],name:t.name,overrided:!0}},He=(e,t)=>t?`faker.helpers.randomize([${e}, null])`:e,he=async({schema:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})=>{if(A(e)){let{name:i,specKey:a}=await Ee(e.$ref,S(O({},s),{specKey:e.specKey||s.specKey})),p=S(O({},Qn(i,s,a||e.specKey||s.specKey)),{name:i,path:e.path,isRef:!0,specKey:a||e.specKey});return _e({item:p,mockOptions:t,operationId:r,tags:n,combine:o,context:s})}return _e({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})};m();var _cuid = require('cuid'); var _cuid2 = _interopRequireDefault(_cuid);m();var Ln=(e="",t)=>e?(e.match(new RegExp(t,"g"))||[]).length:0;m();var _n=async({item:e,items:t,isOneOf:r,mockOptions:n,operationId:o,tags:s,combine:i,context:a})=>{let p=[],c=[...(i==null?void 0:i.properties)||[]];return{value:await v(t,async(u,f,g,h)=>{let d=await he({schema:S(O({},f),{name:e.name,path:e.path?e.path:"#",specKey:e.specKey}),combine:r?void 0:{properties:c},mockOptions:n,operationId:o,tags:s,context:a});return p=[...p,...d.imports],c=[...c,...d.properties||[]],!g&&!i?d.enums||r?h.length===1?`faker.helpers.randomize([${d.value}])`:`faker.helpers.randomize([${d.value},`:h.length===1?`{${d.value}}`:`{${d.value},`:h.length-1===g?d.enums||r?u+d.value+(i?"":"])"):u+d.value+(i?"":"}"):d.value?u+d.value+",":u},""),imports:p,name:e.name,properties:c}};m();var _esutils = require('esutils');var Ce=e=>_esutils.keyword.isIdentifierNameES5(e)?e:`'${e}'`;var Hn=async({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})=>{if(A(e))return he({schema:S(O({},e),{name:e.name,path:e.path?`${e.path}.${e.name}`:e.name,specKey:e.specKey}),mockOptions:t,operationId:r,tags:n,context:s});if(e.allOf||e.oneOf||e.anyOf)return _n({item:e,items:e.allOf||e.oneOf||e.anyOf,isOneOf:!!(e.oneOf||e.anyOf),mockOptions:t,operationId:r,tags:n,combine:o,context:s});if(e.properties){let i=o?"":"{",a=[],p=[];return i+=(await Promise.all(Object.entries(e.properties).map(async([c,l])=>{if(o==null?void 0:o.properties.includes(c))return;let u=(t==null?void 0:t.required)||(Array.isArray(e.required)?e.required:[]).includes(c);if(Ln(e.path,`\\.${c}\\.`)>=1)return;let f=await he({schema:S(O({},l),{name:c,path:e.path?`${e.path}.${c}`:`#.${c}`,specKey:e.specKey}),mockOptions:t,operationId:r,tags:n,context:s});a=[...a,...f.imports],p=[...p,c];let g=Ce(c);return!u&&!f.overrided?`${g}: faker.helpers.randomize([${f.value}, undefined])`:`${g}: ${f.value}`}))).filter(Boolean).join(", "),i+=o?"":"}",{value:i,imports:a,name:e.name,properties:p}}if(e.additionalProperties){if(L(e.additionalProperties))return{value:"{}",imports:[],name:e.name};let i=await he({schema:S(O({},e.additionalProperties),{name:e.name,path:e.path?`${e.path}.#`:"#",specKey:e.specKey}),mockOptions:t,operationId:r,tags:n,context:s});return S(O({},i),{value:`{
        '${_cuid2.default.call(void 0, )}': ${i.value}
      }`})}return{value:"{}",imports:[],name:e.name}};var _e=async({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})=>{var u,f;let i=wt((f=(u=t==null?void 0:t.operations)==null?void 0:u[r])==null?void 0:f.properties,e);if(i)return i;let a=Object.entries((t==null?void 0:t.tags)||{}).reduce((g,[h,d])=>n.includes(h)?je(g,d):g,{}),p=wt(a==null?void 0:a.properties,e);if(p)return p;let c=wt(t==null?void 0:t.properties,e);if(c)return c;let l=O(O({},Kn),(t==null?void 0:t.format)||{});if(e.format&&l[e.format])return{value:He(l[e.format],e.nullable),imports:[],name:e.name,overrided:!1};switch(e.type){case"number":case"integer":return{value:He("faker.datatype.number()",e.nullable),imports:[],name:e.name};case"boolean":return{value:"faker.datatype.boolean()",imports:[],name:e.name};case"array":{if(!e.items)return{value:[],imports:[],name:e.name};let{value:g,enums:h,imports:d,name:y}=await he({schema:S(O({},e.items),{name:e.name,path:e.path?`${e.path}.[]`:"#.[]",specKey:e.specKey}),combine:o,mockOptions:t,operationId:r,tags:n,context:s});return h?{value:`[...Array(faker.datatype.number({min:1, max: ${h.length}}))].reduce(({values, enums}) => {
            const newValue = enums[faker.datatype.number({min:1, max: enums.length})];
            return {
              values: [...values, newValue],
              enums: enums.filter((v: ${y}) => newValue !== v)
            }
          },{ values: [], enums: Object.values(${y})})`,imports:d,name:e.name}:{value:`[...Array(faker.datatype.number({min: 1, max: 10}))].map(() => (${g}))`,imports:d,name:e.name}}case"string":{let g="faker.random.word()",h=[];if(e.enum){let d="['"+e.enum.map(y=>ht(y)).join("','")+"']";e.isRef&&(d=`Object.values(${e.name})`,h=[{name:e.name,values:!0}]),g=`faker.helpers.randomize(${d})`}return{value:He(g,e.nullable),enums:e.enum,name:e.name,imports:h}}case"object":default:return Hn({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})}};var Rt=(e,t)=>Object.entries(W(e)?e(t):e).reduce((r,[n,o])=>{let s=W(o)?`(${o})()`:Z(o);return r[n]=s==null?void 0:s.replace(/import_faker.defaults|import_faker.faker/g,"faker"),r},{}),Xa=(e,t)=>{var r,n,o;return O(O(O(O({required:(r=t==null?void 0:t.mock)==null?void 0:r.required},((n=t==null?void 0:t.mock)==null?void 0:n.properties)?{properties:Rt(t.mock.properties,e)}:{}),((o=t==null?void 0:t.mock)==null?void 0:o.format)?{format:Rt(t.mock.format,e)}:{}),(t==null?void 0:t.operations)?{operations:Object.entries(t.operations).reduce((s,[i,a])=>{var p;return((p=a.mock)==null?void 0:p.properties)&&(s[i]={properties:Rt(a.mock.properties,e)}),s},{})}:{}),(t==null?void 0:t.tags)?{tags:Object.entries(t.tags).reduce((s,[i,a])=>{var p;return((p=a.mock)==null?void 0:p.properties)&&(s[i]={properties:Rt(a.mock.properties,e)}),s},{})}:{})},Za=e=>{let t=e.endsWith("[]");switch(t?e.slice(0,-2):e){case"number":return t?"Array.from({length: faker.datatype.number({min: 1, max: 10})}, () => faker.datatype.number())":"faker.datatype.number().toString()";case"string":return t?"Array.from({length: faker.datatype.number({min: 1, max: 10})}, () => faker.random.word())":"faker.random.word()";default:return"undefined"}},ep=({operationId:e,tags:t,response:r,mockOptionsWithoutFunc:n,transformer:o,context:s})=>v(r.types.success,async(i,{value:a,originalSchema:p})=>{if(!a||Ae.includes(a)){let u=Za(a);return i.definitions.push(o?o(u,r.definition.success):u),i}if(!p)return i;let c=await N(p,s),l=await _e({item:O(O({name:a},c.schema),r.imports.length?{specKey:r.imports[0].specKey}:{}),mockOptions:n,operationId:e,tags:t,context:s});return i.imports.push(...l.imports),i.definitions.push(o?o(l.value,r.definition.success):l.value.toString()),i},{definitions:[],imports:[]}),Yn=async({operationId:e,tags:t,response:r,override:n,transformer:o,context:s})=>{let i=Xa(s.specs[s.specKey],n),{definitions:a,imports:p}=await ep({operationId:e,tags:t,response:r,mockOptionsWithoutFunc:i,transformer:o,context:s});return{definition:"["+a.join(", ")+"]",definitions:a,imports:p}},Jn=(e,t)=>{var o,s,i;let r=(i=(s=(o=t==null?void 0:t.operations)==null?void 0:o[e])==null?void 0:s.mock)==null?void 0:i.data,n=W(r)?`(${r})()`:Z(r);return n==null?void 0:n.replace(/import_faker.defaults|import_faker.faker/g,"faker")};var tp=e=>e.split("").reduce((t,r)=>r==="{"?t+":":r==="}"?t+"":t+B(r),""),rp=(e,t="*")=>e.split("/").reduce((n,o)=>o?o.includes("{")?`${n}/${tp(o)}`:`${n}/${o}`:n,t),np=[{exports:[{name:"rest",values:!0}],dependency:"msw"},{exports:[{name:"faker",values:!0}],dependency:"@faker-js/faker"}],be=(e,t,r,n,o)=>xt(e,[...np,...t],r,n,o),Xn=async({operationId:e,response:t,verb:r,tags:n},{pathRoute:o,override:s,context:i})=>{var h;let{definitions:a,definition:p,imports:c}=await Yn({operationId:e,tags:n,response:t,override:s,context:i}),l=rp(o,(h=s==null?void 0:s.mock)==null?void 0:h.baseUrl),u=Jn(e,s),f="";u?f=u:a.length>1?f=`faker.helpers.randomize(${p})`:a[0]&&(f=a[0]);let g=t.contentTypes.includes("text/plain")?"text":"json";return{implementation:{function:f&&f!=="undefined"?`export const get${$(e)}Mock = () => (${f})

`:"",handler:`rest.${r}('${l}', (_req, res, ctx) => {
        return res(
          ctx.delay(1000),
          ctx.status(200, 'Mocked status'),${f&&f!=="undefined"?`
ctx.${g}(get${$(e)}Mock()),`:""}
        )
      }),`},imports:c}};m();var _lodashomitby = require('lodash.omitby'); var _lodashomitby2 = _interopRequireDefault(_lodashomitby);m();var oe={PARAM:"param",BODY:"body",QUERY_PARAM:"queryParam"};var or=[{exports:[{name:"axios",default:!0,values:!0,syntheticDefaultImport:!0},{name:"AxiosRequestConfig"},{name:"AxiosResponse"},{name:"AxiosError"}],dependency:"axios"}],sp=[{exports:[{name:"useQuery",values:!0},{name:"useInfiniteQuery",values:!0},{name:"useMutation",values:!0},{name:"UseQueryOptions"},{name:"UseInfiniteQueryOptions"},{name:"UseMutationOptions"},{name:"QueryFunction"},{name:"MutationFunction"},{name:"UseQueryStoreResult"},{name:"UseInfiniteQueryStoreResult"},{name:"QueryKey"}],dependency:"@sveltestack/svelte-query"}],Zn=e=>[...e?[]:or,...sp],ip=[{exports:[{name:"useQuery",values:!0},{name:"useInfiniteQuery",values:!0},{name:"useMutation",values:!0},{name:"UseQueryOptions"},{name:"UseInfiniteQueryOptions"},{name:"UseMutationOptions"},{name:"QueryFunction"},{name:"MutationFunction"},{name:"UseQueryResult"},{name:"UseInfiniteQueryResult"},{name:"QueryKey"}],dependency:"react-query"}],eo=e=>[...e?[]:or,...ip],ap=[{exports:[{name:"useQuery",values:!0},{name:"useInfiniteQuery",values:!0},{name:"useMutation",values:!0}],dependency:"vue-query"},{exports:[{name:"UseQueryOptions"},{name:"UseInfiniteQueryOptions"},{name:"UseMutationOptions"},{name:"QueryFunction"},{name:"MutationFunction"},{name:"UseQueryResult"},{name:"UseInfiniteQueryResult"},{name:"QueryKey"}],dependency:"vue-query/types"}],to=e=>[...e?[]:or,...ap],pp=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:i,formData:a,formUrlEncoded:p,override:c},{route:l,context:u})=>{let f=(c==null?void 0:c.requestOptions)!==!1,g=(c==null?void 0:c.formData)!==!1,h=(c==null?void 0:c.formUrlEncoded)!==!1,d=H(u.tsconfig),y=ye({formData:a,formUrlEncoded:p,body:o,isFormData:g,isFormUrlEncoded:h});if(n){let w=ge({route:l,body:o,queryParams:e,response:r,verb:i,isFormData:g,isFormUrlEncoded:h}),P=(n==null?void 0:n.bodyTypeName)?z(s,"implementation").replace(new RegExp(`(${i}\\w*):\\s?(\\w*)`),`$1: ${n.bodyTypeName}<$2>`).replace(new RegExp("(\\w*Body):\\s?(\\w*)"),`$1: ${n.bodyTypeName}<$2>`):z(s,"implementation"),M=f?de(c==null?void 0:c.requestOptions,n.hasSecondArg):"";return n.isHook?`export const use${$(t)}Hook = () => {
        const ${t} = ${n.name}<${r.definition.success||"unknown"}>();

        return (
    ${P}
 ${f&&n.hasSecondArg?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${y}
        return ${t}(
          ${w},
          ${M});
        }
      }
    `:`export const ${t} = (
    ${P}
 ${f&&n.hasSecondArg?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${y}
      return ${n.name}<${r.definition.success||"unknown"}>(
      ${w},
      ${M});
    }
  `}let x=fe({route:l,body:o,queryParams:e,response:r,verb:i,requestOptions:c==null?void 0:c.requestOptions,isFormData:g,isFormUrlEncoded:h});return`export const ${t} = (
    ${z(s,"implementation")} ${f?`options?: AxiosRequestConfig
`:""} ): Promise<AxiosResponse<${r.definition.success||"unknown"}>> => {${y}
    return axios${d?"":".default"}.${i}(${x});
  }
`},nr={INFINITE:"infiniteQuery",QUERY:"query"},mp=["getNextPageParam","getPreviousPageParam"],cp=({params:e,options:t,type:r})=>{var o;if(t===!1)return"";let n=D(t)?` ${(o=Z(_lodashomitby2.default.call(void 0, t,(s,i)=>!!(r!==nr.INFINITE&&mp.includes(i)))))==null?void 0:o.slice(1,-1)}`:"";return e.length?`{${!D(t)||!t.hasOwnProperty("enabled")?`enabled: !!(${e.map(({name:s})=>s).join(" && ")}),`:""}${n} ...queryOptions}`:t?`{${n} ...queryOptions}`:"queryOptions"},ro=({operationName:e,definitions:t,mutator:r,isRequestOptions:n,type:o})=>{let s=r==null?void 0:r.isHook,i=o?`Use${$(o)}Options<AsyncReturnType<${s?`ReturnType<typeof use${$(e)}Hook>`:`typeof ${e}`}>, TError, TData>`:`UseMutationOptions<AsyncReturnType<${s?`ReturnType<typeof use${$(e)}Hook>`:`typeof ${e}`}>, TError,${t?`{${t}}`:"TVariables"}, TContext>`;return n?`options?: { ${o?"query":"mutation"}?:${i}, ${r?(r==null?void 0:r.hasSecondArg)?`request?: SecondParameter<typeof ${r.name}>`:"":"axios?: AxiosRequestConfig"}}
`:`${o?"queryOptions":"mutationOptions"}?: ${i}`},lp=({queryOption:{name:e,queryParam:t,options:r,type:n},operationName:o,queryProps:s,queryKeyFnName:i,properties:a,params:p,props:c,mutator:l,isRequestOptions:u,response:f,outputClient:g})=>{let h=t?c.map(({name:w})=>w==="params"?`{ ${t}: pageParam, ...params }`:w).join(","):a,d=g!==Q.SVELTE_QUERY?` Use${$(n)}Result<TData, TError>`:`Use${$(n)}StoreResult<AsyncReturnType<${(l==null?void 0:l.isHook)?`ReturnType<typeof use${$(o)}Hook>`:`typeof ${o}`}>, TError, TData, QueryKey>`,y=`AxiosError<${f.definition.errors||"unknown"}>`;l&&(y=l.hasErrorType?`${l.default?$(o):""}ErrorType<${f.definition.errors||"unknown"}>`:f.definition.errors||"unknown");let x=(l==null?void 0:l.isHook)?`ReturnType<typeof use${$(o)}Hook>`:`typeof ${o}`;return`
export type ${$(e)}QueryResult = NonNullable<AsyncReturnType<${x}>>
export type ${$(e)}QueryError = ${y}

export const ${R(`use-${e}`)} = <TData = AsyncReturnType<${x}>, TError = ${y}>(
 ${s} ${ro({operationName:o,definitions:"",mutator:l,isRequestOptions:u,type:n})}
  ): ${d} & { queryKey: QueryKey } => {

  ${u?`const {query: queryOptions${l?l.hasSecondArg?", request: requestOptions":"":", axios: axiosOptions"}} = options || {}`:""}

  const queryKey = queryOptions?.queryKey ?? ${i}(${a});

  ${(l==null?void 0:l.isHook)?`const ${o} =  use${$(o)}Hook()`:""}

  const queryFn: QueryFunction<AsyncReturnType<${(l==null?void 0:l.isHook)?`ReturnType<typeof use${$(o)}Hook>`:`typeof ${o}`}>> = (${t&&c.some(({type:w})=>w==="queryParam")?"{ pageParam }":""}) => ${o}(${h}${h?", ":""}${u?l?l.hasSecondArg?"requestOptions":"":"axiosOptions":""});

  const query = ${R(`use-${n}`)}<AsyncReturnType<${(l==null?void 0:l.isHook)?`ReturnType<typeof use${$(o)}Hook>`:`typeof ${o}`}>, TError, TData>(queryKey, queryFn, ${cp({params:p,options:r,type:n})})

  return {
    queryKey,
    ...query
  }
}
`},up=({queryParams:e,operationName:t,body:r,props:n,verb:o,params:s,override:i,mutator:a,response:p,operationId:c},{route:l,override:{operations:u={}}},f)=>{var M;let g=i==null?void 0:i.query,h=(i==null?void 0:i.requestOptions)!==!1,d=(M=u[c])==null?void 0:M.query;if(o===J.GET||(d==null?void 0:d.useInfinite)||(d==null?void 0:d.useQuery)){let T=n.map(({name:te,type:re})=>re===oe.BODY?r.implementation:te).join(","),C=[...(g==null?void 0:g.useInfinite)?[{name:R(`${t}-infinite`),options:g==null?void 0:g.options,type:nr.INFINITE,queryParam:g==null?void 0:g.useInfiniteQueryParam}]:[],...!(g==null?void 0:g.useQuery)&&!(g==null?void 0:g.useInfinite)||(g==null?void 0:g.useQuery)?[{name:t,options:g==null?void 0:g.options,type:nr.QUERY}]:[]],I=R(`get-${t}-queryKey`),k=z(n,"implementation");return`export const ${I} = (${k}) => [\`${l}\`${e?", ...(params ? [params]: [])":""}${r.implementation?`, ${r.implementation}`:""}];

    ${C.reduce((te,re)=>te+lp({queryOption:re,operationName:t,queryProps:k,queryKeyFnName:I,properties:T,params:s,props:n,mutator:a,isRequestOptions:h,response:p,outputClient:f}),"")}
`}let y=n.map(({definition:T,type:C})=>C===oe.BODY?(a==null?void 0:a.bodyTypeName)?`data: ${a.bodyTypeName}<${r.definition}>`:`data: ${r.definition}`:T).join(";"),x=n.map(({name:T,type:C})=>C===oe.BODY?"data":T).join(","),w=`AxiosError<${p.definition.errors||"unknown"}>`;a&&(w=a.hasErrorType?`${a.default?$(t):""}ErrorType<${p.definition.errors||"unknown"}>`:p.definition.errors||"unknown");let P=(a==null?void 0:a.isHook)?`ReturnType<typeof use${$(t)}Hook>`:`typeof ${t}`;return`
    export type ${$(t)}MutationResult = NonNullable<AsyncReturnType<${P}>>
    export type ${$(t)}MutationBody = ${y.replace(/^.*data:\s?([\w<>]*),?.*$/,"$1")}
    export type ${$(t)}MutationError = ${w}

    export const ${R(`use-${t}`)} = <TError = ${w},
    ${y?"":"TVariables = void,"}
    TContext = unknown>(${ro({operationName:t,definitions:y,mutator:a,isRequestOptions:h})}) => {
      ${h?`const {mutation: mutationOptions${a?(a==null?void 0:a.hasSecondArg)?", request: requestOptions":"":", axios: axiosOptions"}} = options || {}`:""}

      ${(a==null?void 0:a.isHook)?`const ${t} =  use${$(t)}Hook()`:""}


      const mutationFn: MutationFunction<AsyncReturnType<${P}>, ${y?`{${y}}`:"TVariables"}> = (${x?"props":""}) => {
          ${x?`const {${x}} = props || {}`:""};

          return  ${t}(${x}${x?",":""}${h?a?(a==null?void 0:a.hasSecondArg)?"requestOptions":"":"axiosOptions":""})
        }

      return useMutation<AsyncReturnType<typeof ${t}>, TError, ${y?`{${y}}`:"TVariables"}, TContext>(mutationFn, mutationOptions)
    }
    `},jt=()=>"",Tt=({isRequestOptions:e,isMutator:t})=>`// eslint-disable-next-line @typescript-eslint/no-explicit-any
type AsyncReturnType<
T extends (...args: any) => Promise<any>
> = T extends (...args: any) => Promise<infer R> ? R : any;


${e&&t?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
  type SecondParameter<T extends (...args: any) => any> = T extends (
  config: any,
  args: infer P,
) => any
  ? P
  : never;

`:""}`,Pt=()=>"",vt=(e,t,r)=>{let n=ue(e),o=pp(e,t),s=up(e,t,r);return{implementation:`${o}

${s}`,imports:n}};m();var fp=[{exports:[{name:"axios",default:!0,values:!0,syntheticDefaultImport:!0},{name:"AxiosRequestConfig"},{name:"AxiosResponse"},{name:"AxiosError"}],dependency:"axios"}],gp=[{exports:[{name:"useSwr",values:!0,default:!0},{name:"SWRConfiguration"},{name:"Key"}],dependency:"swr"}],no=e=>[...e?[]:fp,...gp],dp=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:i,formData:a,formUrlEncoded:p,override:c},{route:l,context:u})=>{let f=(c==null?void 0:c.requestOptions)!==!1,g=(c==null?void 0:c.formData)!==!1,h=(c==null?void 0:c.formUrlEncoded)!==!1,d=H(u.tsconfig),y=ye({formData:a,formUrlEncoded:p,body:o,isFormData:g,isFormUrlEncoded:h});if(n){let w=ge({route:l,body:o,queryParams:e,response:r,verb:i,isFormData:g,isFormUrlEncoded:h}),P=f?de(c==null?void 0:c.requestOptions,n.hasSecondArg):"";return`export const ${t} = (
    ${z(s,"implementation")}
 ${f&&n.hasSecondArg?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${y}
      return ${n.name}<${r.definition.success||"unknown"}>(
      ${w},
      ${P});
    }
  `}let x=fe({route:l,body:o,queryParams:e,response:r,verb:i,requestOptions:c==null?void 0:c.requestOptions,isFormData:g,isFormUrlEncoded:h});return`export const ${t} = (
    ${z(s,"implementation")} ${f?`options?: AxiosRequestConfig
`:""} ): Promise<AxiosResponse<${r.definition.success||"unknown"}>> => {${y}
    return axios${d?"":".default"}.${i}(${x});
  }
`},yp=({operationName:e,mutator:t,isRequestOptions:r})=>{let n=`SWRConfiguration<AsyncReturnType<typeof ${e}>, TError> & {swrKey: Key}`;return r?`options?: { swr?:${n}, ${t?(t==null?void 0:t.hasSecondArg)?`request?: SecondParameter<typeof ${t.name}>`:"":"axios?: AxiosRequestConfig"} }
`:`swrOptions?: ${n}`},hp=({operationName:e,swrProps:t,swrKeyFnName:r,properties:n,params:o,mutator:s,isRequestOptions:i,response:a})=>{let p=n,c=o.length?`const isEnable = !!(${o.map(({name:u})=>u).join(" && ")})
  const swrKey = swrOptions?.swrKey ?? (() => isEnable ? ${r}(${n}) : null);`:`const swrKey = swrOptions?.swrKey ?? (() => ${r}(${n}))`,l=`AxiosError<${a.definition.errors||"unknown"}>`;return s&&(l=s.hasErrorType?`ErrorType<${a.definition.errors||"unknown"}>`:a.definition.errors||"unknown"),`
export type ${$(e)}QueryResult = NonNullable<AsyncReturnType<typeof ${e}>>
export type ${$(e)}QueryError = ${l}

export const ${R(`use-${e}`)} = <TError = ${l}>(
 ${t} ${yp({operationName:e,mutator:s,isRequestOptions:i})}
  ) => {

  ${i?`const {swr: swrOptions${s?(s==null?void 0:s.hasSecondArg)?", request: requestOptions":"":", axios: axiosOptions"}} = options || {}`:""}

  ${c}
  const swrFn = () => ${e}(${p}${p?", ":""}${i?s?(s==null?void 0:s.hasSecondArg)?"requestOptions":"":"axiosOptions":""});

  const query = useSwr<AsyncReturnType<typeof swrFn>, TError>(swrKey, swrFn, swrOptions)

  return {
    swrKey,
    ...query
  }
}
`},bp=({queryParams:e,operationName:t,body:r,props:n,verb:o,params:s,override:i,mutator:a,response:p},{route:c})=>{let l=(i==null?void 0:i.requestOptions)!==!1;if(o!==J.GET)return"";let u=n.map(({name:h,type:d})=>d===oe.BODY?r.implementation:h).join(","),f=R(`get-${t}-key`),g=z(n,"implementation");return`export const ${f} = (${g}) => [\`${c}\`${e?", ...(params ? [params]: [])":""}${r.implementation?`, ${r.implementation}`:""}];

    ${hp({operationName:t,swrProps:g,swrKeyFnName:f,properties:u,params:s,props:n,mutator:a,isRequestOptions:l,response:p})}
`},oo=()=>"",so=({isRequestOptions:e,isMutator:t})=>`// eslint-disable-next-line @typescript-eslint/no-explicit-any
type AsyncReturnType<
T extends (...args: any) => Promise<any>
> = T extends (...args: any) => Promise<infer R> ? R : any;


${e&&t?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
  type SecondParameter<T extends (...args: any) => any> = T extends (
  config: any,
  args: infer P,
) => any
  ? P
  : never;

`:""}`,io=()=>"",ao=(e,t)=>{let r=ue(e),n=dp(e,t),o=bp(e,t);return{implementation:`${n}

${o}`,imports:r}};var Ye=Q.AXIOS,po={axios:{client:rr,header:er,dependencies:Xt,footer:tr,title:Zt},"axios-functions":{client:(e,t)=>{let{implementation:r,imports:n}=rr(e,t);return{implementation:"export "+r,imports:n}},header:e=>er(S(O({},e),{noFunction:!0})),dependencies:Xt,footer:e=>tr(S(O({},e),{noFunction:!0})),title:Zt},angular:{client:zn,header:Wn,dependencies:Vn,footer:Bn,title:Un},"react-query":{client:vt,header:Tt,dependencies:eo,footer:Pt,title:jt},"svelte-query":{client:vt,header:Tt,dependencies:Zn,footer:Pt,title:jt},"vue-query":{client:vt,header:Tt,dependencies:to,footer:Pt,title:jt},swr:{client:ao,header:so,dependencies:no,footer:io,title:oo}},Je=e=>{let t=W(e)?e(po):po[e];if(!t)throw`Oups... \u{1F37B}. Client not found: ${e}`;return t},Oe=(e=Ye,t,r,n,o,s,i)=>{let{dependencies:a}=Je(e);return xt(t,[...a(i),...r],n,o,s)},Et=({outputClient:e=Ye,isRequestOptions:t,title:r,customTitleFunc:n,isGlobalMutator:o,isMutator:s,provideInRoot:i,provideIn:a})=>{let p=mo(e,r,n),{header:c}=Je(e);return{implementation:c({title:p.implementation,isRequestOptions:t,isGlobalMutator:o,isMutator:s,provideInRoot:i,provideIn:a}),implementationMSW:`export const ${p.implementationMSW} = () => [
`}},Mt=({outputClient:e=Ye,operationNames:t,title:r,customTitleFunc:n})=>{let o=mo(e,r,n),{footer:s}=Je(e),i;try{W(e)?(i=s(t),console.warn("[WARN] Passing an array of strings for operations names to the footer function is deprecated and will be removed in a future major release. Please pass them in an object instead: { operationNames: string[] }.")):i=s({operationNames:t,title:o.implementation})}catch (e7){i=s({operationNames:t,title:o.implementation})}return{implementation:i,implementationMSW:`]
`}},mo=(e=Ye,t,r)=>{let{title:n}=Je(e);if(r){let o=r(t);return{implementation:n(o),implementationMSW:`get${$(o)}MSW`}}return{implementation:n(t),implementationMSW:`get${$(t)}MSW`}},Op=async(e,t)=>t.mock?W(t.mock)?t.mock(e,t):Xn(e,t):{implementation:{function:"",handler:""},imports:[]},co=(e=Ye,t,r)=>v(t,async(n,o)=>{let{client:s}=Je(e),i=s(o,r,e),a=await Op(o,r);return n[o.operationId]={implementation:o.doc+i.implementation,imports:i.imports,implementationMSW:a.implementation,importsMSW:a.imports,tags:o.tags,mutator:o.mutator,formData:o.formData,formUrlEncoded:o.formUrlEncoded,operationName:o.operationName},n},{});m();m();var $p="\\*/",lo="*\\/",uo=new RegExp($p,"g");function U({description:e,deprecated:t,summary:r},n=!1){let o=(Array.isArray(e)?e:[e||""]).map(p=>p.replace(uo,lo)),s=[e,t,r].reduce((p,c)=>c?p+1:p,0);if(!s)return"";let i=s===1&&n,a="/**";return e&&(i||(a+=`
${n?"  ":""} *`),a+=` ${o.join(`
 * `)}`),t&&(i||(a+=`
${n?"  ":""} *`),a+=" @deprecated"),r&&(i||(a+=`
${n?"  ":""} *`),a+=` @summary ${r.replace(uo,lo)}`),a+=i?" ":`
 ${n?"  ":""}`,a+=`*/
`,a}m();m();var _lodashuniqby = require('lodash.uniqby'); var _lodashuniqby2 = _interopRequireDefault(_lodashuniqby);m();var Xe=async(e,t,r,n)=>{let{schema:o,imports:s}=await N(t,r),i=A(t)?s[0].name:e,a=n?"formUrlEncoded":"formData",p=n?`const ${a} = new URLSearchParams();
`:`const ${a} = new FormData();
`;if(o.type==="object"&&o.properties){let c=await v(Object.entries(o.properties),async(l,[u,f])=>{var d;let{schema:g}=await N(f,r),h="";return g.type==="object"||g.type==="array"?h=`${a}.append('${u}', JSON.stringify(${R(i)}${u.includes("-")?`['${u}']`:`.${u}`}))
`:g.type==="number"||g.type==="integer"||g.type==="boolean"?h=`${a}.append('${u}', ${R(i)}${u.includes("-")?`['${u}']`:`.${u}`}.toString())
`:h=`${a}.append('${u}', ${R(i)}${u.includes("-")?`['${u}']`:`.${u}`})
`,((d=o.required)==null?void 0:d.includes(u))?l+h:l+`if(${R(i)}${u.includes("-")?`['${u}']`:`.${u}`} !== undefined) {
 ${h} }
`},"");return`${p}${c}`}return o.type==="array"?`${p}${a}.append('data', JSON.stringify(${R(i)}))
`:o.type==="number"||o.type==="boolean"?`${p}${a}.append('data', ${R(i)}.toString())
`:`${p}${a}.append('data', ${R(i)})
`};m();m();var De=(e,t,r)=>{let n=`export type ${r} = ${e};
`,o=Gt(e,t,r);return n+=`

`,n+=`// eslint-disable-next-line @typescript-eslint/no-redeclare
`,n+=`export const ${r} = {
${o}};
`,n},Gt=(e,t,r)=>[...new Set(e.split(" | "))].reduce((n,o)=>{if(o==="null")return n;let s=t==="number",a=!Number.isNaN(Number(o.slice(1,-1)))||s?Sp(s?o.toString():o.slice(1,-1)):B(o,{underscore:"_",whitespace:"_",dash:"-"});return n+`  ${_esutils.keyword.isIdentifierNameES5(a)?a:`'${a}'`}: ${o} as ${r},
`},""),Sp=e=>e[0]==="-"?`NUMBER_MINUS_${e.slice(1)}`:e[0]==="+"?`NUMBER_PLUS_${e.slice(1)}`:`NUMBER_${e}`;m();m();m();var fo=async({schema:e,name:t,context:r})=>{if(e.items){let n=await se({schema:e.items,propName:t+"Item",context:r});return{value:`${n.value}[]`,imports:n.imports,schemas:n.schemas,isEnum:!1,type:"array",isRef:!1}}else throw new Error("All arrays must have an `items` key define")};m();m();var wp={allOf:"&",oneOf:"|",anyOf:"|"},It=async({name:e,items:t,separator:r,context:n,nullable:o})=>{let s=await v(t,async(p,c)=>{let l=e?e+$(r):void 0;l&&p.schemas.length&&(l=l+$(yt(p.schemas.length+1)));let u=await se({schema:c,propName:l,combined:!0,context:n});return p.values.push(u.value),p.imports.push(...u.imports),p.schemas.push(...u.schemas),p.isEnum.push(u.isEnum),p.types.push(u.type),p.isRef.push(u.isRef),p},{values:[],imports:[],schemas:[],isEnum:[],isRef:[],types:[]}),i=s.isEnum.every(p=>p),a=s.values.join(` ${i?"|":wp[r]} `);if(i&&e&&t.length>1){let p=`

// eslint-disable-next-line @typescript-eslint/no-redeclare
export const ${$(e)} = ${Rp(s,e)}`;return{value:`${a+o};`+p,imports:s.imports.map(c=>S(O({},c),{values:!0})),schemas:s.schemas,isEnum:!1,type:"object",isRef:!1}}return{value:a+o,imports:s.imports,schemas:s.schemas,isEnum:!1,type:"object",isRef:!1}},Rp=({values:e,isRef:t,types:r},n)=>e.length===1?t[0]?e[0]:`{${Gt(e[0],r[0],$(n))}}`:`{${e.map((s,i)=>t[i]?`...${s}`:Gt(s,r[i],$(n))).join(",")}}`;var go=async({item:e,name:t,context:r,nullable:n})=>{if(A(e)){let{name:o,specKey:s}=await Ee(e.$ref,r);return{value:o+n,imports:[{name:o,specKey:s}],schemas:[],isEnum:!1,type:"object",isRef:!0}}if(e.allOf)return It({items:e.properties?[...e.allOf,_lodashomit2.default.call(void 0, e,"allOf")]:e.allOf,name:t,separator:"allOf",context:r,nullable:n});if(e.oneOf)return It({items:e.properties?[...e.oneOf,_lodashomit2.default.call(void 0, e,"oneOf")]:e.oneOf,name:t,separator:"oneOf",context:r,nullable:n});if(e.anyOf)return It({items:e.properties?[...e.anyOf,_lodashomit2.default.call(void 0, e,"anyOf")]:e.anyOf,name:t,separator:"anyOf",context:r,nullable:n});if(e.properties&&Object.entries(e.properties).length>0)return v(Object.entries(e.properties),async(o,[s,i],a,p)=>{var d,y,x;let c=(Array.isArray(e.required)?e.required:[]).includes(s),l=t?$(t)+$(s):void 0;!!((x=(y=(d=r.specs[r.target])==null?void 0:d.components)==null?void 0:y.schemas)==null?void 0:x[l||""])&&(l=l+"Property");let f=await se({schema:i,propName:l,context:r}),g=e.readOnly||i.readOnly;a||(o.value+="{");let h=U(i,!0);if(o.imports.push(...f.imports),o.value+=`
  ${h?`${h}  `:""}${g?"readonly ":""}${Ce(s)}${c?"":"?"}: ${f.value};`,o.schemas.push(...f.schemas),p.length-1===a){if(e.additionalProperties)if(L(e.additionalProperties))o.value+=`
  [key: string]: any;
 }`;else{let w=await ne({schema:e.additionalProperties,name:t,context:r});o.value+=`
  [key: string]: ${w.value};
}`}else o.value+=`
}`;o.value+=n}return o},{imports:[],schemas:[],value:"",isEnum:!1,type:"object",isRef:!1,schema:{}});if(e.additionalProperties){if(L(e.additionalProperties))return{value:"{ [key: string]: any }"+n,imports:[],schemas:[],isEnum:!1,type:"object",isRef:!1};let o=await ne({schema:e.additionalProperties,name:t,context:r});return{value:`{[key: string]: ${o.value}}`+n,imports:o.imports||[],schemas:o.schemas||[],isEnum:!1,type:"object",isRef:!1}}return{value:e.type==="object"?"{ [key: string]: any }":"unknown"+n,imports:[],schemas:[],isEnum:!1,type:"object",isRef:!1}};var At=async({item:e,name:t,context:r})=>{let n=e.nullable?" | null":"";switch(!e.type&&e.items&&(e.type="array"),e.type){case"number":case"integer":{let i="number",a=!1;return e.enum&&(i=e.enum.join(" | "),a=!0),{value:i+n,isEnum:a,type:"number",schemas:[],imports:[],isRef:!1}}case"boolean":return{value:"boolean"+n,type:"boolean",isEnum:!1,schemas:[],imports:[],isRef:!1};case"array":{let o=await fo({schema:e,name:t,context:r}),{value:i}=o,a=xe(o,["value"]);return O({value:i+n},a)}case"string":{let i="string",a=!1;return e.enum&&(i=`'${e.enum.map(p=>q(p)?ht(p):p).filter(Boolean).join("' | '")}'`,a=!0),e.format==="binary"&&(i="Blob"),r.override.useDates&&(e.format==="date"||e.format==="date-time")&&(i="Date"),{value:i+n,isEnum:a,type:"string",imports:[],schemas:[],isRef:!1}}case"object":default:{let s=await go({item:e,name:t,context:r,nullable:n}),{value:i}=s,a=xe(s,["value"]);return O({value:i},a)}}};var ne=async({schema:e,name:t,context:r})=>{if(A(e)){let{schema:o,imports:s}=await N(e,r),{name:i,specKey:a,schemaName:p}=s[0],c=a||(r.specKey!==r.target?r.specKey:void 0);return{value:i,imports:[{name:i,specKey:c,schemaName:p}],type:(o==null?void 0:o.type)||"object",schemas:[],isEnum:!!(o==null?void 0:o.enum),originalSchema:o,isRef:!0}}let n=await At({item:e,name:t,context:r});return S(O({},n),{originalSchema:e,isRef:!1})};var se=async({schema:e,propName:t,combined:r=!1,context:n})=>{let o=await ne({schema:e,name:t,context:n}),s=U(o.originalSchema||{});if(t&&!o.isEnum&&(o==null?void 0:o.type)==="object"&&new RegExp(/{|&|\|/).test(o.value))return{value:t,imports:[{name:t}],schemas:[...o.schemas,{name:t,model:`${s}export type ${t} = ${o.value};
`,imports:o.imports}],isEnum:!1,type:"object",originalSchema:o.originalSchema,isRef:o.isRef};if(t&&o.isEnum&&!r&&!o.isRef){let i=De(o.value,o.type,t);return{value:t,imports:[{name:t}],schemas:[...o.schemas,{name:t,model:s+i,imports:o.imports}],isEnum:!1,type:"enum",originalSchema:o.originalSchema,isRef:o.isRef}}return o};var yo=["multipart/form-data"],ho=["application/x-www-form-urlencoded"],Tp=async({mediaType:e,propName:t,context:r})=>e.schema?await se({schema:e.schema,propName:t,context:r}):void 0,qe=async(e,t,r,n="unknown")=>{let o=await Promise.all(e.filter(([s,i])=>Boolean(i)).map(async([s,i])=>{if(A(i)){let{schema:a,imports:[{name:p,specKey:c,schemaName:l}]}=await N(i,r),[u,f]=Object.entries(a.content||{})[0]||[],g=yo.includes(u),h=ho.includes(u);if(!g&&!h||!(f==null?void 0:f.schema))return[{value:p,imports:[{name:p,specKey:c,schemaName:l}],schemas:[],type:"unknown",isEnum:!1,isRef:!0,originalSchema:f==null?void 0:f.schema,key:s,contentType:u}];let d=g?await Xe(p,f==null?void 0:f.schema,S(O({},r),{specKey:c||r.specKey})):void 0,y=h?await Xe(p,f==null?void 0:f.schema,S(O({},r),{specKey:c||r.specKey}),!0):void 0;return[{value:p,imports:[{name:p,specKey:c,schemaName:l}],schemas:[],type:"unknown",isEnum:!1,formData:d,formUrlEncoded:y,isRef:!0,originalSchema:f==null?void 0:f.schema,key:s,contentType:u}]}return i.content?(await Promise.all(Object.entries(i.content).map(async([p,c],l,u)=>{let f=s?$(t)+$(s):void 0;f&&u.length>1&&(f=f+$(yt(l+1)));let g=await Tp({mediaType:c,propName:f,context:r});if(!g)return;let h=yo.includes(p),d=ho.includes(p);if(!h&&!d||!f)return S(O({},g),{contentType:p});let y=h?await Xe(f,c.schema,r):void 0,x=d?await Xe(f,c.schema,r,!0):void 0;return S(O({},g),{formData:y,formUrlEncoded:x,contentType:p})}))).filter(p=>p).map(p=>S(O({},p),{key:s})):[{value:n,imports:[],schemas:[],type:n,isEnum:!1,key:s,isRef:!1,contentType:"application/json"}]}));return _lodashuniqby2.default.call(void 0, o.flatMap(s=>s),"value")};var bo=async(e,t,r)=>{let n=await qe([[r.override.components.requestBodies.suffix,e]],t,r),o=n.flatMap(({imports:l})=>l),s=n.flatMap(({schemas:l})=>l),i=n.map(({value:l})=>l).join(" | "),a=Ae.includes(i.toLowerCase())||n.length>1?R(t)+r.override.components.requestBodies.suffix:R(i),p=n.length===1?n[0].formData:void 0,c=n.length===1?n[0].formUrlEncoded:void 0;return{definition:i,implementation:a,imports:o,schemas:s,formData:p||"",formUrlEncoded:c||""}};m();var Oo=(e,t,r)=>e.operationId?e.operationId:$([r,...t.split("/").map(n=>B(n,{dash:!0,underscore:"-",dot:"-",whitespace:"-"}))].join("-"));m();var $o=async({parameters:e=[],context:t})=>v(e,async(r,n)=>{if(A(n)){let{schema:o,imports:s}=await N(n,t);(o.in==="path"||o.in==="query")&&r[o.in].push({parameter:o,imports:s})}else(n.in==="query"||n.in==="path")&&r[n.in].push({parameter:n,imports:[]});return r},{path:[],query:[]});m();var Pp=e=>{let t,r=[],n=/\{(.*?)\}/g;for(;(t=n.exec(e))!==null;)r.push(t[1]);return r},xo=({route:e,pathParams:t=[],operationId:r,context:n})=>{let o=Pp(e);return Promise.all(o.map(async s=>{let i=t.find(({parameter:h})=>R(B(h.name,{underscore:!0,dash:!0}))===s);if(!i)throw new Error(`The path params ${s} can't be found in parameters (${r})`);let{name:a,required:p=!1,schema:c}=i.parameter,l=B(R(a));if(!c)return{name:l,definition:`${l}${p?"":"?"}: unknown`,implementation:`${l}${p?"":"?"}: unknown`,default:!1,required:p,imports:[]};let u=await ne({schema:c,context:O(O({},n),i.imports.length?{specKey:i.imports[0].specKey}:{})}),f=`${l}${!p||u.originalSchema.default?"?":""}: ${u.value}`,g=`${l}${!p&&!u.originalSchema.default?"?":""}${u.originalSchema.default?`= ${Z(u.originalSchema.default)}`:`: ${u.value}`}`;return{name:l,definition:f,implementation:g,default:u.originalSchema.default,required:p,imports:u.imports}}))};m();m();var So=e=>e.sort((t,r)=>t.default?1:r.default?-1:t.required&&r.required?0:t.required?-1:r.required?1:0);var wo=({body:e,queryParams:t,params:r})=>{let n={name:e.implementation,definition:`${e.implementation}: ${e.definition}`,implementation:`${e.implementation}: ${e.definition}`,default:!1,required:!0,type:oe.BODY},o={name:"params",definition:`params?: ${t==null?void 0:t.name}`,implementation:`params?: ${t==null?void 0:t.name}`,default:!1,required:!1,type:oe.QUERY_PARAM},s=[...r.map(a=>S(O({},a),{type:oe.PARAM})),...e.definition?[n]:[],...t?[o]:[]];return So(s)};m();var vp=(e,t,r)=>Promise.all(e.map(async({parameter:n,imports:o})=>{let{name:s,required:i,schema:a,content:p}=n,{value:c,imports:l,isEnum:u,type:f,schemas:g,isRef:h}=await ne({schema:a||p["application/json"].schema,context:r,name:$(t)+$(s)}),d=Ce(s);if(o.length)return{definition:`${d}${!i||a.default?"?":""}: ${o[0].name}`,imports:o,schemas:[]};if(u&&!h){let x=$(t)+$(s),w=De(c,f,x);return{definition:`${d}${!i||a.default?"?":""}: ${x}`,imports:[{name:x}],schemas:[...g,{name:x,model:w,imports:l}]}}return{definition:`${d}${!i||a.default?"?":""}: ${c}`,imports:l,schemas:g}})),Ro=async({queryParams:e=[],operationName:t,context:r})=>{if(!e.length)return;let n=await vp(e,t,r),o=n.flatMap(({imports:c})=>c),s=n.flatMap(({schemas:c})=>c),i=`${$(t)}Params`,a=n.map(({definition:c})=>c).join("; ");return{schema:{name:i,model:`export type ${i} = { ${a} };
`,imports:o},deps:s}};m();var jo=async(e,t,r)=>{if(!e)return{imports:[],definition:{success:"",errors:""},isBlob:!1,types:{success:[],errors:[]},schemas:[],contentTypes:[]};let n=await qe(Object.entries(e),t,r,"void"),o=n.reduce((l,u)=>(u.key.startsWith("2")?l.success.push(u):l.errors.push(u),l),{success:[],errors:[]}),s=n.flatMap(({imports:l})=>l),i=n.flatMap(({schemas:l})=>l),a=[...new Set(n.map(({contentType:l})=>l))],p=o.success.map(({value:l,formData:u})=>u?"Blob":l).join(" | "),c=o.errors.map(({value:l})=>l).join(" | ");return{imports:s,definition:{success:p||"unknown",errors:c||"unknown"},isBlob:p==="Blob",types:o,contentTypes:a,schemas:i}};var Mp=async({verb:e,output:t,operation:r,route:n,verbParameters:o=[],context:s})=>{var Be;let{responses:i,requestBody:a,parameters:p,tags:c=[],deprecated:l,description:u,summary:f}=r,g=Oo(r,n,e),h=t.override.operations[r.operationId],d=Object.entries(t.override.tags).reduce((ze,[it,at])=>c.includes(it)?je(ze,at):ze,{}),y=O(O(O({},t.override),d),h),x=(h==null?void 0:h.operationName)||((Be=t.override)==null?void 0:Be.operationName),w=x?x(r,n,e):R(g),P=_esutils.keyword.isKeywordES5(w,!0)?`_${w}`:w,M=await jo(i,P,s),T=await bo(a,P,s),C=await $o({parameters:[...o,...p||[]],context:s}),I=await Ro({queryParams:C.query,operationName:P,context:s}),k=await xo({route:n,pathParams:C.path,operationId:g,context:s}),te=wo({body:T,queryParams:I==null?void 0:I.schema,params:k}),re=await $t({output:t.target,name:P,mutator:y==null?void 0:y.mutator,workspace:s.workspace,tsconfig:s.tsconfig}),ie=q(y==null?void 0:y.formData)||D(y==null?void 0:y.formData)?await $t({output:t.target,name:P,mutator:y.formData,workspace:s.workspace,tsconfig:s.tsconfig}):void 0,Pe=q(y==null?void 0:y.formUrlEncoded)||D(y==null?void 0:y.formUrlEncoded)?await $t({output:t.target,name:P,mutator:y.formUrlEncoded,workspace:s.workspace,tsconfig:s.tsconfig}):void 0,st=U({description:u,deprecated:l,summary:f}),Ue={verb:e,tags:c,summary:r.summary,operationId:g,operationName:P,response:M,body:T,queryParams:I,params:k,props:te,mutator:re,formData:ie,formUrlEncoded:Pe,override:y,doc:st},We=await dt(y==null?void 0:y.transformer,s.workspace);return We?We(Ue):Ue},To=({verbs:e,output:t,route:r,context:n})=>v(Object.entries(e),async(o,[s,i])=>{if(nn(s)){let a=await Mp({verb:s,output:t,verbParameters:e.parameters,route:r,operation:i,context:n});o.push(a)}return o},[]);var Po=async({output:e,context:t})=>v(Object.entries(t.specs[t.specKey].paths),async(r,[n,o])=>{let s=In(n),i=o,a=t;if(A(o)){let{schema:u,imports:f}=await N(o,t);i=u,a=O(O({},t),f.length?{specKey:f[0].specKey}:{})}let p=await To({verbs:i,output:e,route:s,context:a}),c=p.reduce((u,{queryParams:f,body:g,response:h})=>(f&&u.push(f.schema,...f.deps),u.push(...g.schemas),u.push(...h.schemas),u),[]),l=await co(e.client,p,{route:s,pathRoute:n,override:e.override,context:a,mock:!!e.mock});return r.schemas.push(...c),r.operations=O(O({},r.operations),l),r},{operations:{},schemas:[]});m();var Zs=Ke($r());var xr=(e={},t,r)=>(0,Zs.default)(e)?Promise.resolve([]):v(Object.entries(e),async(n,[o,s])=>{let i=await qe([[r,s]],o,t,"void"),a=i.flatMap(({imports:g})=>g),p=i.flatMap(({schemas:g})=>g),c=i.map(({value:g})=>g).join(" | "),l=`${$(o)}${r}`,f=`${U(s)}export type ${l} = ${c||"unknown"};
`;return n.push(...p),l!==c&&n.push({name:l,model:f,imports:a}),n},[]);m();var ei=(e={},t,r)=>v(Object.entries(e),async(n,[o,s])=>{let i=`${$(o)}${r}`,{schema:a,imports:p}=await N(s,t);if(a.in!=="query")return n;if(!a.schema||p.length)return n.push({name:i,imports:p.length?[{name:p[0].name,specKey:p[0].specKey,schemaName:p[0].schemaName}]:[],model:`export type ${i} = ${p.length?p[0].name:"unknown"};
`}),n;let c=await se({schema:a.schema,propName:i,context:t}),u=`${U(s)}export type ${i} = ${c.value||"unknown"};
`;return n.push(...c.schemas),i!==c.value&&n.push({name:i,model:u,imports:c.imports}),n},[]);m();var ri=Ke($r());m();var ti=async({name:e,schema:t,context:r,suffix:n})=>{let o=await At({item:t,name:e,context:r}),s=o.value==="{}",i="";i+=U(t),s&&(r.tslint?i+=`// tslint:disable-next-line:no-empty-interface
`:i+=`// eslint-disable-next-line @typescript-eslint/no-empty-interface
`),Ae.includes(o.value)?i+=`export type ${e} = ${o.value};
`:i+=`export interface ${e} ${o.value}
`;let a=o.imports.filter(p=>p.name!==e);return[...o.schemas,{name:e,model:i,imports:a}]};var ni=async(e={},t,r)=>(0,ri.default)(e)?[]:v(Object.entries(e),async(o,[s,i])=>{let a=$(s)+r;if((!i.type||i.type==="object")&&!i.allOf&&!i.oneOf&&!i.anyOf&&!A(i)&&!i.nullable)return o.push(...await ti({name:a,schema:i,context:t,suffix:r})),o;{let p=await ne({schema:i,name:a,context:t}),c="",l=p.imports;if(c+=U(i),p.isEnum&&!p.isRef)c+=De(p.value,p.type,a);else if(a===p.value&&p.isRef){let u=p.imports.find(f=>f.name===a);if(!u)c+=`export type ${a} = ${p.value};
`;else{let f=(u==null?void 0:u.specKey)?`${$(bt(u.specKey,t.specKey))}${p.value}`:`${p.value}Bis`;c+=`export type ${a} = ${f};
`,l=l.map(g=>g.name===a?S(O({},g),{alias:f}):g)}}else c+=`export type ${a} = ${p.value};
`;return o.push(...p.schemas,{name:a,model:c,imports:l}),o}},[]);m();var _ibmopenapivalidator = require('ibm-openapi-validator'); var _ibmopenapivalidator2 = _interopRequireDefault(_ibmopenapivalidator);var oi=async e=>{let{errors:t,warnings:r}=await _ibmopenapivalidator2.default.call(void 0, e);r.length&&cn(r),t.length&&ln(t)};var bl=async({specs:e,input:t,workspace:r})=>{var o;let n=((o=t.override)==null?void 0:o.transformer)?await dt(t.override.transformer,r):void 0;return v(Object.entries(e),async(s,[i,a])=>{let p=await En(a,t.converterOptions,i),c=n?n(p):p;return t.validation&&await oi(c),s[i]=c,s},{})},Sr=async({data:e,input:t,output:r,target:n,workspace:o})=>{let s=await bl({specs:e,input:t,workspace:o}),i=await v(Object.entries(s),async(p,[c,l])=>{var x,w,P,M,T;let u={specKey:c,target:n,workspace:o,specs:s,override:r.override,tslint:r.tslint,tsconfig:r.tsconfig},f=await ni(l.openapi?(w=l.components)==null?void 0:w.schemas:O(O({},_lodashomit2.default.call(void 0, l,["openapi","info","servers","paths","components","security","tags","externalDocs"])),((x=l.components)==null?void 0:x.schemas)||{}),u,r.override.components.schemas.suffix),g=await xr((P=l.components)==null?void 0:P.responses,u,r.override.components.responses.suffix),h=await xr((M=l.components)==null?void 0:M.requestBodies,u,r.override.components.requestBodies.suffix),d=await ei((T=l.components)==null?void 0:T.parameters,u,r.override.components.parameters.suffix),y=[...f,...g,...h,...d];return y.length&&(p[c]=y),p},{}),a=await Po({output:r,context:{specKey:n,target:n,workspace:o,specs:s,override:r.override,tslint:r.tslint,tsconfig:r.tsconfig}});return S(O({},a),{schemas:S(O({},i),{[n]:[...i[n]||[],...a.schemas]}),target:n,info:s[n].info})};var Sl=async(e,o,n)=>{var s=o,{validate:t}=s,r=xe(s,["validate"]);if(t)try{await _swaggerparser2.default.validate(e)}catch(a){if((a==null?void 0:a.name)==="ParserError")throw a;_console.log.call(void 0, `\u26A0\uFE0F  ${_chalk2.default.yellow(a)}`)}let i=(await _swaggerparser2.default.resolve(e,r)).values();return n?i:Object.fromEntries(Object.entries(i).map(([a,p])=>[_upath.resolve.call(void 0, a),p]))},ii=async(e,t)=>{let{input:r,output:n}=t;if(D(r.target))return Sr({data:{[e]:r.target},input:r,output:n,target:e,workspace:e});let o=ce(r.target),s=await Sl(r.target,r.parserOptions,o);return Sr({data:s,input:r,output:n,target:r.target,workspace:e})};m();var _execa = require('execa'); var _execa2 = _interopRequireDefault(_execa);m();var Pl=({schema:{imports:e,model:t},target:r,isRootKey:n,specsName:o,header:s})=>{let i=s;return i+=Fn({imports:e,target:r,isRootKey:n,specsName:o}),i+=e.length?`

`:`
`,i+=t,i},wr=(e,t)=>_upath.join.call(void 0, e,`/${t}.ts`);var vl=async({path:e,schema:t,target:r,isRootKey:n,specsName:o,header:s})=>{let i=R(t.name);try{await _fsextra.outputFile.call(void 0, wr(e,i),Pl({schema:t,target:r,isRootKey:n,specsName:o,header:s}));let a=wr(e,"index"),c=(await _fsextra.readFile.call(void 0, a)).toString();!c.includes(`export * from './${i}'`)&&!c.includes(`export * from "./${i}"`)&&await _fsextra.appendFile.call(void 0, wr(e,"index"),`export * from './${i}';
`)}catch(a){throw`Oups... \u{1F37B}. An Error occurred while writing schema ${i} => ${a}`}},pi=async({schemaPath:e,schemas:t,target:r,isRootKey:n,specsName:o,header:s})=>(await _fsextra.ensureFile.call(void 0, _upath.join.call(void 0, e,"/index.ts")),Promise.all(t.map(i=>vl({path:e,schema:i,target:r,isRootKey:n,specsName:o,header:s}))));m();m();var El=(e,t)=>e+`${t}
`,$e=e=>Object.values(e).flatMap(r=>r).sort((r,n)=>r.imports.some(o=>o.name===n.name)?1:-1).reduce((r,{model:n})=>El(r,n),"");m();var Dt=(e,t,r)=>{let n=Object.values(e).map(({operationName:i})=>i),o=(r==null?void 0:r.client)===Q.ANGULAR,s=Object.values(e).reduce((i,a,p,c)=>{if(i.imports.push(...a.imports),i.importsMSW.push(...a.importsMSW),i.implementation+=a.implementation+`
`,i.implementationMSW.function+=a.implementationMSW.function,i.implementationMSW.handler+=a.implementationMSW.handler,a.mutator&&i.mutators.push(a.mutator),a.formData&&i.formData.push(a.formData),a.formUrlEncoded&&i.formUrlEncoded.push(a.formUrlEncoded),p===c.length-1){let l=i.mutators.some(g=>o?g.hasThirdArg:g.hasSecondArg),u=Et({outputClient:r.client,isRequestOptions:r.override.requestOptions!==!1,isMutator:l,isGlobalMutator:!!r.override.mutator,title:$(t.title),customTitleFunc:r.override.title,provideInRoot:!!r.override.angular.provideIn,provideIn:r.override.angular.provideIn});i.implementation=u.implementation+i.implementation,i.implementationMSW.handler=u.implementationMSW+i.implementationMSW.handler;let f=Mt({outputClient:r==null?void 0:r.client,operationNames:n,title:$(t.title)});i.implementation+=f.implementation,i.implementationMSW.handler+=f.implementationMSW}return i},{imports:[],implementation:"",implementationMSW:{function:"",handler:""},importsMSW:[],mutators:[],formData:[],formUrlEncoded:[]});return S(O({},s),{implementationMSW:s.implementationMSW.function+s.implementationMSW.handler})};var mi=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{try{let{path:i,dirname:a}=E(n.target,{backupFilename:R(r.title)}),{imports:p,importsMSW:c,implementation:l,implementationMSW:u,mutators:f,formData:g,formUrlEncoded:h}=Dt(e,r,n),d=s,y=n.schemas?ee(a,E(n.schemas).dirname):void 0,x=H(n.tsconfig);return d+=Oe(n.client,l,y?[{exports:p,dependency:y}]:[],o,!!n.schemas,x,!!n.override.mutator),n.mock&&(d+=be(u,y?[{exports:c,dependency:y}]:[],o,!!n.schemas,x)),f&&(d+=V(f)),g&&(d+=V(g)),h&&(d+=V(h)),n.schemas||(d+=$e(t)),d+=`

${l}`,n.mock&&(d+=`

`,d+=u),await _fsextra.outputFile.call(void 0, i,d),[i]}catch(i){throw`Oups... \u{1F37B}. An Error occurred while writing file => ${i}`}};m();var ci=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{try{let{filename:i,dirname:a,extension:p}=E(n.target,{backupFilename:R(r.title)}),{imports:c,implementation:l,implementationMSW:u,importsMSW:f,mutators:g,formData:h,formUrlEncoded:d}=Dt(e,r,n),y=s,x=s,w=n.schemas?ee(a,E(n.schemas).dirname):"./"+i+".schemas",P=H(n.tsconfig);y+=Oe(n.client,l,[{exports:c,dependency:w}],o,!!n.schemas,P,!!n.override.mutator),x+=be(u,[{exports:f,dependency:w}],o,!!n.schemas,P);let M=n.schemas?void 0:_upath.join.call(void 0, a,i+".schemas"+p);if(M){let k=s+$e(t);await _fsextra.outputFile.call(void 0, _upath.join.call(void 0, a,i+".schemas"+p),k)}g&&(y+=V(g)),h&&(y+=V(h)),d&&(y+=V(d)),y+=`
${l}`,x+=`
${u}`;let T=i+(Q.ANGULAR===n.client?".service":"")+p,C=_upath.join.call(void 0, a,T);await _fsextra.outputFile.call(void 0, _upath.join.call(void 0, a,T),y);let I=n.mock?_upath.join.call(void 0, a,i+".msw"+p):void 0;return I&&await _fsextra.outputFile.call(void 0, I,x),[C,...M?[M]:[],...I?[I]:[]]}catch(i){throw`Oups... \u{1F37B}. An Error occurred while splitting => ${i}`}};m();m();var Gl=e=>S(O({},e),{tags:e.tags.length?e.tags:["default"]}),Il=(e,t)=>t.tags.reduce((r,n)=>{let o=r[n];return r[n]=o?{implementation:o.implementation+t.implementation,imports:[...o.imports,...t.imports],importsMSW:[...o.importsMSW,...t.importsMSW],implementationMSW:{function:o.implementationMSW.function+t.implementationMSW.function,handler:o.implementationMSW.handler+t.implementationMSW.handler},mutators:t.mutator?[...o.mutators||[],t.mutator]:o.mutators,formData:t.formData?[...o.formData||[],t.formData]:o.formData,formUrlEncoded:t.formUrlEncoded?[...o.formUrlEncoded||[],t.formUrlEncoded]:o.formUrlEncoded}:{imports:t.imports,importsMSW:t.importsMSW,mutators:t.mutator?[t.mutator]:[],formData:t.formData?[t.formData]:[],formUrlEncoded:t.formUrlEncoded?[t.formUrlEncoded]:[],implementation:t.implementation,implementationMSW:{function:t.implementationMSW.function,handler:t.implementationMSW.handler}},r},e),qt=(e,t)=>{let r=t.client===Q.ANGULAR,n=Object.values(e).map(Gl).reduce((o,s,i,a)=>{let p=Il(o,s);return i===a.length-1?Object.entries(p).reduce((c,[l,u])=>{var y;let f=!!((y=u.mutators)==null?void 0:y.some(x=>r?x.hasThirdArg:x.hasSecondArg)),g=Object.values(e).filter(({tags:x})=>x.includes(l)).map(({operationName:x})=>x),h=Mt({outputClient:t==null?void 0:t.client,operationNames:g,title:$(l)}),d=Et({outputClient:t.client,isRequestOptions:t.override.requestOptions!==!1,isMutator:f,isGlobalMutator:!!t.override.mutator,title:$(l),customTitleFunc:t.override.title,provideInRoot:!!t.override.angular.provideIn,provideIn:t.override.angular.provideIn});return c[l]={implementation:d.implementation+u.implementation+h.implementation,implementationMSW:{function:u.implementationMSW.function,handler:d.implementationMSW+u.implementationMSW.handler+h.implementationMSW},imports:u.imports,importsMSW:u.importsMSW,mutators:u.mutators,formData:u.formData,formUrlEncoded:u.formUrlEncoded},c},{}):p},{});return Object.entries(n).reduce((o,[s,i])=>(o[s]=S(O({},i),{implementationMSW:i.implementationMSW.function+i.implementationMSW.handler}),o),{})};var li=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{let{filename:i,dirname:a,extension:p}=E(n.target,{backupFilename:R(r.title)}),c=qt(e,n),l=H(n.tsconfig);return(await Promise.all(Object.entries(c).map(async([f,g])=>{try{let{imports:h,implementation:d,implementationMSW:y,importsMSW:x,mutators:w,formData:P,formUrlEncoded:M}=g,T=s,C=s,I=n.schemas?"../"+ee(a,E(n.schemas).dirname):"../"+i+".schemas";T+=Oe(n.client,d,[{exports:h,dependency:I}],o,!!n.schemas,l,!!n.override.mutator),C+=be(y,[{exports:x,dependency:I}],o,!!n.schemas,l);let k=n.schemas?void 0:_upath.join.call(void 0, a,i+".schemas"+p);if(k){let Pe=s+$e(t);await _fsextra.outputFile.call(void 0, k,Pe)}w&&(T+=V(w,!0)),P&&(T+=V(P,!0)),M&&(T+=V(M)),T+=`
${d}`,C+=`
${y}`;let te=Se(f)+(Q.ANGULAR===n.client?".service":"")+p,re=_upath.join.call(void 0, a,Se(f),te);await _fsextra.outputFile.call(void 0, re,T);let ie=n.mock?_upath.join.call(void 0, a,Se(f),Se(f)+".msw"+p):void 0;return ie&&await _fsextra.outputFile.call(void 0, ie,C),[re,...k?[k]:[],...ie?[ie]:[]]}catch(h){throw`Oups... \u{1F37B}. An Error occurred while splitting tag ${f} => ${h}`}}))).flatMap(f=>f)};m();var gi=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{let{filename:i,dirname:a,extension:p}=E(n.target,{backupFilename:R(r.title)}),c=qt(e,n),l=H(n.tsconfig);return(await Promise.all(Object.entries(c).map(async([f,g])=>{try{let{imports:h,implementation:d,implementationMSW:y,importsMSW:x,mutators:w,formData:P,formUrlEncoded:M}=g,T=s,C=n.schemas?ee(a,E(n.schemas).dirname):"./"+i+".schemas";T+=Oe(n.client,d,[{exports:h,dependency:C}],o,!!n.schemas,l,!!n.override.mutator),n.mock&&(T+=be(y,[{exports:x,dependency:C}],o,!!n.schemas,l));let I=n.schemas?void 0:_upath.join.call(void 0, a,i+".schemas"+p);if(I){let te=s+$e(t);await _fsextra.outputFile.call(void 0, I,te)}w&&(T+=V(w)),P&&(T+=V(P)),M&&(T+=V(M)),T+=`

`,T+=d,n.mock&&(T+=`

`,T+=y);let k=_upath.join.call(void 0, a,`${Se(f)}${p}`);return await _fsextra.outputFile.call(void 0, k,T),[k,...I?[I]:[]]}catch(h){throw`Oups... \u{1F37B}. An Error occurred while writing tag ${f} => ${h}`}}))).flatMap(f=>f)};var hi=async({operations:e,schemas:t,target:r,info:n},o,s,i)=>{let{output:a}=s,p=i||n.title,c=Object.keys(t).reduce((f,g)=>{let d=bt(g,r).slice(1).split("/").join("-");return f[g]=d,f},{}),l=a.override.header?U({description:a.override.header(n)}):"";if(a.schemas){let f=a.schemas;await Promise.all(Object.entries(t).map(([g,h])=>{let d=r===g,y=d?f:_upath.join.call(void 0, f,c[g]);return pi({schemaPath:y,schemas:h,target:r,specsName:c,isRootKey:d,header:l})}))}let u=[];if(a.target)switch(a.mode){case ae.SPLIT:u=await ci({workspace:o,operations:e,output:a,info:n,schemas:t,specsName:c,header:l});break;case ae.TAGS:u=await gi({workspace:o,operations:e,output:a,info:n,schemas:t,specsName:c,header:l});break;case ae.TAGS_SPLIT:u=await li({workspace:o,operations:e,output:a,info:n,schemas:t,specsName:c,header:l});break;case ae.SINGLE:default:u=await mi({workspace:o,operations:e,output:a,info:n,schemas:t,specsName:c,header:l});break}if(a.workspace){let f=a.workspace,g=u.filter(d=>!d.endsWith(".msw.ts")).map(d=>ee(f,E(d).pathWithoutExtension));a.schemas&&g.push(ee(f,E(a.schemas).dirname));let h=_upath.join.call(void 0, f,"/index.ts");if(await _fsextra.pathExists.call(void 0, h)){let d=await _fsextra.readFile.call(void 0, h,"utf8"),y=g.filter(x=>!d.includes(x));await _fsextra.appendFile.call(void 0, h,_lodashuniq2.default.call(void 0, y).map(x=>`export * from '${x}';`).join(`
`)+`
`)}else await _fsextra.outputFile.call(void 0, h,_lodashuniq2.default.call(void 0, g).map(d=>`export * from '${d}';`).join(`
`)+`
`);u=[h,...u]}if(a.prettier)try{await _execa2.default.call(void 0, "prettier",["--write",...a.schemas?[E(a.schemas).dirname]:[],...u])}catch (e8){_console.log.call(void 0, _chalk2.default.yellow(`\u26A0\uFE0F  ${p?`${p} - `:""}Prettier not found`))}mn(p)};m();var bi=e=>{pn(e),process.exit(1)};var $i=async(e,t,r)=>{if(t.output.clean){let o=Array.isArray(t.output.clean)?t.output.clean:[];t.output.target&&await Lt(["**/*","!**/*.d.ts",...o],E(t.output.target).dirname),t.output.schemas&&await Lt(["**/*","!**/*.d.ts",...o],E(t.output.schemas).dirname),F(`${r?`${r}: `:""}Cleaning output folder`)}let n=await ii(e,t);await hi(n,e,t,r)},xi=async(e,t,r)=>{if(r){let n=e[r];if(n)try{await $i(t,n,r)}catch(o){F(_chalk2.default.red(`\u{1F6D1}  ${r?`${r} - `:""}${o}`))}else bi("Project not found");return}return v(Object.entries(e),async(n,[o,s])=>{try{n.push(await $i(t,s,o))}catch(i){F(_chalk2.default.red(`\u{1F6D1}  ${o?`${o} - `:""}${i}`))}return n},[])},z$= exports.j =async(e,t)=>{let{path:r,file:n,error:o}=await ft(e,{defaultFileName:"orval.config"});if(!n)throw`failed to load from ${r} => ${o}`;let s=_upath.dirname.call(void 0, r),i=await(W(n)?n():n),a=await v(Object.entries(i),async(c,[l,u])=>(c[l]=await Pn(u,s,t),c),{}),p=Object.entries(a).filter(([c])=>(t==null?void 0:t.projectName)===void 0||c===(t==null?void 0:t.projectName)).map(([,{input:c}])=>c.target).filter(c=>q(c));(t==null?void 0:t.watch)&&p.length?vn(t==null?void 0:t.watch,()=>xi(a,s,t==null?void 0:t.projectName),p):await xi(a,s,t==null?void 0:t.projectName)};exports.a = Ft; exports.b = m; exports.c = q; exports.d = F; exports.e = Yl; exports.f = sf; exports.g = Pn; exports.h = vn; exports.i = $i; exports.j = z$;

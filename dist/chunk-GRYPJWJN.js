"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var di=Object.create;var it=Object.defineProperty,yi=Object.defineProperties,hi=Object.getOwnPropertyDescriptor,bi=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertyNames,at=Object.getOwnPropertySymbols,xi=Object.getPrototypeOf,It=Object.prototype.hasOwnProperty,Hr=Object.prototype.propertyIsEnumerable;var Yr=(e,t,r)=>t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O=(e,t)=>{for(var r in t||(t={}))It.call(t,r)&&Yr(e,r,t[r]);if(at)for(var r of at(t))Hr.call(t,r)&&Yr(e,r,t[r]);return e},$=(e,t)=>yi(e,bi(t)),$i=e=>it(e,"__esModule",{value:!0});var B=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var xe=(e,t)=>{var r={};for(var n in e)It.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&at)for(var n of at(e))t.indexOf(n)<0&&Hr.call(e,n)&&(r[n]=e[n]);return r};var Si=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var wi=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Oi(t))!It.call(e,n)&&n!=="default"&&it(e,n,{get:()=>t[n],enumerable:!(r=hi(t,n))||r.enumerable});return e},We=e=>wi($i(it(e!=null?di(xi(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var y,m= exports.b =Si(()=>{y=typeof document=="undefined"?new(B("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href});var tr=R((uh,So)=>{m();var xp=Object.prototype;function $p(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xp;return e===r}So.exports=$p});var jo=R((fh,wo)=>{m();function Sp(e,t){return function(r){return e(t(r))}}wo.exports=Sp});var To=R((gh,Ro)=>{m();var wp=jo(),jp=wp(Object.keys,Object);Ro.exports=jp});var Po=R((dh,vo)=>{m();var Rp=tr(),Tp=To(),vp=Object.prototype,Pp=vp.hasOwnProperty;function Mp(e){if(!Rp(e))return Tp(e);var t=[];for(var r in Object(e))Pp.call(e,r)&&r!="constructor"&&t.push(r);return t}vo.exports=Mp});var rr=R((yh,Mo)=>{m();var Ep=typeof global=="object"&&global&&global.Object===Object&&global;Mo.exports=Ep});var ae=R((hh,Eo)=>{m();var Gp=rr(),Ip=typeof self=="object"&&self&&self.Object===Object&&self,Ap=Gp||Ip||Function("return this")();Eo.exports=Ap});var nr=R((bh,Go)=>{m();var Cp=ae(),qp=Cp.Symbol;Go.exports=qp});var qo=R((Oh,Co)=>{m();var Io=nr(),Ao=Object.prototype,Dp=Ao.hasOwnProperty,kp=Ao.toString,Xe=Io?Io.toStringTag:void 0;function Fp(e){var t=Dp.call(e,Xe),r=e[Xe];try{e[Xe]=void 0;var n=!0}catch (e2){}var o=kp.call(e);return n&&(t?e[Xe]=r:delete e[Xe]),o}Co.exports=Fp});var ko=R((xh,Do)=>{m();var Np=Object.prototype,Vp=Np.toString;function Up(e){return Vp.call(e)}Do.exports=Up});var Ze=R(($h,Vo)=>{m();var Fo=nr(),Wp=qo(),_p=ko(),Bp="[object Null]",zp="[object Undefined]",No=Fo?Fo.toStringTag:void 0;function Kp(e){return e==null?e===void 0?zp:Bp:No&&No in Object(e)?Wp(e):_p(e)}Vo.exports=Kp});var or=R((Sh,Uo)=>{m();function Lp(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Uo.exports=Lp});var sr=R((wh,Wo)=>{m();var Qp=Ze(),Hp=or(),Yp="[object AsyncFunction]",Jp="[object Function]",Xp="[object GeneratorFunction]",Zp="[object Proxy]";function em(e){if(!Hp(e))return!1;var t=Qp(e);return t==Jp||t==Xp||t==Yp||t==Zp}Wo.exports=em});var Bo=R((jh,_o)=>{m();var tm=ae(),rm=tm["__core-js_shared__"];_o.exports=rm});var Lo=R((Rh,Ko)=>{m();var ir=Bo(),zo=function(){var e=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nm(e){return!!zo&&zo in e}Ko.exports=nm});var ar=R((Th,Qo)=>{m();var om=Function.prototype,sm=om.toString;function im(e){if(e!=null){try{return sm.call(e)}catch (e3){}try{return e+""}catch (e4){}}return""}Qo.exports=im});var Yo=R((vh,Ho)=>{m();var am=sr(),pm=Lo(),mm=or(),cm=ar(),lm=/[\\^$.*+?()[\]{}|]/g,um=/^\[object .+?Constructor\]$/,fm=Function.prototype,gm=Object.prototype,dm=fm.toString,ym=gm.hasOwnProperty,hm=RegExp("^"+dm.call(ym).replace(lm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bm(e){if(!mm(e)||pm(e))return!1;var t=am(e)?hm:um;return t.test(cm(e))}Ho.exports=bm});var Xo=R((Ph,Jo)=>{m();function Om(e,t){return e==null?void 0:e[t]}Jo.exports=Om});var Ce=R((Mh,Zo)=>{m();var xm=Yo(),$m=Xo();function Sm(e,t){var r=$m(e,t);return xm(r)?r:void 0}Zo.exports=Sm});var ts=R((Eh,es)=>{m();var wm=Ce(),jm=ae(),Rm=wm(jm,"DataView");es.exports=Rm});var ns=R((Gh,rs)=>{m();var Tm=Ce(),vm=ae(),Pm=Tm(vm,"Map");rs.exports=Pm});var ss=R((Ih,os)=>{m();var Mm=Ce(),Em=ae(),Gm=Mm(Em,"Promise");os.exports=Gm});var as=R((Ah,is)=>{m();var Im=Ce(),Am=ae(),Cm=Im(Am,"Set");is.exports=Cm});var ms=R((Ch,ps)=>{m();var qm=Ce(),Dm=ae(),km=qm(Dm,"WeakMap");ps.exports=km});var hs=R((qh,ys)=>{m();var pr=ts(),mr=ns(),cr=ss(),lr=as(),ur=ms(),cs=Ze(),qe=ar(),ls="[object Map]",Fm="[object Object]",us="[object Promise]",fs="[object Set]",gs="[object WeakMap]",ds="[object DataView]",Nm=qe(pr),Vm=qe(mr),Um=qe(cr),Wm=qe(lr),_m=qe(ur),Re=cs;(pr&&Re(new pr(new ArrayBuffer(1)))!=ds||mr&&Re(new mr)!=ls||cr&&Re(cr.resolve())!=us||lr&&Re(new lr)!=fs||ur&&Re(new ur)!=gs)&&(Re=function(e){var t=cs(e),r=t==Fm?e.constructor:void 0,n=r?qe(r):"";if(n)switch(n){case Nm:return ds;case Vm:return ls;case Um:return us;case Wm:return fs;case _m:return gs}return t});ys.exports=Re});var Mt=R((Dh,bs)=>{m();function Bm(e){return e!=null&&typeof e=="object"}bs.exports=Bm});var xs=R((kh,Os)=>{m();var zm=Ze(),Km=Mt(),Lm="[object Arguments]";function Qm(e){return Km(e)&&zm(e)==Lm}Os.exports=Qm});var js=R((Fh,ws)=>{m();var $s=xs(),Hm=Mt(),Ss=Object.prototype,Ym=Ss.hasOwnProperty,Jm=Ss.propertyIsEnumerable,Xm=$s(function(){return arguments}())?$s:function(e){return Hm(e)&&Ym.call(e,"callee")&&!Jm.call(e,"callee")};ws.exports=Xm});var Ts=R((Nh,Rs)=>{m();var Zm=Array.isArray;Rs.exports=Zm});var fr=R((Vh,vs)=>{m();var ec=9007199254740991;function tc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ec}vs.exports=tc});var Ms=R((Uh,Ps)=>{m();var rc=sr(),nc=fr();function oc(e){return e!=null&&nc(e.length)&&!rc(e)}Ps.exports=oc});var Gs=R((Wh,Es)=>{m();function sc(){return!1}Es.exports=sc});var qs=R((et,De)=>{m();var ic=ae(),ac=Gs(),Is=typeof et=="object"&&et&&!et.nodeType&&et,As=Is&&typeof De=="object"&&De&&!De.nodeType&&De,pc=As&&As.exports===Is,Cs=pc?ic.Buffer:void 0,mc=Cs?Cs.isBuffer:void 0,cc=mc||ac;De.exports=cc});var ks=R((_h,Ds)=>{m();var lc=Ze(),uc=fr(),fc=Mt(),gc="[object Arguments]",dc="[object Array]",yc="[object Boolean]",hc="[object Date]",bc="[object Error]",Oc="[object Function]",xc="[object Map]",$c="[object Number]",Sc="[object Object]",wc="[object RegExp]",jc="[object Set]",Rc="[object String]",Tc="[object WeakMap]",vc="[object ArrayBuffer]",Pc="[object DataView]",Mc="[object Float32Array]",Ec="[object Float64Array]",Gc="[object Int8Array]",Ic="[object Int16Array]",Ac="[object Int32Array]",Cc="[object Uint8Array]",qc="[object Uint8ClampedArray]",Dc="[object Uint16Array]",kc="[object Uint32Array]",G={};G[Mc]=G[Ec]=G[Gc]=G[Ic]=G[Ac]=G[Cc]=G[qc]=G[Dc]=G[kc]=!0;G[gc]=G[dc]=G[vc]=G[yc]=G[Pc]=G[hc]=G[bc]=G[Oc]=G[xc]=G[$c]=G[Sc]=G[wc]=G[jc]=G[Rc]=G[Tc]=!1;function Fc(e){return fc(e)&&uc(e.length)&&!!G[lc(e)]}Ds.exports=Fc});var Ns=R((Bh,Fs)=>{m();function Nc(e){return function(t){return e(t)}}Fs.exports=Nc});var Us=R((rt,ke)=>{m();var Vc=rr(),Vs=typeof rt=="object"&&rt&&!rt.nodeType&&rt,tt=Vs&&typeof ke=="object"&&ke&&!ke.nodeType&&ke,Uc=tt&&tt.exports===Vs,gr=Uc&&Vc.process,Wc=function(){try{var e=tt&&tt.require&&tt.require("util").types;return e||gr&&gr.binding&&gr.binding("util")}catch (e5){}}();ke.exports=Wc});var zs=R((zh,Bs)=>{m();var _c=ks(),Bc=Ns(),Ws=Us(),_s=Ws&&Ws.isTypedArray,zc=_s?Bc(_s):_c;Bs.exports=zc});var dr=R((Kh,Ks)=>{m();var Kc=Po(),Lc=hs(),Qc=js(),Hc=Ts(),Yc=Ms(),Jc=qs(),Xc=tr(),Zc=zs(),el="[object Map]",tl="[object Set]",rl=Object.prototype,nl=rl.hasOwnProperty;function ol(e){if(e==null)return!0;if(Yc(e)&&(Hc(e)||typeof e=="string"||typeof e.splice=="function"||Jc(e)||Zc(e)||Qc(e)))return!e.length;var t=Lc(e);if(t==el||t==tl)return!e.size;if(Xc(e))return!Kc(e).length;for(var r in e)if(nl.call(e,r))return!1;return!0}Ks.exports=ol});var ji="orval",Ri="A swagger client generator for typescript",Ti="6.6.0",vi="MIT",Pi=["dist"],Mi={orval:"dist/bin/orval.js"},Ei="dist/index.js",Gi=["rest","client","swagger","open-api","fetch","data fetching","code-generation","angular","react","react-query","svelte","svelte-query","vue","vue-query","msw","mock","axios","vue-query","vue","swr"],Ii={name:"Victor Bury",email:"bury.victor@gmail.com"},Ai={type:"git",url:"https://github.com/anymaniax/orval"},Ci={build:"tsup ./src/bin/orval.ts ./src/index.ts --minify --clean --dts --splitting",dev:"tsup ./src/bin/orval.ts ./src/index.ts --clean --watch src --onSuccess 'yarn generate-api'",lint:"eslint src/**/*.ts",format:"prettier --write 'src/**/*.{js,ts}'",prerelease:"yarn build && cd ./tests && yarn generate && yarn build",release:"dotenv release-it",postrelease:"yarn build && yarn update-samples","generate-api":"node ./dist/bin/orval.js --config ./samples/react-query/basic/orval.config.ts --watch",prepare:"husky install && cd ./samples/react-query/basic && yarn",commitlint:"commitlint","update-samples":"zx ./scripts/update-samples.mjs"},qi={"@commitlint/cli":"^15.0.0","@commitlint/config-conventional":"^15.0.0","@release-it/conventional-changelog":"^3.3.0","@types/chalk":"^2.2.0","@types/commander":"^2.12.2","@types/faker":"^5.5.8","@types/fs-extra":"^9.0.12","@types/inquirer":"^8.1.3","@types/lodash.get":"^4.4.6","@types/lodash.omit":"^4.5.6","@types/lodash.omitby":"^4.6.6","@types/lodash.uniq":"^4.5.6","@types/lodash.uniqby":"^4.7.6","@types/lodash.uniqwith":"^4.5.6","@types/micromatch":"^4.0.2","@types/node":"^16.7.8","@types/prettier":"^2.3.2","@types/request":"^2.48.7","@types/validator":"^13.6.3","@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0","dotenv-cli":"^4.0.0",eslint:"^8.3.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0",faker:"^5.5.3",husky:"^7.0.2","lint-staged":"^12.1.2","npm-run-all":"^4.1.5",prettier:"^2.4.1","release-it":"^14.12.4",rimraf:"^3.0.2",tsup:"^5.10.0",typescript:"^4.4.2",zx:"^4.2.0"},Di={"@apidevtools/swagger-parser":"^10.0.3",cac:"^6.7.12",chalk:"^4.1.2",chokidar:"^3.5.2",cuid:"^2.1.8",debug:"^4.3.2",esbuild:"^0.13.15",esutils:"2.0.3",execa:"^5.1.1","find-up":"5.0.0","fs-extra":"^10.0.0",globby:"11.0.4","ibm-openapi-validator":"^0.53.1",inquirer:"^8.2.0","lodash.get":"^4.4.2","lodash.omit":"^4.5.0","lodash.omitby":"^4.6.0","lodash.uniq":"^4.5.0","lodash.uniqby":"^4.7.0","lodash.uniqwith":"^4.5.0",micromatch:"^4.0.4","openapi3-ts":"^2.0.1",swagger2openapi:"^7.0.8",tsconfck:"^1.1.1",upath:"^2.0.1",url:"^0.11.0",validator:"^13.7.0"},At= exports.a ={name:ji,description:Ri,version:Ti,license:vi,files:Pi,bin:Mi,main:Ei,keywords:Gi,author:Ii,repository:Ai,scripts:Ci,devDependencies:qi,dependencies:Di};m();var K={ANGULAR:"angular",AXIOS:"axios",AXIOS_FUNCTIONS:"axios-functions",REACT_QUERY:"react-query",SVELTE_QUERY:"svelte-query"},_e={SINGLE:"single",SPLIT:"split",TAGS:"tags",TAGS_SPLIT:"tags-split"},Y={POST:"post",PUT:"put",GET:"get",PATCH:"patch",DELETE:"delete",HEAD:"head"};m();var _upath = require('upath');var C=e=>Boolean(e.$ref),Jr=e=>!_upath.extname.call(void 0, e);function q(e){return Object.prototype.toString.call(e)==="[object Object]"}function D(e){return typeof e=="string"}function Xr(e){return typeof e=="number"}function J(e){return typeof e=="boolean"}function L(e){return typeof e=="function"}function pt(e){return typeof e=="undefined"}function Zr(e){return typeof e===null}var en=e=>Object.values(Y).includes(e);m();var _chalk = require('chalk'); var _chalk2 = _interopRequireDefault(_chalk);var _readline = require('readline'); var _readline2 = _interopRequireDefault(_readline);var F=console.log,kl= exports.e =({name:e,version:t,description:r})=>F(`\u{1F37B} Start ${_chalk2.default.cyan.bold(e)} ${_chalk2.default.green(`v${t}`)}${r?` - ${r}`:""}`),rn=e=>F(_chalk2.default.red(e));var nn=e=>F(`\u{1F389} ${e?`${_chalk2.default.green(e)} - `:""}Your OpenAPI spec has been converted into ready to use orval!`),on=e=>{F(_chalk2.default.yellow("(!) Warnings")),e.forEach(t=>F(_chalk2.default.yellow(`Message : ${t.message}
Path    : ${t.path}`)))},sn=e=>{F(_chalk2.default.red("(!) Errors")),e.forEach(t=>F(_chalk2.default.red(`Message : ${t.message}
Path    : ${t.path}`)))},Ct={silent:0,error:1,warn:2,info:3},an,pn,qt=0;function Fi(){let e=process.stdout.rows-2,t=e>0?`
`.repeat(e):"";console.log(t),_readline2.default.cursorTo(process.stdout,0,0),_readline2.default.clearScreenDown(process.stdout)}function Z(e="info",t={}){let{prefix:r="[vite]",allowClearScreen:n=!0}=t,o=Ct[e],s=n&&process.stdout.isTTY&&!process.env.CI?Fi:()=>{};function a(p,l,u={}){if(o>=Ct[p]){let g=p==="info"?"log":p,f=()=>{if(u.timestamp){let d=p==="info"?_chalk2.default.cyan.bold(r):p==="warn"?_chalk2.default.yellow.bold(r):_chalk2.default.red.bold(r);return`${_chalk2.default.dim(new Date().toLocaleTimeString())} ${d} ${l}`}else return l};p===an&&l===pn?(qt++,s(),console[g](f(),_chalk2.default.yellow(`(x${qt+1})`))):(qt=0,pn=l,an=p,u.clear&&s(),console[g](f()))}}let i=new Set,c={hasWarned:!1,info(p,l){a("info",p,l)},warn(p,l){c.hasWarned=!0,a("warn",p,l)},warnOnce(p,l){i.has(p)||(c.hasWarned=!0,a("warn",p,l),i.add(p))},error(p,l){c.hasWarned=!0,a("error",p,l)},clearScreen(p){o>=Ct[p]&&s()}};return c}m();m();var _lodashget = require('lodash.get'); var _lodashget2 = _interopRequireDefault(_lodashget);var _url = require('url'); var _url2 = _interopRequireDefault(_url);m();var Dt=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},mt=Dt("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),ct="a-z"+Dt("DF-F6,F8-FF","00"),Be="A-Z"+Dt("C0-D6,D8-DE","00"),Ni="A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",pe={capitalize:new RegExp("(^|["+mt+"])(["+ct+"])","g"),pascal:new RegExp("(^|["+mt+"])+(["+ct+Be+"])","g"),fill:new RegExp("["+mt+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+ct+"])","g"),improper:new RegExp("\\b("+Ni+")\\b","g"),relax:new RegExp("([^"+Be+"])(["+Be+"]*)(["+Be+"])(?=[^"+Be+"]|$)","g"),upper:new RegExp("^[^"+ct+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+mt+"]")},Vi=e=>e.replace(pe.apostrophe,""),Ui=String.prototype.toUpperCase,kt=String.prototype.toLowerCase,Ft=(e,t,r=!1)=>(t!=null&&(e=e.replace(pe.fill,function(n,o){return o?t+o:""})),r&&(e=Vi(e)),e),Wi=e=>kt.call(e.charAt(0))+e.slice(1),_i=(e,t,r,n)=>t+" "+(r?r+" ":"")+n,mn=(e,t=!1,r=!1,n=!1)=>{if(e=e==null?"":e+"",!n&&pe.upper.test(e)&&(e=kt.call(e)),!t&&!pe.hole.test(e)){var o=Ft(e," ");pe.hole.test(o)&&(e=o)}return!r&&!pe.room.test(e)&&(e=e.replace(pe.relax,_i)),e},Bi=(e,t,r)=>Ft(kt.call(mn(e,!!t)),t,r),x=e=>Ft(mn(e,!1,!0).replace(pe.pascal,(t,r,n)=>Ui.call(n)),"",!0),T=e=>Wi(x(e)),$e=e=>Bi(e,"-",!0);m();var _esbuild = require('esbuild');var _fs = require('fs'); var _fs2 = _interopRequireDefault(_fs);var _globby = require('globby'); var _globby2 = _interopRequireDefault(_globby);var _micromatch = require('micromatch'); var _micromatch2 = _interopRequireDefault(_micromatch);var _path = require('path'); var _path2 = _interopRequireDefault(_path);m();var _debug = require('debug'); var _debug2 = _interopRequireDefault(_debug);var cn=process.env.ORVAL_DEBUG_FILTER,Nt=process.env.DEBUG;function ln(e,t={}){let r=_debug2.default.call(void 0, e),{onlyWhenFocused:n}=t,o=typeof n=="string"?n:e;return(s,...a)=>{cn&&!s.includes(cn)||n&&!(Nt==null?void 0:Nt.includes(o))||r(s,...a)}}var E=(e="",{backupFilename:t="filename",extension:r=".ts"}={})=>{let n=Jr(e),o=n?_upath.join.call(void 0, e,t+r):e,s=o.replace(/\.[^/.]+$/,""),a=_upath.dirname.call(void 0, o),i=_upath.basename.call(void 0, o,r[0]!=="."?`.${r}`:r);return{path:o,pathWithoutExtension:s,extension:r,isDirectory:n,dirname:a,filename:i}},yn=ln("orval:file-load"),Ut=new Map;async function lt(e,t){let{root:r=process.cwd(),isDefault:n=!0,defaultFileName:o,logLevel:s,alias:a,tsconfig:i}=t||{},c=Date.now(),p,l=!1,u=!1;if(e)p=_path2.default.resolve(e),l=e.endsWith(".ts");else if(o){let d=_path2.default.resolve(r,`${o}.js`);if(_fs2.default.existsSync(d)&&(p=d),!p){let h=_path2.default.resolve(r,`${o}.mjs`);_fs2.default.existsSync(h)&&(p=h,u=!0)}if(!p){let h=_path2.default.resolve(r,`${o}.ts`);_fs2.default.existsSync(h)&&(p=h,l=!0)}}p||(e?Z(s).error(_chalk2.default.red(`File not found => ${e}`)):o?Z(s).error(_chalk2.default.red(`File not found => ${o}.{js,mjs,ts}`)):Z(s).error(_chalk2.default.red("File not found")),process.exit(1));let g=_upath.normalizeSafe.call(void 0, p),f=Ut.get(p);if(f)return $(O({path:g},f),{cached:!0});try{let d;if(!d&&!l&&!u)try{delete B.cache[B.resolve(p)],d=B(p),yn(`cjs loaded in ${Date.now()-c}ms`)}catch(h){if(!new RegExp(["Cannot use import statement","Must use import to load ES Module","Unexpected token","Unexpected identifier"].join("|")).test(h.message))throw h}if(!d){let{code:h}=await Ji(p,u,r||_upath.dirname.call(void 0, g),a,i==null?void 0:i.compilerOptions);d=await Xi(p,h,n),yn(`bundled file loaded in ${Date.now()-c}ms`)}return Ut.set(p,{file:d}),{path:g,file:d}}catch(d){return Ut.set(p,{error:d}),{path:g,error:d}}}async function Ji(e,t=!1,r,n,o){let s=await _esbuild.build.call(void 0, {absWorkingDir:process.cwd(),entryPoints:[e],outfile:"out.js",write:!1,platform:"node",bundle:!0,format:t?"esm":"cjs",sourcemap:"inline",metafile:!0,target:"es6",minifyWhitespace:!0,plugins:[...n||(o==null?void 0:o.paths)?[{name:"aliasing",setup(i){i.onResolve({filter:/^[\w@][^:]/},async({path:c})=>{if(n){let p=Object.keys(n),l=p.find(u=>c.startsWith(u)||_micromatch2.default.isMatch(c,p));if(l){let u=_micromatch2.default.scan(l),g=_micromatch2.default.scan(n[l]),f=_upath.resolve.call(void 0, r,g.base),d=u.base?c.replace(u.base,f):_upath.joinSafe.call(void 0, f,c),b=_upath.extname.call(void 0, d)?d:`${d}.ts`;return _fs2.default.existsSync(b)?{path:b}:void 0}}if(o==null?void 0:o.paths){let p=Object.keys(o==null?void 0:o.paths),l=p.find(u=>c.startsWith(u)||_micromatch2.default.isMatch(c,p));if(l){let u=_micromatch2.default.scan(l),g=_micromatch2.default.scan(o==null?void 0:o.paths[l][0]),f=_upath.resolve.call(void 0, r,g.base),d=u.base?c.replace(u.base,f):_upath.joinSafe.call(void 0, f,c),b=_upath.extname.call(void 0, d)?d:`${d}.ts`;return _fs2.default.existsSync(b)?{path:b}:void 0}}})}}]:[],{name:"externalize-deps",setup(i){i.onResolve({filter:/.*/},c=>{let p=c.path;if(p[0]!=="."&&!_path2.default.isAbsolute(p))return{external:!0}})}},{name:"replace-import-meta",setup(i){i.onLoad({filter:/\.[jt]s$/},async c=>{let p=await _fs2.default.promises.readFile(c.path,"utf8");return{loader:c.path.endsWith(".ts")?"ts":"js",contents:p.replace(/\bimport\.meta\.url\b/g,JSON.stringify(`file://${c.path}`)).replace(/\b__dirname\b/g,JSON.stringify(_path2.default.dirname(c.path))).replace(/\b__filename\b/g,JSON.stringify(c.path))}})}}]}),{text:a}=s.outputFiles[0];return{code:a,dependencies:s.metafile?Object.keys(s.metafile.inputs):[]}}async function Xi(e,t,r){let n=_path2.default.extname(e),o=B.extensions[n];B.extensions[n]=(i,c)=>{c===e?i._compile(t,c):o(i,c)},delete B.cache[B.resolve(e)];let s=B(e),a=r&&s.__esModule?s.default:s;return B.extensions[n]=o,a}async function Wt(e,t){let r=await _globby2.default.call(void 0, e,{cwd:t,absolute:!0});await Promise.all(r.map(n=>_fs2.default.promises.unlink(n)))}m();var _isURL = require('validator/lib/isURL'); var _isURL2 = _interopRequireDefault(_isURL);var ea=/^https?:\/\/\w+(\.\w+)*(:[0-9]+)?(\/.*)?$/,me=e=>_isURL2.default.call(void 0, e)||ea.test(e);var ze={schemas:"",responses:"Response",parameters:"Parameter",requestBodies:"Body"},oa=new RegExp("~1","g"),Pe=async(e,t)=>{let[r,n]=e.split("#"),o=n.slice(1).split("/").map(c=>c.replace(oa,"/")),s=_lodashget2.default.call(void 0, t.override,[...o.slice(0,2),"suffix"],""),a=o[o.length-1];if(!r)return{name:x(a)+s,originalName:a,refPaths:o};let i=me(t.specKey)?_url2.default.resolve(t.specKey,r):_upath.resolve.call(void 0, E(t.specKey).dirname,r);return{name:x(a)+s,originalName:a,specKey:i,refPaths:o}};m();var _fsextra = require('fs-extra');var _inquirer = require('inquirer'); var _inquirer2 = _interopRequireDefault(_inquirer);m();var _https = require('https'); var _https2 = _interopRequireDefault(_https);var hn=(e,t)=>new Promise((r,n)=>{let o=_https2.default.request(e,s=>{let a="";s.on("data",i=>a+=i.toString()),s.on("error",n),s.on("end",()=>{let i={status:s.statusCode,headers:s.headers,body:JSON.parse(a)};s.statusCode&&s.statusCode>=200&&s.statusCode<=299?r(i):n(i)})});o.on("error",n),t&&o.write(t,"binary"),o.end()});var ca=({accessToken:e,repo:t,owner:r,branch:n,path:o})=>{let s=JSON.stringify({query:`query {
      repository(name: "${t}", owner: "${r}") {
        object(expression: "${n}:${o}") {
          ... on Blob {
            text
          }
        }
      }
    }`});return[{method:"POST",hostname:"api.github.com",path:"/graphql",headers:{"content-type":"application/json","user-agent":"orval-importer",authorization:`bearer ${e}`,"Content-Length":s.length}},s]},la=async e=>{if(await _fsextra.pathExists.call(void 0, e))return _fsextra.readFile.call(void 0, e,"utf-8");{let t=await _inquirer2.default.prompt([{type:"input",name:"githubToken",message:"Please provide a GitHub token with `repo` rules checked (https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)"},{type:"confirm",name:"saveToken",message:"Would you like to store your token for the next time? (stored in your node_modules)"}]);return t.saveToken&&await _fsextra.outputFile.call(void 0, e,t.githubToken),t.githubToken}},ua=async e=>{var p,l,u,g;let t=_upath.join.call(void 0, __dirname,".githubToken"),r=await la(t),[n]=e.split("github.com/").slice(-1),[o,s,,a,...i]=n.split("/"),c=i.join("/");try{let{body:f}=await hn(...ca({accessToken:r,repo:s,owner:o,branch:a,path:c}));return((p=f.errors)==null?void 0:p.length)&&((l=f.errors)==null?void 0:l.some(h=>(h==null?void 0:h.type)==="NOT_FOUND"))&&(await _inquirer2.default.prompt([{type:"confirm",name:"removeToken",message:"Your token doesn't have the correct permissions, should we remove it?"}])).removeToken&&await _fsextra.unlink.call(void 0, t),(g=(u=f.data)==null?void 0:u.repository)==null?void 0:g.object.text}catch(f){throw f.body?(f.body.message==="Bad credentials"&&(await _inquirer2.default.prompt([{type:"confirm",name:"removeToken",message:"Your token doesn't have the correct permissions, should we remove it?"}])).removeToken&&await _fsextra.unlink.call(void 0, t),f.body.message||`Oups... \u{1F37B}. ${f}`):`Oups... \u{1F37B}. ${f}`}},On={order:199,canRead(e){return e.url.includes("github.com")},read(e){return ua(e.url)}};m();var ut=e=>e&&typeof e=="object";function je(e,t){return!ut(t)||!ut(e)?e:Object.entries(t).reduce((r,[n,o])=>{let s=r[n];return Array.isArray(s)&&Array.isArray(o)?r[n]=[...s,...o]:ut(s)&&ut(o)?r[n]=je(s,o):r[n]=o,r},e)}m();var xn=({title:e,description:t,version:r})=>[`Generated by ${At.name} v${At.version} \u{1F37A}`,"Do not edit manually.",...e?[e]:[],...t?[t]:[],...r?[`OpenAPI spec version: ${r}`]:[]];m();var _findup = require('find-up'); var _findup2 = _interopRequireDefault(_findup);var _tsconfck = require('tsconfck');var Sn=async(e,t=process.cwd())=>{var r,n;if(pt(e)){let o=await _findup2.default.call(void 0, ["tsconfig.json","jsconfig.json"],{cwd:t});return o?(await _tsconfck.parse.call(void 0, o)).tsconfig:void 0}if(D(e)){let o=ce(e,t);if(_fsextra.existsSync.call(void 0, o)){let s=await _tsconfck.parse.call(void 0, o);return((n=(r=s.referenced)==null?void 0:r.find(({tsconfigFile:i})=>i===o))==null?void 0:n.tsconfig)||s.tsconfig}return}if(q(e))return e},Q=e=>{var t,r,n;return e?!!((n=(t=e==null?void 0:e.compilerOptions)==null?void 0:t.allowSyntheticDefaultImports)!=null?n:(r=e==null?void 0:e.compilerOptions)==null?void 0:r.esModuleInterop):!0};function Ku(e){return e}var wn=async(e,t=process.cwd(),r={})=>{var h,b,S,w,j,M,v,A,I,k,re,ne,H,Te,Fe,Ne,Ve,Ue,ot,st,Sr,wr,jr,Rr,Tr,vr,Pr,Mr,Er,Gr,Ir,Ar,Cr,qr,Dr,kr,Fr,Nr,Vr,Ur,Wr,_r,Br,zr,Kr,Lr,Qr;let n=await(L(e)?e():e);n.input||(Z().error(_chalk2.default.red("Config require an input")),process.exit(1)),n.output||(Z().error(_chalk2.default.red("Config require an output")),process.exit(1));let o=D(n.input)?{target:n.input}:n.input,s=D(n.output)?{target:n.output}:n.output;typeof((b=(h=s.override)==null?void 0:h.angular)==null?void 0:b.provideInRoot)!="undefined"&&console.warn("provideInRoot is deprecated, use provideIn instead");let a=ce(s.workspace||"",t),{clean:i,prettier:c,client:p,mode:l,mock:u,tslint:g}=r,f=await Sn(s.tsconfig||r.tsconfig,t),d={input:{target:ce(o.target,t),validation:o.validation||!1,override:{transformer:ce((S=o.override)==null?void 0:S.transformer,t)},converterOptions:o.converterOptions||{},parserOptions:je(da,o.parserOptions||{})},output:{target:ce(s.target,a),schemas:ce(s.schemas,a),workspace:s.workspace?a:void 0,client:(j=(w=s.client)!=null?w:p)!=null?j:K.AXIOS_FUNCTIONS,mode:(v=(M=s.mode)!=null?M:l)!=null?v:"single",mock:(I=(A=s.mock)!=null?A:u)!=null?I:!1,clean:(re=(k=s.clean)!=null?k:i)!=null?re:!1,prettier:(H=(ne=s.prettier)!=null?ne:c)!=null?H:!1,tslint:(Fe=(Te=s.tslint)!=null?Te:g)!=null?Fe:!1,tsconfig:f,override:$(O({},s.override),{operations:jn(((Ne=s.override)==null?void 0:Ne.operations)||{},a),tags:jn(((Ve=s.override)==null?void 0:Ve.tags)||{},a),mutator:Me(a,(Ue=s.override)==null?void 0:Ue.mutator),formData:(wr=J((ot=s.override)==null?void 0:ot.formData)?(Sr=s.override)==null?void 0:Sr.formData:Me(a,(st=s.override)==null?void 0:st.formData))!=null?wr:!0,formUrlEncoded:(vr=J((jr=s.override)==null?void 0:jr.formUrlEncoded)?(Tr=s.override)==null?void 0:Tr.formUrlEncoded:Me(a,(Rr=s.override)==null?void 0:Rr.formUrlEncoded))!=null?vr:!0,header:((Pr=s.override)==null?void 0:Pr.header)===!1?!1:L((Mr=s.override)==null?void 0:Mr.header)?(Er=s.override)==null?void 0:Er.header:xn,requestOptions:(Ir=(Gr=s.override)==null?void 0:Gr.requestOptions)!=null?Ir:!0,components:{schemas:O({suffix:ze.schemas},((Cr=(Ar=s.override)==null?void 0:Ar.components)==null?void 0:Cr.schemas)||{}),responses:O({suffix:ze.responses},((Dr=(qr=s.override)==null?void 0:qr.components)==null?void 0:Dr.responses)||{}),parameters:O({suffix:ze.parameters},((Fr=(kr=s.override)==null?void 0:kr.components)==null?void 0:Fr.parameters)||{}),requestBodies:O({suffix:ze.requestBodies},((Vr=(Nr=s.override)==null?void 0:Nr.components)==null?void 0:Vr.requestBodies)||{})},query:O({useQuery:!0},((Ur=s.override)==null?void 0:Ur.query)||{}),angular:{provideIn:(Lr=(Kr=(_r=(Wr=s.override)==null?void 0:Wr.angular)==null?void 0:_r.provideIn)!=null?Kr:(zr=(Br=s.override)==null?void 0:Br.angular)==null?void 0:zr.provideInRoot)!=null?Lr:"root"},useDates:((Qr=s.override)==null?void 0:Qr.useDates)||!1})}};return d.input.target||(Z().error(_chalk2.default.red("Config require an input target")),process.exit(1)),!d.output.target&&!d.output.schemas&&(Z().error(_chalk2.default.red("Config require an output target or schemas")),process.exit(1)),d},da={validate:!0,resolve:{github:On}},Me=(e,t)=>{var r;return q(t)?(t.path||(Z().error(_chalk2.default.red("Mutator need a path")),process.exit(1)),$(O({},t),{path:_upath.resolve.call(void 0, e,t.path),default:(r=t.default||!t.name)!=null?r:!1})):D(t)?{path:_upath.resolve.call(void 0, e,t),default:!0}:t},ce=(e,t)=>D(e)&&!me(e)?_upath.resolve.call(void 0, t,e):e,jn=(e,t)=>Object.fromEntries(Object.entries(e).map(p=>{var[r,l]=p,u=l,{transformer:n,mutator:o,formData:s,formUrlEncoded:a,requestOptions:i}=u,c=xe(u,["transformer","mutator","formData","formUrlEncoded","requestOptions"]);var g,f;return[r,$(O(O(O({},c),n?{transformer:ce(n,t)}:{}),o?{mutator:Me(t,o)}:{}),{formData:(g=J(s)?s:Me(t,s))!=null?g:!0,formUrlEncoded:(f=J(a)?a:Me(t,a))!=null?f:!0,requestOptions:i!=null?i:!0})]}));m();var Rn=async(e,t,r=".")=>{if(!e)return;let{watch:n}=await Promise.resolve().then(()=>We(B("chokidar"))),o=["**/{.git,node_modules}/**"],s=typeof e=="boolean"?r:Array.isArray(e)?e.filter(i=>typeof i=="string"):e;F(`Watching for changes in ${Array.isArray(s)?s.map(i=>'"'+i+'"').join(" | "):'"'+s+'"'}`),n(s,{ignorePermissionErrors:!0,ignored:o}).on("all",async(i,c)=>{F(`Change detected: ${i} ${c}`);try{await t()}catch(p){F(_chalk2.default.red(p))}})};m();m();var _swaggerparser = require('@apidevtools/swagger-parser'); var _swaggerparser2 = _interopRequireDefault(_swaggerparser);var _console = require('console');m();var _lodashomit = require('lodash.omit'); var _lodashomit2 = _interopRequireDefault(_lodashomit);m();var P=(e,t,r)=>e.reduce(async(n,...o)=>t(await n,...o),Promise.resolve(r));m();var _swagger2openapi = require('swagger2openapi'); var _swagger2openapi2 = _interopRequireDefault(_swagger2openapi);var Tn=async(e,t={},r)=>{try{return new Promise(n=>{!e.openapi&&e.swagger==="2.0"?_swagger2openapi2.default.convertObj(e,t,(o,s)=>{o?(F(_chalk2.default.yellow(`${r}
=> ${o}`)),n(e)):n(s.openapi)}):n(e)})}catch(n){throw`Oups... \u{1F37B}.
Path: ${r}
Parsing Error: ${n}`}};m();var ft=async(e,t=process.cwd(),r=!0)=>{if(!e)return e;try{if(D(e)){let n=_upath.resolve.call(void 0, t,e),o=await Promise.resolve().then(()=>We(B(n)));return r&&q(o)&&o.default?o.default:o}return Promise.resolve(e)}catch(n){throw`Oups... \u{1F37B}. Path: ${e} => ${n}`}};m();m();m();var ee=e=>{if(!(pt(e)||Zr(e)))return D(e)?`'${e}'`:Xr(e)||J(e)||L(e)?`${e}`:Array.isArray(e)?`[${e.map(ee).join(", ")}]`:Object.entries(e).reduce((t,[r,n],o,s)=>{let a=ee(n);return s.length===1?`{ ${r}: ${a}, }`:o?s.length-1===o?t+`${r}: ${a}, }`:t+`${r}: ${a}, `:`{ ${r}: ${a}, `},"")},W=(e,t)=>{let{whitespace:r="",underscore:n="",dot:o="",dash:s=""}=t||{},a=e.replace(/[^\w\s.-]/g,"");return r!==!0&&(a=a.replace(/[\s]/g,r)),n!==!0&&(a=a.replace(/['_']/g,n)),o!==!0&&(a=a.replace(/[.]/g,o)),s!==!0&&(a=a.replace(/[-]/g,s)),a},_=(e,t)=>e.length?(t?e.map(n=>_lodashget2.default.call(void 0, n,t)):e).join(`,
    `)+",":"",$a={"0":"zero","1":"one","2":"two","3":"three","4":"four","5":"five","6":"six","7":"seven","8":"eight","9":"nine"},gt=e=>e.toString().split("").reduce((r,n)=>r+$a[n],""),dt=(e,t="'")=>e.replace(t,`\\${t}`);var Sa=e=>e.split("").reduce((t,r)=>r==="{"?t+"${":r==="}"?t+"}":t+W(r,{dot:!0}),""),vn=e=>e.split("/").reduce((r,n,o)=>!n&&!o?r:n.includes("{")?`${r}/${Sa(n)}`:`${r}/${n}`,"");m();var N=async(e,t,r=[])=>{if(!C(e))return{schema:e,imports:r};let{name:n,originalName:o,specKey:s,refPaths:a}=await Pe(e.$ref,t),i=_lodashget2.default.call(void 0, t.specs[s||t.specKey],a);if(!i)throw`Oups... \u{1F37B}. Ref not found: ${e.$ref}`;return N(i,$(O({},t),{specKey:s||t.specKey}),[...r,{name:n,specKey:s,schemaName:o}])};m();m();m();var _lodashuniq = require('lodash.uniq'); var _lodashuniq2 = _interopRequireDefault(_lodashuniq);var _lodashuniqwith = require('lodash.uniqwith'); var _lodashuniqwith2 = _interopRequireDefault(_lodashuniqwith);var En=({imports:e=[],target:t,isRootKey:r,specsName:n})=>e.length?_lodashuniqwith2.default.call(void 0, e,(o,s)=>o.name===s.name&&o.default===s.default&&o.specKey===s.specKey).sort().map(({specKey:o,name:s,values:a,alias:i})=>{if(o){let c=o!==t?n[o]:"";return!r&&o?`import ${a?"":"type "}{ ${s}${i?` as ${i}`:""} } from '../${_upath.join.call(void 0, c,T(s))}';`:`import ${a?"":"type "}{ ${s}${i?` as ${i}`:""} } from './${_upath.join.call(void 0, c,T(s))}';`}return`import ${a?"":"type "}{ ${s}${i?` as ${i}`:""} } from './${T(s)}';`}).join(`
`):"",V=(e,t)=>{let r=_lodashuniqwith2.default.call(void 0, e,(n,o)=>n.name===o.name&&n.default===o.default).map(n=>`import ${n.default?`${n.name}${n.hasErrorType?`, { ErrorType as ${n.errorTypeName} }`:""}`:`{ ${n.name}${n.hasErrorType?`, ${n.errorTypeName}`:""} }`} from '${t?"../":""}${n.path}'`).join(`
`);return r?r+`
`:""},Ra=({implementation:e,exports:t,dependency:r,specsName:n,hasSchemaDir:o,isAllowSyntheticDefaultImports:s})=>{let a=t.filter(c=>e.includes(c.alias||c.name));if(!a.length)return;let i=a.reduce((c,p)=>{var u,g;let l=o&&p.specKey?p.specKey:"default";return c[l]={values:((u=c[l])==null?void 0:u.values)||p.values&&(s||!p.syntheticDefaultImport)||!1,deps:[...((g=c[l])==null?void 0:g.deps)||[],p]},c},{});return Object.entries(i).map(([c,{values:p,deps:l}])=>{let u=l.find(b=>b.default&&(s||!b.syntheticDefaultImport)),g=s?void 0:l.find(b=>b.syntheticDefaultImport),f=_lodashuniq2.default.call(void 0, l.filter(b=>!b.default&&!b.syntheticDefaultImport).map(({name:b,alias:S})=>S?`${b} as ${S}`:b)).join(`,
  `),d="",h=g?`import * as ${g.name} from '${r}';`:"";if(h){if(l.length===1)return h;d+=`${h}
`}return d+=`import ${p?"":"type "}${u?`${u.name}${f?",":""}`:""}${f?`{
  ${f}
}`:""} from '${r}${c!=="default"&&n[c]?`/${n[c]}`:""}'`,d}).join(`
`)},yt=(e,t,r,n,o)=>{let s=t.map(a=>Ra($(O({},a),{implementation:e,specsName:r,hasSchemaDir:n,isAllowSyntheticDefaultImports:o}))).filter(Boolean).join(`
`);return s?s+`
`:""},le=({response:e,body:t,queryParams:r,params:n})=>[...e.imports,...t.imports,...r?[{name:r.schema.name}]:[],...n.flatMap(({imports:o})=>o)];m();m();var Ta=["number","string","null","unknown","undefined","object","blob"],Ee=Ta.reduce((e,t)=>(e.push(t,`Array<${t}>`,`${t}[]`),e),[]),zt=[Y.POST,Y.PUT,Y.PATCH,Y.DELETE];var va=(e,t,r)=>t&&e.formData?`
      formData,`:r&&e.formUrlEncoded?`
      formUrlEncoded,`:e.implementation?`
      ${e.implementation},`:"",Pa=(e,t,r)=>{var s;let n=r!==!1;if(!t&&!e.isBlob)return n?"options":"";let o="";return t&&(o+=`
        params,`),e.isBlob&&(!q(r)||!r.hasOwnProperty("responseType"))&&(o+=`
        responseType: 'blob',`),q(r)&&(o+=`
 ${(s=ee(r))==null?void 0:s.slice(1,-1)}`),n&&(o+=`
    ...options`),o},ue=({route:e,body:t,queryParams:r,response:n,verb:o,requestOptions:s,isFormData:a,isFormUrlEncoded:i,isAngular:c})=>{let p=zt.includes(o),l=p?va(t,a,i):"",u=Pa(n,r==null?void 0:r.schema,s);return o===Y.DELETE?l?`
      \`${e}\`,{${c?"body":"data"}:${l} ${u==="options"?`...${u}`:u}}
    `:`
      \`${e}\`,${u==="options"?u:`{${u}}`}
    `:`
      \`${e}\`,${p?l||"undefined,":""}${u==="options"?u:`{${u}}`}
    `},Ma=(e,t,r)=>t&&e.formData?`,
       data: formData`:r&&e.formUrlEncoded?`,
       data: formUrlEncoded`:e.implementation?`,
      data: ${e.implementation}`:"",Ea=(e,t)=>{if(!t&&!e.isBlob)return"";let r=",";return t&&(r+=`
        params,`),e.isBlob&&(r+=`
        responseType: 'blob',`),r},fe=({route:e,body:t,queryParams:r,response:n,verb:o,isFormData:s,isFormUrlEncoded:a})=>{let c=zt.includes(o)?Ma(t,s,a):"",p=Ea(n,r==null?void 0:r.schema);return`{url: \`${e}\`, method: '${o}'${c}${p}
    }`},ge=(e,t)=>{var r,n;return t?q(e)?`{${(n=ee(e))==null?void 0:n.slice(1,-1)} ...options}`:"options":q(e)?(r=ee(e))==null?void 0:r.slice(1,-1):""},de=({body:e,formData:t,formUrlEncoded:r,isFormData:n,isFormUrlEncoded:o})=>n&&e.formData?t?`const formData = ${t.name}(${e.implementation})`:e.formData:o&&e.formUrlEncoded?r?`const formUrlEncoded = ${r.name}(${e.implementation})`:e.formUrlEncoded:"";var Ga=[{exports:[{name:"HttpClient",values:!0},{name:"HttpHeaders"},{name:"HttpParams"},{name:"HttpContext"}],dependency:"@angular/common/http"},{exports:[{name:"Injectable",values:!0}],dependency:"@angular/core"},{exports:[{name:"Observable",values:!0}],dependency:"rxjs"}],Gn=()=>Ga,In=e=>{let t=W(e);return`${x(t)}Service`},An=({title:e,isRequestOptions:t,isMutator:r,isGlobalMutator:n,provideInRoot:o,provideIn:s})=>`
${t&&!n?`type HttpClientOptions = {
  headers?: HttpHeaders | {
      [header: string]: string | string[];
  };
  context?: HttpContext;
  observe?: any;
  params?: HttpParams | {
    [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;
  };
  reportProgress?: boolean;
  responseType?: any;
  withCredentials?: boolean;
};`:""}

${t&&r?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
    type ThirdParameter<T extends (...args: any) => any> = T extends (
  config: any,
  httpClient: any,
  args: infer P,
) => any
  ? P
  : never;`:""}

@Injectable(${s?`{ providedIn: '${J(s)?"root":s}' }`:""})
export class ${e} {
  constructor(
    private http: HttpClient,
  ) {}`,Cn=()=>`};
`,Ia=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:a,override:i,formData:c,formUrlEncoded:p},{route:l})=>{let u=(i==null?void 0:i.requestOptions)!==!1,g=(i==null?void 0:i.formData)!==!1,f=(i==null?void 0:i.formUrlEncoded)!==!1,d=de({formData:c,formUrlEncoded:p,body:o,isFormData:g,isFormUrlEncoded:f});if(n){let b=fe({route:l,body:o,queryParams:e,response:r,verb:a,isFormData:g,isFormUrlEncoded:f}),S=n.mutatorFn.length>2,w=u?ge(i==null?void 0:i.requestOptions,S):"";return` ${t}<TData = ${r.definition.success||"unknown"}>(
    ${_(s,"implementation")}
 ${u&&S?`options?: ThirdParameter<typeof ${n.name}>`:""}) {${d}
      return ${n.name}<TData>(
      ${b},
      this.http,
      ${w});
    }
  `}let h=ue({route:l,body:o,queryParams:e,response:r,verb:a,requestOptions:i==null?void 0:i.requestOptions,isFormData:g,isFormUrlEncoded:f,isAngular:!0});return` ${t}<TData = ${r.definition.success||"unknown"}>(
    ${_(s,"implementation")} ${u?`options?: HttpClientOptions
`:""}  ): Observable<TData>  {${d}
    return this.http.${a}<TData>(${h});
  }
`},qn=(e,t)=>{let r=le(e);return{implementation:Ia(e,t),imports:r}};m();var Aa=[{exports:[{name:"axios",default:!0,values:!0,syntheticDefaultImport:!0},{name:"AxiosRequestConfig"},{name:"AxiosResponse"}],dependency:"axios"}],Kt=()=>Aa,Ca=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:a,override:i,formData:c,formUrlEncoded:p},{route:l,context:u})=>{let g=(i==null?void 0:i.requestOptions)!==!1,f=(i==null?void 0:i.formData)!==!1,d=(i==null?void 0:i.formUrlEncoded)!==!1,h=Q(u.tsconfig),b=de({formData:c,formUrlEncoded:p,body:o,isFormData:f,isFormUrlEncoded:d});if(n){let w=fe({route:l,body:o,queryParams:e,response:r,verb:a,isFormData:f,isFormUrlEncoded:d}),j=n.mutatorFn.length>1,M=g?ge(i==null?void 0:i.requestOptions,j):"";return`const ${t} = (
    ${_(s,"implementation")}
 ${g&&j?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${b}
      return ${n.name}<${r.definition.success||"unknown"}>(
      ${w},
      ${M});
    }
  `}let S=ue({route:l,body:o,queryParams:e,response:r,verb:a,requestOptions:i==null?void 0:i.requestOptions,isFormData:f,isFormUrlEncoded:d});return`const ${t} = <TData = AxiosResponse<${r.definition.success||"unknown"}>>(
    ${_(s,"implementation")} ${g?`options?: AxiosRequestConfig
`:""} ): Promise<TData> => {${b}
    return axios${h?"":".default"}.${a}(${S});
  }
`},Lt=e=>{let t=W(e);return`get${x(t)}`},Qt=({title:e,isRequestOptions:t,isMutator:r,noFunction:n})=>`${t&&r?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
  type SecondParameter<T extends (...args: any) => any> = T extends (
  config: any,
  args: infer P,
) => any
  ? P
  : never;

`:""}
  ${n?"":`export const ${e} = () => {
`}`,Dn=(e=[])=>`return {${e.join(",")}}};
`,Ht=(e,t)=>{let r=le(e);return{implementation:Ca(e,t),imports:r}};m();m();m();m();var kn={email:"faker.internet.email()",zipCode:"faker.address.zipCode()",city:"faker.address.city()",streetName:"faker.address.streetName()",country:"faker.address.country()",date:"faker.date.recent()",iban:"faker.finance.iban()",userName:"faker.internet.userName()",firstName:"faker.name.firstName()",lastName:"faker.name.lastName()",jobTitle:"faker.name.jobTitle()",gender:"faker.name.gender()",phoneNumber:"faker.phone.phoneNumber()",url:"faker.internet.url()"};m();m();var Fn=(e,t,r)=>{var a,i;let n=Object.entries(((a=t.specs[r].components)==null?void 0:a.schemas)||[]).reduce((c,[p,l])=>(c[p]=l,c),{}),o=Object.entries(((i=t.specs[r].components)==null?void 0:i.responses)||[]).reduce((c,[p,l])=>{var u,g;return c[p]=C(l)?l:(g=(u=l.content)==null?void 0:u["application/json"])==null?void 0:g.schema,c},{}),s=O(O({},n),o);return $(O({},s[e]),{specKey:r})};var qa=e=>e[0]==="/"&&e[e.length-1]==="/",ht=(e={},t)=>{let r=Object.entries(e).find(([n])=>!!(qa(n)&&new RegExp(n.slice(1,n.length-1)).test(t.name)||`#.${n}`===(t.path?t.path:`#.${t.name}`)));if(!!r)return{value:Le(r[1],t.nullable),imports:[],name:t.name,overrided:!0}},Le=(e,t)=>t?`faker.helpers.randomize([${e}, null])`:e,ye=async({schema:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})=>{if(C(e)){let{name:a,specKey:i}=await Pe(e.$ref,$(O({},s),{specKey:e.specKey||s.specKey})),c=$(O({},Fn(a,s,i||e.specKey||s.specKey)),{name:a,path:e.path,isRef:!0,specKey:i||e.specKey});return Qe({item:c,mockOptions:t,operationId:r,tags:n,combine:o,context:s})}return Qe({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})};m();var _cuid = require('cuid'); var _cuid2 = _interopRequireDefault(_cuid);m();var Nn=(e="",t)=>e?(e.match(new RegExp(t,"g"))||[]).length:0;m();var Vn=async({item:e,items:t,isOneOf:r,mockOptions:n,operationId:o,tags:s,combine:a,context:i})=>{let c=[],p=[...(a==null?void 0:a.properties)||[]];return{value:await P(t,async(u,g,f,d)=>{let h=await ye({schema:$(O({},g),{name:e.name,path:e.path?e.path:"#",specKey:e.specKey}),combine:r?void 0:{properties:p},mockOptions:n,operationId:o,tags:s,context:i});return c=[...c,...h.imports],p=[...p,...h.properties||[]],!f&&!a?h.enums||r?d.length===1?`faker.helpers.randomize([${h.value}])`:`faker.helpers.randomize([${h.value},`:d.length===1?`{${h.value}}`:`{${h.value},`:d.length-1===f?h.enums||r?u+h.value+(a?"":"])"):u+h.value+(a?"":"}"):h.value?u+h.value+",":u},""),imports:c,name:e.name,properties:p}};m();var _esutils = require('esutils');var Ge=e=>_esutils.keyword.isIdentifierNameES5(e)?e:`'${e}'`;var Un=async({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})=>{if(C(e))return ye({schema:$(O({},e),{name:e.name,path:e.path?`${e.path}.${e.name}`:e.name,specKey:e.specKey}),mockOptions:t,operationId:r,tags:n,context:s});if(e.allOf||e.oneOf||e.anyOf)return Vn({item:e,items:e.allOf||e.oneOf||e.anyOf,isOneOf:!!(e.oneOf||e.anyOf),mockOptions:t,operationId:r,tags:n,combine:o,context:s});if(e.properties){let a=o?"":"{",i=[],c=[];return a+=(await Promise.all(Object.entries(e.properties).map(async([p,l])=>{if(o==null?void 0:o.properties.includes(p))return;let u=(t==null?void 0:t.required)||(Array.isArray(e.required)?e.required:[]).includes(p);if(Nn(e.path,`\\.${p}\\.`)>=1)return;let g=await ye({schema:$(O({},l),{name:p,path:e.path?`${e.path}.${p}`:`#.${p}`,specKey:e.specKey}),mockOptions:t,operationId:r,tags:n,context:s});i=[...i,...g.imports],c=[...c,p];let f=Ge(p);return!u&&!g.overrided?`${f}: faker.helpers.randomize([${g.value}, undefined])`:`${f}: ${g.value}`}))).filter(Boolean).join(", "),a+=o?"":"}",{value:a,imports:i,name:e.name,properties:c}}if(e.additionalProperties){if(J(e.additionalProperties))return{value:"{}",imports:[],name:e.name};let a=await ye({schema:$(O({},e.additionalProperties),{name:e.name,path:e.path?`${e.path}.#`:"#",specKey:e.specKey}),mockOptions:t,operationId:r,tags:n,context:s});return $(O({},a),{value:`{
        '${_cuid2.default.call(void 0, )}': ${a.value}
      }`})}return{value:"{}",imports:[],name:e.name}};var Qe=async({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})=>{var u,g;let a=ht((g=(u=t==null?void 0:t.operations)==null?void 0:u[r])==null?void 0:g.properties,e);if(a)return a;let i=Object.entries((t==null?void 0:t.tags)||{}).reduce((f,[d,h])=>n.includes(d)?je(f,h):f,{}),c=ht(i==null?void 0:i.properties,e);if(c)return c;let p=ht(t==null?void 0:t.properties,e);if(p)return p;let l=O(O({},kn),(t==null?void 0:t.format)||{});if(e.format&&l[e.format])return{value:Le(l[e.format],e.nullable),imports:[],name:e.name,overrided:!1};switch(e.type){case"number":case"integer":return{value:Le("faker.datatype.number()",e.nullable),imports:[],name:e.name};case"boolean":return{value:"faker.datatype.boolean()",imports:[],name:e.name};case"array":{if(!e.items)return{value:[],imports:[],name:e.name};let{value:f,enums:d,imports:h,name:b}=await ye({schema:$(O({},e.items),{name:e.name,path:e.path?`${e.path}.[]`:"#.[]",specKey:e.specKey}),combine:o,mockOptions:t,operationId:r,tags:n,context:s});return d?{value:`[...Array(faker.datatype.number({min:1, max: ${d.length}}))].reduce(({values, enums}) => {
            const newValue = enums[faker.datatype.number({min:1, max: enums.length})];
            return {
              values: [...values, newValue],
              enums: enums.filter((v: ${b}) => newValue !== v)
            }
          },{ values: [], enums: Object.values(${b})})`,imports:h,name:e.name}:{value:`[...Array(faker.datatype.number({min: 1, max: 10}))].map(() => (${f}))`,imports:h,name:e.name}}case"string":{let f="faker.random.word()",d=[];if(e.enum){let h="['"+e.enum.map(b=>dt(b)).join("','")+"']";e.isRef&&(h=`Object.values(${e.name})`,d=[{name:e.name,values:!0}]),f=`faker.helpers.randomize(${h})`}return{value:Le(f,e.nullable),enums:e.enum,name:e.name,imports:d}}case"object":default:return Un({item:e,mockOptions:t,operationId:r,tags:n,combine:o,context:s})}};var bt=(e,t)=>Object.entries(L(e)?e(t):e).reduce((r,[n,o])=>(r[n]=L(o)?`(${o})()`:ee(o),r),{}),Fa=(e,t)=>{var r,n,o;return O(O(O(O({required:(r=t==null?void 0:t.mock)==null?void 0:r.required},((n=t==null?void 0:t.mock)==null?void 0:n.properties)?{properties:bt(t.mock.properties,e)}:{}),((o=t==null?void 0:t.mock)==null?void 0:o.format)?{format:bt(t.mock.format,e)}:{}),(t==null?void 0:t.operations)?{operations:Object.entries(t.operations).reduce((s,[a,i])=>{var c;return((c=i.mock)==null?void 0:c.properties)&&(s[a]={properties:bt(i.mock.properties,e)}),s},{})}:{}),(t==null?void 0:t.tags)?{tags:Object.entries(t.tags).reduce((s,[a,i])=>{var c;return((c=i.mock)==null?void 0:c.properties)&&(s[a]={properties:bt(i.mock.properties,e)}),s},{})}:{})},Na=e=>{let t=e.endsWith("[]");switch(t?e.slice(0,-2):e){case"number":return t?"Array.from({length: faker.datatype.number({min: 1, max: 10})}, () => faker.datatype.number())":"faker.datatype.number().toString()";case"string":return t?"Array.from({length: faker.datatype.number({min: 1, max: 10})}, () => faker.random.word())":"faker.random.word()";default:return"undefined"}},Va=({operationId:e,tags:t,response:r,mockOptionsWithoutFunc:n,transformer:o,context:s})=>P(r.types.success,async(a,{value:i,originalSchema:c})=>{if(!i||Ee.includes(i)){let u=Na(i);return a.definitions.push(o?o(u,r.definition.success):u),a}if(!c)return a;let p=await N(c,s),l=await Qe({item:O(O({name:i},p.schema),r.imports.length?{specKey:r.imports[0].specKey}:{}),mockOptions:n,operationId:e,tags:t,context:s});return a.imports.push(...l.imports),a.definitions.push(o?o(l.value,r.definition.success):l.value.toString()),a},{definitions:[],imports:[]}),Wn=async({operationId:e,tags:t,response:r,override:n,transformer:o,context:s})=>{let a=Fa(s.specs[s.specKey],n),{definitions:i,imports:c}=await Va({operationId:e,tags:t,response:r,mockOptionsWithoutFunc:a,transformer:o,context:s});return{definition:"["+i.join(", ")+"]",definitions:i,imports:c}},_n=(e,t)=>{var n,o,s;let r=(s=(o=(n=t==null?void 0:t.operations)==null?void 0:n[e])==null?void 0:o.mock)==null?void 0:s.data;return L(r)?`(${r})()`:ee(r)};var Ua=e=>e.split("").reduce((t,r)=>r==="{"?t+":":r==="}"?t+"":t+W(r),""),Wa=(e,t="*")=>e.split("/").reduce((n,o)=>o?o.includes("{")?`${n}/${Ua(o)}`:`${n}/${o}`:n,t),_a=[{exports:[{name:"rest",values:!0}],dependency:"msw"},{exports:[{name:"faker",default:!0,values:!0,syntheticDefaultImport:!0}],dependency:"faker"}],he=(e,t,r,n,o)=>yt(e,[..._a,...t],r,n,o),Bn=async({operationId:e,response:t,verb:r,tags:n},{pathRoute:o,override:s,context:a})=>{var d;let{definitions:i,definition:c,imports:p}=await Wn({operationId:e,tags:n,response:t,override:s,context:a}),l=Wa(o,(d=s==null?void 0:s.mock)==null?void 0:d.baseUrl),u=_n(e,s),g="";u?g=u:i.length>1?g=`faker.helpers.randomize(${c})`:i[0]&&(g=i[0]);let f=t.contentTypes.includes("text/plain")?"text":"json";return{implementation:{function:g&&g!=="undefined"?`export const get${x(e)}Mock = () => (${g})

`:"",handler:`rest.${r}('${l}', (_req, res, ctx) => {
        return res(
          ctx.delay(1000),
          ctx.status(200, 'Mocked status'),${g&&g!=="undefined"?`
ctx.${f}(get${x(e)}Mock()),`:""}
        )
      }),`},imports:p}};m();var _lodashomitby = require('lodash.omitby'); var _lodashomitby2 = _interopRequireDefault(_lodashomitby);m();var oe={PARAM:"param",BODY:"body",QUERY_PARAM:"queryParam"};var Yt=[{exports:[{name:"axios",default:!0,values:!0,syntheticDefaultImport:!0},{name:"AxiosRequestConfig"},{name:"AxiosResponse"},{name:"AxiosError"}],dependency:"axios"}],za=[...Yt,{exports:[{name:"useQuery",values:!0},{name:"useInfiniteQuery",values:!0},{name:"useMutation",values:!0},{name:"UseQueryOptions"},{name:"UseInfiniteQueryOptions"},{name:"UseMutationOptions"},{name:"QueryFunction"},{name:"MutationFunction"},{name:"UseQueryStoreResult"},{name:"UseInfiniteQueryStoreResult"},{name:"QueryKey"}],dependency:"@sveltestack/svelte-query"}],zn=()=>za,Ka=[...Yt,{exports:[{name:"useQuery",values:!0},{name:"useInfiniteQuery",values:!0},{name:"useMutation",values:!0},{name:"UseQueryOptions"},{name:"UseInfiniteQueryOptions"},{name:"UseMutationOptions"},{name:"QueryFunction"},{name:"MutationFunction"},{name:"UseQueryResult"},{name:"UseInfiniteQueryResult"},{name:"QueryKey"}],dependency:"react-query"}],Kn=()=>Ka,La=[...Yt,{exports:[{name:"useQuery",values:!0},{name:"useInfiniteQuery",values:!0},{name:"useMutation",values:!0}],dependency:"vue-query"},{exports:[{name:"UseQueryOptions"},{name:"UseInfiniteQueryOptions"},{name:"UseMutationOptions"},{name:"QueryFunction"},{name:"MutationFunction"},{name:"UseQueryResult"},{name:"UseInfiniteQueryResult"},{name:"QueryKey"}],dependency:"vue-query/types"}],Ln=()=>La,Qa=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:a,formData:i,formUrlEncoded:c,override:p},{route:l,context:u})=>{let g=(p==null?void 0:p.requestOptions)!==!1,f=(p==null?void 0:p.formData)!==!1,d=(p==null?void 0:p.formUrlEncoded)!==!1,h=Q(u.tsconfig),b=de({formData:i,formUrlEncoded:c,body:o,isFormData:f,isFormUrlEncoded:d});if(n){let w=fe({route:l,body:o,queryParams:e,response:r,verb:a,isFormData:f,isFormUrlEncoded:d}),j=n.mutatorFn.length>1,M=g?ge(p==null?void 0:p.requestOptions,j):"";return(n==null?void 0:n.name.startsWith("use"))&&!n.mutatorFn.length?`export const use${x(t)}Hook = () => {
        const ${t} = ${n.name}<${r.definition.success||"unknown"}>();

        return (
    ${_(s,"implementation")}
 ${g&&j?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${b}
        return ${t}(
          ${w},
          ${M});
        }
      }
    `:`export const ${t} = (
    ${_(s,"implementation")}
 ${g&&j?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${b}
      return ${n.name}<${r.definition.success||"unknown"}>(
      ${w},
      ${M});
    }
  `}let S=ue({route:l,body:o,queryParams:e,response:r,verb:a,requestOptions:p==null?void 0:p.requestOptions,isFormData:f,isFormUrlEncoded:d});return`export const ${t} = (
    ${_(s,"implementation")} ${g?`options?: AxiosRequestConfig
`:""} ): Promise<AxiosResponse<${r.definition.success||"unknown"}>> => {${b}
    return axios${h?"":".default"}.${a}(${S});
  }
`},Jt={INFINITE:"infiniteQuery",QUERY:"query"},Ha=["getNextPageParam","getPreviousPageParam"],Ya=({params:e,options:t,type:r})=>{var o;if(t===!1)return"";let n=q(t)?` ${(o=ee(_lodashomitby2.default.call(void 0, t,(s,a)=>!!(r!==Jt.INFINITE&&Ha.includes(a)))))==null?void 0:o.slice(1,-1)}`:"";return e.length?`{${!q(t)||!t.hasOwnProperty("enabled")?`enabled: !!(${e.map(({name:s})=>s).join(" && ")}),`:""}${n} ...queryOptions}`:t?`{${n} ...queryOptions}`:"queryOptions"},Qn=({operationName:e,definitions:t,mutator:r,isRequestOptions:n,isMutatorHasSecondArg:o,type:s})=>{let a=(r==null?void 0:r.name.startsWith("use"))&&!r.mutatorFn.length,i=s?`Use${x(s)}Options<AsyncReturnType<${a?`ReturnType<typeof use${x(e)}Hook>`:`typeof ${e}`}>, TError, TData>`:`UseMutationOptions<AsyncReturnType<${a?`ReturnType<typeof use${x(e)}Hook>`:`typeof ${e}`}>, TError,${t?`{${t}}`:"TVariables"}, TContext>`;return n?`options?: { ${s?"query":"mutation"}?:${i}, ${r?o?`request?: SecondParameter<typeof ${r.name}>`:"":"axios?: AxiosRequestConfig"}}
`:`${s?"queryOptions":"mutationOptions"}?: ${i}`},Ja=({queryOption:{name:e,queryParam:t,options:r,type:n},operationName:o,queryProps:s,queryKeyFnName:a,properties:i,params:c,props:p,mutator:l,isRequestOptions:u,response:g,outputClient:f})=>{let d=(l==null?void 0:l.name.startsWith("use"))&&!l.mutatorFn.length,h=t?p.map(({name:j})=>j==="params"?`{ ${t}: pageParam, ...params }`:j).join(","):i,b=!!l&&l.mutatorFn.length>1,S=f!==K.SVELTE_QUERY?` Use${x(n)}Result<TData, TError>`:`Use${x(n)}StoreResult<AsyncReturnType<${d?`ReturnType<typeof use${x(o)}Hook>`:`typeof ${o}`}>, TError, TData, QueryKey>`,w=`AxiosError<${g.definition.errors||"unknown"}>`;return l&&(w=l.hasErrorType?`${l.default?x(o):""}ErrorType<${g.definition.errors||"unknown"}>`:g.definition.errors||"unknown"),`
export const ${T(`use-${e}`)} = <TData = AsyncReturnType<${d?`ReturnType<typeof use${x(o)}Hook>`:`typeof ${o}`}>, TError = ${w}>(
 ${s} ${Qn({operationName:o,definitions:"",mutator:l,isRequestOptions:u,isMutatorHasSecondArg:b,type:n})}
  ): ${S} & { queryKey: QueryKey } => {

  ${u?`const {query: queryOptions${l?b?", request: requestOptions":"":", axios: axiosOptions"}} = options || {}`:""}

  const queryKey = queryOptions?.queryKey ?? ${a}(${i});

  ${d?`const ${o} =  use${x(o)}Hook()`:""}

  const queryFn: QueryFunction<AsyncReturnType<${d?`ReturnType<typeof use${x(o)}Hook>`:`typeof ${o}`}>> = (${t&&p.some(({type:j})=>j==="queryParam")?"{ pageParam }":""}) => ${o}(${h}${h?", ":""}${u?l?b?"requestOptions":"":"axiosOptions":""});

  const query = ${T(`use-${n}`)}<AsyncReturnType<${d?`ReturnType<typeof use${x(o)}Hook>`:`typeof ${o}`}>, TError, TData>(queryKey, queryFn, ${Ya({params:c,options:r,type:n})})

  return {
    queryKey,
    ...query
  }
}
`},Xa=({queryParams:e,operationName:t,body:r,props:n,verb:o,params:s,override:a,mutator:i,response:c,operationId:p},{route:l,override:{operations:u={}}},g)=>{var v;let f=a==null?void 0:a.query,d=(a==null?void 0:a.requestOptions)!==!1,h=(v=u[p])==null?void 0:v.query;if(o===Y.GET||(h==null?void 0:h.useInfinite)||(h==null?void 0:h.useQuery)){let A=n.map(({name:ne,type:H})=>H===oe.BODY?r.implementation:ne).join(","),I=[...(f==null?void 0:f.useInfinite)?[{name:T(`${t}-infinite`),options:f==null?void 0:f.options,type:Jt.INFINITE,queryParam:f==null?void 0:f.useInfiniteQueryParam}]:[],...!(f==null?void 0:f.useQuery)&&!(f==null?void 0:f.useInfinite)||(f==null?void 0:f.useQuery)?[{name:t,options:f==null?void 0:f.options,type:Jt.QUERY}]:[]],k=T(`get-${t}-queryKey`),re=_(n,"implementation");return`export const ${k} = (${re}) => [\`${l}\`${e?", ...(params ? [params]: [])":""}${r.implementation?`, ${r.implementation}`:""}];

    ${I.reduce((ne,H)=>ne+Ja({queryOption:H,operationName:t,queryProps:re,queryKeyFnName:k,properties:A,params:s,props:n,mutator:i,isRequestOptions:d,response:c,outputClient:g}),"")}
`}let b=n.map(({definition:A,type:I})=>I===oe.BODY?`data: ${r.definition}`:A).join(";"),S=(i==null?void 0:i.name.startsWith("use"))&&!i.mutatorFn.length,w=!!i&&i.mutatorFn.length>1,j=n.map(({name:A,type:I})=>I===oe.BODY?"data":A).join(","),M=`AxiosError<${c.definition.errors||"unknown"}>`;return i&&(M=i.hasErrorType?`${i.default?x(t):""}ErrorType<${c.definition.errors||"unknown"}>`:c.definition.errors||"unknown"),`
    export const ${T(`use-${t}`)} = <TError = ${M},
    ${b?"":"TVariables = void,"}
    TContext = unknown>(${Qn({operationName:t,isMutatorHasSecondArg:w,definitions:b,mutator:i,isRequestOptions:d})}) => {
      ${d?`const {mutation: mutationOptions${i?w?", request: requestOptions":"":", axios: axiosOptions"}} = options || {}`:""}

      ${S?`const ${t} =  use${x(t)}Hook()`:""}


      const mutationFn: MutationFunction<AsyncReturnType<${S?`ReturnType<typeof use${x(t)}Hook>`:`typeof ${t}`}>, ${b?`{${b}}`:"TVariables"}> = (${j?"props":""}) => {
          ${j?`const {${j}} = props || {}`:""};

          return  ${t}(${j}${j?",":""}${d?i?w?"requestOptions":"":"axiosOptions":""})
        }

      return useMutation<AsyncReturnType<typeof ${t}>, TError, ${b?`{${b}}`:"TVariables"}, TContext>(mutationFn, mutationOptions)
    }
    `},Ot=()=>"",xt=({isRequestOptions:e,isMutator:t})=>`// eslint-disable-next-line @typescript-eslint/no-explicit-any
type AsyncReturnType<
T extends (...args: any) => Promise<any>
> = T extends (...args: any) => Promise<infer R> ? R : any;


${e&&t?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
  type SecondParameter<T extends (...args: any) => any> = T extends (
  config: any,
  args: infer P,
) => any
  ? P
  : never;

`:""}`,$t=()=>"",St=(e,t,r)=>{let n=le(e),o=Qa(e,t),s=Xa(e,t,r);return{implementation:`${o}

${s}`,imports:n}};m();var Za=[{exports:[{name:"axios",default:!0,values:!0,syntheticDefaultImport:!0},{name:"AxiosRequestConfig"},{name:"AxiosResponse"},{name:"AxiosError"}],dependency:"axios"}],ep=[...Za,{exports:[{name:"useSwr",values:!0,default:!0},{name:"SWRConfiguration"},{name:"Key"}],dependency:"swr"}],Hn=()=>ep,tp=({queryParams:e,operationName:t,response:r,mutator:n,body:o,props:s,verb:a,formData:i,formUrlEncoded:c,override:p},{route:l,context:u})=>{let g=(p==null?void 0:p.requestOptions)!==!1,f=(p==null?void 0:p.formData)!==!1,d=(p==null?void 0:p.formUrlEncoded)!==!1,h=Q(u.tsconfig),b=de({formData:i,formUrlEncoded:c,body:o,isFormData:f,isFormUrlEncoded:d});if(n){let w=fe({route:l,body:o,queryParams:e,response:r,verb:a,isFormData:f,isFormUrlEncoded:d}),j=n.mutatorFn.length>1,M=g?ge(p==null?void 0:p.requestOptions,j):"";return`export const ${t} = (
    ${_(s,"implementation")}
 ${g&&j?`options?: SecondParameter<typeof ${n.name}>`:""}) => {${b}
      return ${n.name}<${r.definition.success||"unknown"}>(
      ${w},
      ${M});
    }
  `}let S=ue({route:l,body:o,queryParams:e,response:r,verb:a,requestOptions:p==null?void 0:p.requestOptions,isFormData:f,isFormUrlEncoded:d});return`export const ${t} = (
    ${_(s,"implementation")} ${g?`options?: AxiosRequestConfig
`:""} ): Promise<AxiosResponse<${r.definition.success||"unknown"}>> => {${b}
    return axios${h?"":".default"}.${a}(${S});
  }
`},rp=({operationName:e,mutator:t,isRequestOptions:r,isMutatorHasSecondArg:n})=>{let o=`SWRConfiguration<AsyncReturnType<typeof ${e}>, TError> & {swrKey: Key}`;return r?`options?: { swr?:${o}, ${t?n?`request?: SecondParameter<typeof ${t.name}>`:"":"axios?: AxiosRequestConfig"} }
`:`swrOptions?: ${o}`},np=({operationName:e,swrProps:t,swrKeyFnName:r,properties:n,params:o,mutator:s,isRequestOptions:a,response:i})=>{let c=n,p=!!s&&s.mutatorFn.length>1,l=o.length?`const isEnable = !!(${o.map(({name:g})=>g).join(" && ")})
  const swrKey = swrOptions?.swrKey ?? (() => isEnable ? ${r}(${n}) : null);`:`const swrKey = swrOptions?.swrKey ?? (() => ${r}(${n}))`,u=`AxiosError<${i.definition.errors||"unknown"}>`;return s&&(u=s.hasErrorType?`ErrorType<${i.definition.errors||"unknown"}>`:i.definition.errors||"unknown"),`
export const ${T(`use-${e}`)} = <TError = ${u}>(
 ${t} ${rp({operationName:e,mutator:s,isRequestOptions:a,isMutatorHasSecondArg:p})}
  ) => {

  ${a?`const {swr: swrOptions${s?p?", request: requestOptions":"":", axios: axiosOptions"}} = options || {}`:""}

  ${l}
  const swrFn = () => ${e}(${c}${c?", ":""}${a?s?p?"requestOptions":"":"axiosOptions":""});

  const query = useSwr<AsyncReturnType<typeof swrFn>, TError>(swrKey, swrFn, swrOptions)

  return {
    swrKey,
    ...query
  }
}
`},op=({queryParams:e,operationName:t,body:r,props:n,verb:o,params:s,override:a,mutator:i,response:c},{route:p})=>{let l=(a==null?void 0:a.requestOptions)!==!1;if(o!==Y.GET)return"";let u=n.map(({name:d,type:h})=>h===oe.BODY?r.implementation:d).join(","),g=T(`get-${t}-key`),f=_(n,"implementation");return`export const ${g} = (${f}) => [\`${p}\`${e?", ...(params ? [params]: [])":""}${r.implementation?`, ${r.implementation}`:""}];

    ${np({operationName:t,swrProps:f,swrKeyFnName:g,properties:u,params:s,props:n,mutator:i,isRequestOptions:l,response:c})}
`},Yn=()=>"",Jn=({isRequestOptions:e,isMutator:t})=>`// eslint-disable-next-line @typescript-eslint/no-explicit-any
type AsyncReturnType<
T extends (...args: any) => Promise<any>
> = T extends (...args: any) => Promise<infer R> ? R : any;


${e&&t?`// eslint-disable-next-line @typescript-eslint/no-explicit-any
  type SecondParameter<T extends (...args: any) => any> = T extends (
  config: any,
  args: infer P,
) => any
  ? P
  : never;

`:""}`,Xn=()=>"",Zn=(e,t)=>{let r=le(e),n=tp(e,t),o=op(e,t);return{implementation:`${n}

${o}`,imports:r}};var He=K.AXIOS,eo={axios:{client:Ht,header:Qt,dependencies:Kt,footer:Dn,title:Lt},"axios-functions":{client:(e,t)=>{let{implementation:r,imports:n}=Ht(e,t);return{implementation:"export "+r,imports:n}},header:e=>Qt($(O({},e),{noFunction:!0})),dependencies:Kt,footer:()=>"",title:Lt},angular:{client:qn,header:An,dependencies:Gn,footer:Cn,title:In},"react-query":{client:St,header:xt,dependencies:Kn,footer:$t,title:Ot},"svelte-query":{client:St,header:xt,dependencies:zn,footer:$t,title:Ot},"vue-query":{client:St,header:xt,dependencies:Ln,footer:$t,title:Ot},swr:{client:Zn,header:Jn,dependencies:Hn,footer:Xn,title:Yn}},Ye=e=>{let t=L(e)?e(eo):eo[e];if(!t)throw`Oups... \u{1F37B}. Client not found: ${e}`;return t},be=(e=He,t,r,n,o,s)=>{let{dependencies:a}=Ye(e);return yt(t,[...a(),...r],n,o,s)},wt=({outputClient:e=He,isRequestOptions:t,title:r,customTitleFunc:n,isGlobalMutator:o,isMutator:s,provideInRoot:a,provideIn:i})=>{let c=sp(e,r,n),{header:p}=Ye(e);return{implementation:p({title:c.implementation,isRequestOptions:t,isGlobalMutator:o,isMutator:s,provideInRoot:a,provideIn:i}),implementationMSW:`export const ${c.implementationMSW} = () => [
`}},jt=(e=He,t)=>{let{footer:r}=Ye(e);return{implementation:r(t),implementationMSW:`]
`}},sp=(e=He,t,r)=>{let{title:n}=Ye(e);if(r){let o=r(t);return{implementation:n(o),implementationMSW:`get${x(o)}MSW`}}return{implementation:n(t),implementationMSW:`get${x(t)}MSW`}},ip=async(e,t)=>t.mock?L(t.mock)?t.mock(e,t):Bn(e,t):{implementation:{function:"",handler:""},imports:[]},to=(e=He,t,r)=>P(t,async(n,o)=>{let{client:s}=Ye(e),a=s(o,r,e),i=await ip(o,r);return n[o.operationId]={implementation:o.doc+a.implementation,imports:a.imports,implementationMSW:i.implementation,importsMSW:i.imports,tags:o.tags,mutator:o.mutator,formData:o.formData,formUrlEncoded:o.formUrlEncoded,operationName:o.operationName},n},{});m();m();var ap="\\*/",ro="*\\/",no=new RegExp(ap,"g");function U({description:e,deprecated:t,summary:r},n=!1){let o=(Array.isArray(e)?e:[e||""]).map(c=>c.replace(no,ro)),s=[e,t,r].reduce((c,p)=>p?c+1:c,0);if(!s)return"";let a=s===1&&n,i="/**";return e&&(a||(i+=`
${n?"  ":""} *`),i+=` ${o.join(`
 * `)}`),t&&(a||(i+=`
${n?"  ":""} *`),i+=" @deprecated"),r&&(a||(i+=`
${n?"  ":""} *`),i+=` @summary ${r.replace(no,ro)}`),i+=a?" ":`
 ${n?"  ":""}`,i+=`*/
`,i}m();m();var _lodashuniqby = require('lodash.uniqby'); var _lodashuniqby2 = _interopRequireDefault(_lodashuniqby);m();var Je=async(e,t,r,n)=>{let{schema:o,imports:s}=await N(t,r),a=C(t)?s[0].name:e,i=n?"formUrlEncoded":"formData",c=n?`const ${i} = new URLSearchParams();
`:`const ${i} = new FormData();
`;if(o.type==="object"&&o.properties){let p=await P(Object.entries(o.properties),async(l,[u,g])=>{var h;let{schema:f}=await N(g,r),d="";return f.type==="object"||f.type==="array"?d=`${i}.append('${u}', JSON.stringify(${T(a)}${u.includes("-")?`['${u}']`:`.${u}`}))
`:f.type==="number"||f.type==="integer"||f.type==="boolean"?d=`${i}.append('${u}', ${T(a)}${u.includes("-")?`['${u}']`:`.${u}`}.toString())
`:d=`${i}.append('${u}', ${T(a)}${u.includes("-")?`['${u}']`:`.${u}`})
`,((h=o.required)==null?void 0:h.includes(u))?l+d:l+`if(${T(a)}${u.includes("-")?`['${u}']`:`.${u}`} !== undefined) {
 ${d} }
`},"");return`${c}${p}`}return o.type==="array"?`${c}${i}.append('data', JSON.stringify(${T(a)}))
`:o.type==="number"||o.type==="boolean"?`${c}${i}.append('data', ${T(a)}.toString())
`:`${c}${i}.append('data', ${T(a)})
`};m();m();var Ie=(e,t,r)=>{let n=`export type ${r} = ${e};
`,o=Xt(e,t,r);return n+=`

`,n+=`// eslint-disable-next-line @typescript-eslint/no-redeclare
`,n+=`export const ${r} = {
${o}};
`,n},Xt=(e,t,r)=>[...new Set(e.split(" | "))].reduce((n,o)=>{if(o==="null")return n;let s=t==="number",i=!Number.isNaN(Number(o.slice(1,-1)))||s?mp(s?o.toString():o.slice(1,-1)):W(o,{underscore:"_",whitespace:"_",dash:"-"});return n+`  ${_esutils.keyword.isIdentifierNameES5(i)?i:`'${i}'`}: ${o} as ${r},
`},""),mp=e=>e[0]==="-"?`NUMBER_MINUS_${e.slice(1)}`:e[0]==="+"?`NUMBER_PLUS_${e.slice(1)}`:`NUMBER_${e}`;m();m();m();var oo=async({schema:e,name:t,context:r})=>{if(e.items){let n=await se({schema:e.items,propName:t+"Item",context:r});return{value:`${n.value}[]`,imports:n.imports,schemas:n.schemas,isEnum:!1,type:"array",isRef:!1}}else throw new Error("All arrays must have an `items` key define")};m();m();var cp={allOf:"&",oneOf:"|",anyOf:"|"},Rt=async({name:e,items:t,separator:r,context:n})=>{let o=await P(t,async(i,c)=>{let p=e?e+x(r):void 0;p&&i.schemas.length&&(p=p+x(gt(i.schemas.length+1)));let l=await se({schema:c,propName:p,combined:!0,context:n});return i.values.push(l.value),i.imports.push(...l.imports),i.schemas.push(...l.schemas),i.isEnum.push(l.isEnum),i.types.push(l.type),i.isRef.push(l.isRef),i},{values:[],imports:[],schemas:[],isEnum:[],isRef:[],types:[]}),s=o.isEnum.every(i=>i),a=o.values.join(` ${s?"|":cp[r]} `);if(s&&e){let i=o.values.map((p,l)=>o.isRef[l]?`...${p}`:Xt(p,o.types[l],x(e))).join(","),c=`

// eslint-disable-next-line @typescript-eslint/no-redeclare
export const ${x(e)} = {${i}}`;return{value:a+c,imports:o.imports.map(p=>$(O({},p),{values:!0})),schemas:o.schemas,isEnum:!1,type:"object",isRef:!1}}return{value:a,imports:o.imports,schemas:o.schemas,isEnum:s,type:"object",isRef:!1}};var so=async({item:e,name:t,context:r})=>{if(C(e)){let{name:n,specKey:o}=await Pe(e.$ref,r);return{value:n,imports:[{name:n,specKey:o}],schemas:[],isEnum:!1,type:"object",isRef:!0}}if(e.allOf)return Rt({items:e.properties?[...e.allOf,_lodashomit2.default.call(void 0, e,"allOf")]:e.allOf,name:t,separator:"allOf",context:r});if(e.oneOf)return Rt({items:e.properties?[...e.oneOf,_lodashomit2.default.call(void 0, e,"oneOf")]:e.oneOf,name:t,separator:"oneOf",context:r});if(e.anyOf)return Rt({items:e.properties?[...e.anyOf,_lodashomit2.default.call(void 0, e,"anyOf")]:e.anyOf,name:t,separator:"anyOf",context:r});if(e.properties&&Object.entries(e.properties).length>0)return P(Object.entries(e.properties),async(n,[o,s],a,i)=>{var d,h,b;let c=(Array.isArray(e.required)?e.required:[]).includes(o),p=t?x(t)+x(o):void 0;!!((b=(h=(d=r.specs[r.target])==null?void 0:d.components)==null?void 0:h.schemas)==null?void 0:b[p||""])&&(p=p+"Property");let u=await se({schema:s,propName:p,context:r}),g=e.readOnly||s.readOnly;a||(n.value+="{");let f=U(s,!0);return n.imports.push(...u.imports),n.value+=`
  ${f?`${f}  `:""}${g?"readonly ":""}${Ge(o)}${c?"":"?"}: ${u.value};`,n.schemas.push(...u.schemas),i.length-1===a&&(n.value+=`
}`),n},{imports:[],schemas:[],value:"",isEnum:!1,type:"object",isRef:!1,schema:{}});if(e.additionalProperties){if(J(e.additionalProperties))return{value:"{ [key: string]: any }",imports:[],schemas:[],isEnum:!1,type:"object",isRef:!1};let n=await ie({schema:e.additionalProperties,name:t,context:r});return{value:`{[key: string]: ${n.value}}`,imports:n.imports||[],schemas:n.schemas||[],isEnum:!1,type:"object",isRef:!1}}return{value:e.type==="object"?"{}":"unknown",imports:[],schemas:[],isEnum:!1,type:"object",isRef:!1}};var Tt=async({item:e,name:t,context:r})=>{let n=e.nullable?" | null":"";switch(!e.type&&e.items&&(e.type="array"),e.type){case"number":case"integer":{let a="number",i=!1;return e.enum&&(a=e.enum.join(" | "),i=!0),{value:a+n,isEnum:i,type:"number",schemas:[],imports:[],isRef:!1}}case"boolean":return{value:"boolean"+n,type:"boolean",isEnum:!1,schemas:[],imports:[],isRef:!1};case"array":{let o=await oo({schema:e,name:t,context:r}),{value:a}=o,i=xe(o,["value"]);return O({value:a+n},i)}case"string":{let a="string",i=!1;return e.enum&&(a=`'${e.enum.map(c=>D(c)?dt(c):c).filter(Boolean).join("' | '")}'`,i=!0),e.format==="binary"&&(a="Blob"),r.override.useDates&&(e.format==="date"||e.format==="date-time")&&(a="Date"),{value:a+n,isEnum:i,type:"string",imports:[],schemas:[],isRef:!1}}case"object":default:{let s=await so({item:e,name:t,context:r}),{value:a}=s,i=xe(s,["value"]);return O({value:a+n},i)}}};var ie=async({schema:e,name:t,context:r})=>{if(C(e)){let{schema:o,imports:s}=await N(e,r),{name:a,specKey:i,schemaName:c}=s[0],p=i||(r.specKey!==r.target?r.specKey:void 0);return{value:a,imports:[{name:a,specKey:p,schemaName:c}],type:(o==null?void 0:o.type)||"object",schemas:[],isEnum:!!(o==null?void 0:o.enum),originalSchema:o,isRef:!0}}let n=await Tt({item:e,name:t,context:r});return $(O({},n),{originalSchema:e,isRef:!1})};var se=async({schema:e,propName:t,combined:r=!1,context:n})=>{let o=await ie({schema:e,name:t,context:n}),s=U(o.originalSchema||{});if(t&&!o.isEnum&&(o==null?void 0:o.type)==="object"&&new RegExp(/{|&|\|/).test(o.value))return{value:t,imports:[{name:t}],schemas:[...o.schemas,{name:t,model:`${s}export type ${t} = ${o.value};
`,imports:o.imports}],isEnum:!1,type:"object",originalSchema:o.originalSchema,isRef:o.isRef};if(t&&o.isEnum&&!r&&!o.isRef){let a=Ie(o.value,o.type,t);return{value:t,imports:[{name:t}],schemas:[...o.schemas,{name:t,model:s+a,imports:o.imports}],isEnum:!1,type:"enum",originalSchema:o.originalSchema,isRef:o.isRef}}return o};var io=["multipart/form-data"],ao=["application/x-www-form-urlencoded"],up=async({mediaType:e,propName:t,context:r})=>e.schema?await se({schema:e.schema,propName:t,context:r}):void 0,Ae=async(e,t,r,n="unknown")=>{let o=await Promise.all(e.filter(([s,a])=>Boolean(a)).map(async([s,a])=>{if(C(a)){let{schema:i,imports:[{name:c,specKey:p,schemaName:l}]}=await N(a,r),[u,g]=Object.entries(i.content||{})[0]||[],f=io.includes(u),d=ao.includes(u);if(!f&&!d||!(g==null?void 0:g.schema))return[{value:c,imports:[{name:c,specKey:p,schemaName:l}],schemas:[],type:"unknown",isEnum:!1,isRef:!0,originalSchema:g==null?void 0:g.schema,key:s,contentType:u}];let h=f?await Je(c,g==null?void 0:g.schema,$(O({},r),{specKey:p||r.specKey})):void 0,b=d?await Je(c,g==null?void 0:g.schema,$(O({},r),{specKey:p||r.specKey}),!0):void 0;return[{value:c,imports:[{name:c,specKey:p,schemaName:l}],schemas:[],type:"unknown",isEnum:!1,formData:h,formUrlEncoded:b,isRef:!0,originalSchema:g==null?void 0:g.schema,key:s,contentType:u}]}return a.content?(await Promise.all(Object.entries(a.content).map(async([c,p],l,u)=>{let g=s?x(t)+x(s):void 0;g&&u.length>1&&(g=g+x(gt(l+1)));let f=await up({mediaType:p,propName:g,context:r});if(!f)return;let d=io.includes(c),h=ao.includes(c);if(!d&&!h||!g)return $(O({},f),{contentType:c});let b=d?await Je(g,p.schema,r):void 0,S=h?await Je(g,p.schema,r,!0):void 0;return $(O({},f),{formData:b,formUrlEncoded:S,contentType:c})}))).filter(c=>c).map(c=>$(O({},c),{key:s})):[{value:n,imports:[],schemas:[],type:n,isEnum:!1,key:s,isRef:!1,contentType:"application/json"}]}));return _lodashuniqby2.default.call(void 0, o.flatMap(s=>s),"value")};var po=async(e,t,r)=>{let n=await Ae([[r.override.components.requestBodies.suffix,e]],t,r),o=n.flatMap(({imports:l})=>l),s=n.flatMap(({schemas:l})=>l),a=n.map(({value:l})=>l).join(" | "),i=Ee.includes(a.toLowerCase())||n.length>1?T(t)+r.override.components.requestBodies.suffix:T(a),c=n.length===1?n[0].formData:void 0,p=n.length===1?n[0].formUrlEncoded:void 0;return{definition:a,implementation:i,imports:o,schemas:s,formData:c||"",formUrlEncoded:p||""}};m();var mo=(e,t,r)=>e.operationId?e.operationId:x([r,...t.split("/").map(n=>W(n))].join("-"));m();var co=async({parameters:e=[],context:t})=>P(e,async(r,n)=>{if(C(n)){let{schema:o,imports:s}=await N(n,t);(o.in==="path"||o.in==="query")&&r[o.in].push({parameter:o,imports:s})}else(n.in==="query"||n.in==="path")&&r[n.in].push({parameter:n,imports:[]});return r},{path:[],query:[]});m();var fp=e=>{let t,r=[],n=/\{(.*?)\}/g;for(;(t=n.exec(e))!==null;)r.push(t[1]);return r},lo=({route:e,pathParams:t=[],operationId:r,context:n})=>{let o=fp(e);return Promise.all(o.map(async s=>{let a=t.find(({parameter:d})=>W(d.name)===s);if(!a)throw new Error(`The path params ${s} can't be found in parameters (${r})`);let{name:i,required:c=!1,schema:p}=a.parameter,l=W(i);if(!p)return{name:l,definition:`${l}${c?"":"?"}: unknown`,implementation:`${l}${c?"":"?"}: unknown`,default:!1,required:c,imports:[]};let u=await ie({schema:p,context:O(O({},n),a.imports.length?{specKey:a.imports[0].specKey}:{})}),g=`${l}${!c||u.originalSchema.default?"?":""}: ${u.value}`,f=`${l}${!c&&!u.originalSchema.default?"?":""}${u.originalSchema.default?`= ${ee(u.originalSchema.default)}`:`: ${u.value}`}`;return{name:l,definition:g,implementation:f,default:u.originalSchema.default,required:c,imports:u.imports}}))};m();m();var uo=e=>e.sort((t,r)=>t.default?1:r.default?-1:t.required&&r.required?0:t.required?-1:r.required?1:0);var fo=({body:e,queryParams:t,params:r})=>{let n={name:e.implementation,definition:`${e.implementation}: ${e.definition}`,implementation:`${e.implementation}: ${e.definition}`,default:!1,required:!0,type:oe.BODY},o={name:"params",definition:`params?: ${t==null?void 0:t.name}`,implementation:`params?: ${t==null?void 0:t.name}`,default:!1,required:!1,type:oe.QUERY_PARAM},s=[...r.map(i=>$(O({},i),{type:oe.PARAM})),...e.definition?[n]:[],...t?[o]:[]];return uo(s)};m();var gp=(e,t,r)=>Promise.all(e.map(async({parameter:n,imports:o})=>{let{name:s,required:a,schema:i,content:c}=n,{value:p,imports:l,isEnum:u,type:g,schemas:f,isRef:d}=await ie({schema:i||c["application/json"].schema,context:r,name:x(t)+x(s)}),h=Ge(s);if(o.length)return{definition:`${h}${!a||i.default?"?":""}: ${o[0].name}`,imports:o,schemas:[]};if(u&&!d){let S=x(t)+x(s),w=Ie(p,g,S);return{definition:`${h}${!a||i.default?"?":""}: ${S}`,imports:[{name:S}],schemas:[...f,{name:S,model:w,imports:l}]}}return{definition:`${h}${!a||i.default?"?":""}: ${p}`,imports:l,schemas:f}})),go=async({queryParams:e=[],operationName:t,context:r})=>{if(!e.length)return;let n=await gp(e,t,r),o=n.flatMap(({imports:p})=>p),s=n.flatMap(({schemas:p})=>p),a=`${x(t)}Params`,i=n.map(({definition:p})=>p).join("; ");return{schema:{name:a,model:`export type ${a} = { ${i} };
`,imports:o},deps:s}};m();var yo=async(e,t,r)=>{if(!e)return{imports:[],definition:{success:"",errors:""},isBlob:!1,types:{success:[],errors:[]},schemas:[],contentTypes:[]};let n=await Ae(Object.entries(e),t,r,"void"),o=n.reduce((l,u)=>(u.key.startsWith("2")?l.success.push(u):l.errors.push(u),l),{success:[],errors:[]}),s=n.flatMap(({imports:l})=>l),a=n.flatMap(({schemas:l})=>l),i=[...new Set(n.map(({contentType:l})=>l))],c=o.success.map(({value:l,formData:u})=>u?"Blob":l).join(" | "),p=o.errors.map(({value:l})=>l).join(" | ");return{imports:s,definition:{success:c||"unknown",errors:p||"unknown"},isBlob:c==="Blob",types:o,contentTypes:i,schemas:a}};m();m();m();var er=e=>e.toLowerCase().includes(".yaml")||e.toLowerCase().includes(".yml")?"yaml":"json";var te=(e,t)=>{let r=_upath.relative.call(void 0, e,t);return _upath.normalizeSafe.call(void 0, `.${_upath.sep}${r}`)},vt=(e,t)=>{if(me(e)){let r=new URL(t);return e.replace(r.origin,"").replace(E(r.pathname).dirname,"").replace(`.${er(e)}`,"")}return"/"+_upath.normalize.call(void 0, _upath.relative.call(void 0, E(t).dirname,e)).split("../").join("").replace(`.${er(e)}`,"")};var Oo=(e,t)=>{let r=E(e),n=E(t.path),{pathWithoutExtension:o}=E(te(r.dirname,n.path));return o},Pt=async({output:e,mutator:t,name:r,workspace:n,tsconfig:o})=>{if(!t||!e)return;let s=t.default,a=t.name?t.name:`${r}Mutator`,i=t.path,c=await _fsextra.readFile.call(void 0, i,"utf8"),p=c.includes("export type ErrorType")||c.includes("export interface ErrorType"),l=t.default?`${x(r)}ErrorType`:"ErrorType",{file:u,cached:g}=await lt(i,{isDefault:!1,root:n,alias:t.alias,tsconfig:o});if(u){let f=u[t.default||!t.name?"default":t.name];f||(Z().error(_chalk2.default.red(`Your mutator file doesn't have the ${t.default?"default":t.name} exported function`)),process.exit(1));let d=Oo(e,t);return{name:a,path:d,default:s,mutatorFn:f,hasErrorType:p,errorTypeName:l}}else{let f=Oo(e,t);return g||Z().warn(_chalk2.default.yellow(`Your mutator cannot be loaded so default setup has been applied => ${i}`)),{name:a,path:f,default:s,mutatorFn:()=>{},hasErrorType:p,errorTypeName:l}}};var Op=async({verb:e,output:t,operation:r,route:n,verbParameters:o=[],context:s})=>{var Ve;let{responses:a,requestBody:i,parameters:c,tags:p=[],deprecated:l,description:u,summary:g}=r,f=mo(r,n,e),d=t.override.operations[r.operationId],h=Object.entries(t.override.tags).reduce((Ue,[ot,st])=>p.includes(ot)?je(Ue,st):Ue,{}),b=O(O(O({},t.override),h),d),S=(d==null?void 0:d.operationName)||((Ve=t.override)==null?void 0:Ve.operationName),w=S?S(r,n,e):T(f),j=await yo(a,w,s),M=await po(i,w,s),v=await co({parameters:[...o,...c||[]],context:s}),A=await go({queryParams:v.query,operationName:w,context:s}),I=await lo({route:n,pathParams:v.path,operationId:f,context:s}),k=fo({body:M,queryParams:A==null?void 0:A.schema,params:I}),re=await Pt({output:t.target,name:w,mutator:b==null?void 0:b.mutator,workspace:s.workspace,tsconfig:s.tsconfig}),ne=D(b==null?void 0:b.formData)||q(b==null?void 0:b.formData)?await Pt({output:t.target,name:w,mutator:b.formData,workspace:s.workspace,tsconfig:s.tsconfig}):void 0,H=D(b==null?void 0:b.formUrlEncoded)||q(b==null?void 0:b.formUrlEncoded)?await Pt({output:t.target,name:w,mutator:b.formUrlEncoded,workspace:s.workspace,tsconfig:s.tsconfig}):void 0,Te=U({description:u,deprecated:l,summary:g}),Fe={verb:e,tags:p,summary:r.summary,operationId:f,operationName:w,response:j,body:M,queryParams:A,params:I,props:k,mutator:re,formData:ne,formUrlEncoded:H,override:b,doc:Te},Ne=await ft(b==null?void 0:b.transformer,s.workspace);return Ne?Ne(Fe):Fe},xo=({verbs:e,output:t,route:r,context:n})=>P(Object.entries(e),async(o,[s,a])=>{if(en(s)){let i=await Op({verb:s,output:t,verbParameters:e.parameters,route:r,operation:a,context:n});o.push(i)}return o},[]);var $o=async({output:e,context:t})=>P(Object.entries(t.specs[t.specKey].paths),async(r,[n,o])=>{let s=vn(n),a=o,i=t;if(C(o)){let{schema:u,imports:g}=await N(o,t);a=u,i=O(O({},t),g.length?{specKey:g[0].specKey}:{})}let c=await xo({verbs:a,output:e,route:s,context:i}),p=c.reduce((u,{queryParams:g,body:f,response:d})=>(g&&u.push(g.schema,...g.deps),u.push(...f.schemas),u.push(...d.schemas),u),[]),l=await to(e.client,c,{route:s,pathRoute:n,override:e.override,context:i,mock:!!e.mock});return r.schemas.push(...p),r.operations=O(O({},r.operations),l),r},{operations:{},schemas:[]});m();var Ls=We(dr());var yr=(e={},t,r)=>(0,Ls.default)(e)?Promise.resolve([]):P(Object.entries(e),async(n,[o,s])=>{let a=await Ae([[r,s]],o,t,"void"),i=a.flatMap(({imports:f})=>f),c=a.flatMap(({schemas:f})=>f),p=a.map(({value:f})=>f).join(" | "),l=`${x(o)}${r}`,g=`${U(s)}export type ${l} = ${p||"unknown"};
`;return n.push(...c),l!==p&&n.push({name:l,model:g,imports:i}),n},[]);m();var Qs=(e={},t,r)=>P(Object.entries(e),async(n,[o,s])=>{let a=`${x(o)}${r}`,{schema:i,imports:c}=await N(s,t);if(i.in!=="query")return n;if(!i.schema||c.length)return n.push({name:a,imports:c.length?[{name:c[0].name,specKey:c[0].specKey,schemaName:c[0].schemaName}]:[],model:`export type ${a} = ${c.length?c[0].name:"unknown"};
`}),n;let p=await se({schema:i.schema,propName:a,context:t}),u=`${U(s)}export type ${a} = ${p.value||"unknown"};
`;return n.push(...p.schemas),a!==p.value&&n.push({name:a,model:u,imports:p.imports}),n},[]);m();var Ys=We(dr());m();var Hs=async({name:e,schema:t,context:r,suffix:n})=>{let o=await Tt({item:t,name:e,context:r}),s=o.value==="{}",a="";a+=U(t),s&&(r.tslint?a+=`// tslint:disable-next-line:no-empty-interface
`:a+=`// eslint-disable-next-line @typescript-eslint/no-empty-interface
`),Ee.includes(o.value)?a+=`export type ${e} = ${o.value};
`:a+=`export interface ${e} ${o.value}
`;let i=o.imports.filter(c=>c.name!==e);return[...o.schemas,{name:e,model:a,imports:i}]};var Js=async(e={},t,r)=>(0,Ys.default)(e)?[]:P(Object.entries(e),async(o,[s,a])=>{let i=x(s)+r;if((!a.type||a.type==="object")&&!a.allOf&&!a.oneOf&&!C(a)&&!a.nullable)return o.push(...await Hs({name:i,schema:a,context:t,suffix:r})),o;{let c=await ie({schema:a,name:i,context:t}),p="",l=c.imports;if(p+=U(a),c.isEnum&&!c.isRef)p+=Ie(c.value,c.type,i);else if(i===c.value&&c.isRef){let u=c.imports.find(g=>g.name===i);if(!u)p+=`export type ${i} = ${c.value};
`;else{let g=(u==null?void 0:u.specKey)?`${x(vt(u.specKey,t.specKey))}${c.value}`:`${c.value}Bis`;p+=`export type ${i} = ${g};
`,l=l.map(f=>f.name===i?$(O({},f),{alias:g}):f)}}else p+=`export type ${i} = ${c.value};
`;return o.push(...c.schemas,{name:i,model:p,imports:l}),o}},[]);m();var _ibmopenapivalidator = require('ibm-openapi-validator'); var _ibmopenapivalidator2 = _interopRequireDefault(_ibmopenapivalidator);var Xs=async e=>{let{errors:t,warnings:r}=await _ibmopenapivalidator2.default.call(void 0, e);r.length&&on(r),t.length&&sn(t)};var al=async({specs:e,input:t,workspace:r})=>{var o;let n=((o=t.override)==null?void 0:o.transformer)?await ft(t.override.transformer,r):void 0;return P(Object.entries(e),async(s,[a,i])=>{let c=await Tn(i,t.converterOptions,a),p=n?n(c):c;return t.validation&&await Xs(p),s[a]=p,s},{})},hr=async({data:e,input:t,output:r,target:n,workspace:o})=>{let s=await al({specs:e,input:t,workspace:o}),a=await P(Object.entries(s),async(c,[p,l])=>{var S,w,j,M,v;let u={specKey:p,target:n,workspace:o,specs:s,override:r.override,tslint:r.tslint,tsconfig:r.tsconfig},g=await Js(l.openapi?(w=l.components)==null?void 0:w.schemas:O(O({},_lodashomit2.default.call(void 0, l,["openapi","info","servers","paths","components","security","tags","externalDocs"])),((S=l.components)==null?void 0:S.schemas)||{}),u,r.override.components.schemas.suffix),f=await yr((j=l.components)==null?void 0:j.responses,u,r.override.components.responses.suffix),d=await yr((M=l.components)==null?void 0:M.requestBodies,u,r.override.components.requestBodies.suffix),h=await Qs((v=l.components)==null?void 0:v.parameters,u,r.override.components.parameters.suffix),b=[...g,...f,...d,...h];return b.length&&(c[p]=b),c},{}),i=await $o({output:r,context:{specKey:n,target:n,workspace:o,specs:s,override:r.override,tslint:r.tslint,tsconfig:r.tsconfig}});return $(O({},i),{schemas:$(O({},a),{[n]:[...a[n]||[],...i.schemas]}),target:n,info:s[n].info})};var ll=async(e,o,n)=>{var s=o,{validate:t}=s,r=xe(s,["validate"]);if(t)try{await _swaggerparser2.default.validate(e)}catch(i){if((i==null?void 0:i.name)==="ParserError")throw i;_console.log.call(void 0, `\u26A0\uFE0F  ${_chalk2.default.yellow(i)}`)}let a=(await _swaggerparser2.default.resolve(e,r)).values();return n?a:Object.fromEntries(Object.entries(a).map(([i,c])=>[_upath.resolve.call(void 0, i),c]))},ei=async(e,t)=>{let{input:r,output:n}=t;if(q(r.target))return hr({data:{[e]:r.target},input:r,output:n,target:e,workspace:e});let o=me(r.target),s=await ll(r.target,r.parserOptions,o);return hr({data:s,input:r,output:n,target:r.target,workspace:e})};m();var _execa = require('execa'); var _execa2 = _interopRequireDefault(_execa);m();var yl=({schema:{imports:e,model:t},target:r,isRootKey:n,specsName:o,header:s})=>{let a=s;return a+=En({imports:e,target:r,isRootKey:n,specsName:o}),a+=e.length?`

`:`
`,a+=t,a},br=(e,t)=>_upath.join.call(void 0, e,`/${t}.ts`);var hl=async({path:e,schema:t,target:r,isRootKey:n,specsName:o,header:s})=>{let a=T(t.name);try{await _fsextra.outputFile.call(void 0, br(e,a),yl({schema:t,target:r,isRootKey:n,specsName:o,header:s}));let i=br(e,"index"),p=(await _fsextra.readFile.call(void 0, i)).toString();!p.includes(`export * from './${a}'`)&&!p.includes(`export * from "./${a}"`)&&await _fsextra.appendFile.call(void 0, br(e,"index"),`export * from './${a}';
`)}catch(i){throw`Oups... \u{1F37B}. An Error occurred while writing schema ${a} => ${i}`}},ri=async({schemaPath:e,schemas:t,target:r,isRootKey:n,specsName:o,header:s})=>(await _fsextra.ensureFile.call(void 0, _upath.join.call(void 0, e,"/index.ts")),Promise.all(t.map(a=>hl({path:e,schema:a,target:r,isRootKey:n,specsName:o,header:s}))));m();m();var bl=(e,t)=>e+`${t}
`,Oe=e=>Object.values(e).flatMap(r=>r).sort((r,n)=>r.imports.some(o=>o.name===n.name)?1:-1).reduce((r,{model:n})=>bl(r,n),"");m();var Et=(e,t,r)=>{let n=Object.values(e).map(({operationName:a})=>a),o=(r==null?void 0:r.client)===K.ANGULAR,s=Object.values(e).reduce((a,i,c,p)=>{if(a.imports.push(...i.imports),a.importsMSW.push(...i.importsMSW),a.implementation+=i.implementation+`
`,a.implementationMSW.function+=i.implementationMSW.function,a.implementationMSW.handler+=i.implementationMSW.handler,i.mutator&&a.mutators.push(i.mutator),i.formData&&a.formData.push(i.formData),i.formUrlEncoded&&a.formUrlEncoded.push(i.formUrlEncoded),c===p.length-1){let l=a.mutators.some(f=>f.mutatorFn.length>(o?2:1)),u=wt({outputClient:r.client,isRequestOptions:r.override.requestOptions!==!1,isMutator:l,isGlobalMutator:!!r.override.mutator,title:x(t.title),customTitleFunc:r.override.title,provideInRoot:!!r.override.angular.provideIn,provideIn:r.override.angular.provideIn});a.implementation=u.implementation+a.implementation,a.implementationMSW.handler=u.implementationMSW+a.implementationMSW.handler;let g=jt(r==null?void 0:r.client,n);a.implementation+=g.implementation,a.implementationMSW.handler+=g.implementationMSW}return a},{imports:[],implementation:"",implementationMSW:{function:"",handler:""},importsMSW:[],mutators:[],formData:[],formUrlEncoded:[]});return $(O({},s),{implementationMSW:s.implementationMSW.function+s.implementationMSW.handler})};var ni=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{try{let{path:a,dirname:i}=E(n.target,{backupFilename:T(r.title)}),{imports:c,importsMSW:p,implementation:l,implementationMSW:u,mutators:g,formData:f,formUrlEncoded:d}=Et(e,r,n),h=s,b=n.schemas?te(i,E(n.schemas).dirname):void 0,S=Q(n.tsconfig);return h+=be(n.client,l,b?[{exports:c,dependency:b}]:[],o,!!n.schemas,S),n.mock&&(h+=he(u,b?[{exports:p,dependency:b}]:[],o,!!n.schemas,S)),g&&(h+=V(g)),f&&(h+=V(f)),d&&(h+=V(d)),n.schemas||(h+=Oe(t)),h+=`

${l}`,n.mock&&(h+=`

`,h+=u),await _fsextra.outputFile.call(void 0, a,h),[a]}catch(a){throw`Oups... \u{1F37B}. An Error occurred while writing file => ${a}`}};m();var oi=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{try{let{filename:a,dirname:i,extension:c}=E(n.target,{backupFilename:T(r.title)}),{imports:p,implementation:l,implementationMSW:u,importsMSW:g,mutators:f,formData:d,formUrlEncoded:h}=Et(e,r,n),b=s,S=s,w=n.schemas?te(i,E(n.schemas).dirname):"./"+a+".schemas",j=Q(n.tsconfig);b+=be(n.client,l,[{exports:p,dependency:w}],o,!!n.schemas,j),S+=he(u,[{exports:[...p,...g],dependency:w}],o,!!n.schemas,j);let M=n.schemas?void 0:_upath.join.call(void 0, i,a+".schemas"+c);if(M){let k=s+Oe(t);await _fsextra.outputFile.call(void 0, _upath.join.call(void 0, i,a+".schemas"+c),k)}f&&(b+=V(f)),d&&(b+=V(d)),h&&(b+=V(h)),b+=`
${l}`,S+=`
${u}`;let v=a+(K.ANGULAR===n.client?".service":"")+c,A=_upath.join.call(void 0, i,v);await _fsextra.outputFile.call(void 0, _upath.join.call(void 0, i,v),b);let I=n.mock?_upath.join.call(void 0, i,a+".msw"+c):void 0;return I&&await _fsextra.outputFile.call(void 0, I,S),[A,...M?[M]:[],...I?[I]:[]]}catch(a){throw`Oups... \u{1F37B}. An Error occurred while splitting => ${a}`}};m();m();var xl=e=>$(O({},e),{tags:e.tags.length?e.tags:["default"]}),$l=(e,t)=>t.tags.reduce((r,n)=>{let o=r[n];return r[n]=o?{implementation:o.implementation+t.implementation,imports:[...o.imports,...t.imports],importsMSW:[...o.importsMSW,...t.importsMSW],implementationMSW:{function:o.implementationMSW.function+t.implementationMSW.function,handler:o.implementationMSW.handler+t.implementationMSW.handler},mutators:t.mutator?[...o.mutators||[],t.mutator]:o.mutators,formData:t.formData?[...o.formData||[],t.formData]:o.formData,formUrlEncoded:t.formUrlEncoded?[...o.formUrlEncoded||[],t.formUrlEncoded]:o.formUrlEncoded}:{imports:t.imports,importsMSW:t.importsMSW,mutators:t.mutator?[t.mutator]:[],formData:t.formData?[t.formData]:[],formUrlEncoded:t.formUrlEncoded?[t.formUrlEncoded]:[],implementation:t.implementation,implementationMSW:{function:t.implementationMSW.function,handler:t.implementationMSW.handler}},r},e),Gt=(e,t)=>{let r=Object.values(e).map(({operationName:s})=>s),n=t.client===K.ANGULAR,o=Object.values(e).map(xl).reduce((s,a,i,c)=>{let p=$l(s,a);if(i===c.length-1){let l=jt(t==null?void 0:t.client,r);return Object.entries(p).reduce((u,[g,f])=>{var b;let d=!!((b=f.mutators)==null?void 0:b.some(S=>S.mutatorFn.length>(n?2:1))),h=wt({outputClient:t.client,isRequestOptions:t.override.requestOptions!==!1,isMutator:d,isGlobalMutator:!!t.override.mutator,title:x(g),customTitleFunc:t.override.title,provideInRoot:!!t.override.angular.provideIn,provideIn:t.override.angular.provideIn});return u[g]={implementation:h.implementation+f.implementation+l.implementation,implementationMSW:{function:f.implementationMSW.function,handler:h.implementationMSW+f.implementationMSW.handler+l.implementationMSW},imports:f.imports,importsMSW:f.importsMSW,mutators:f.mutators,formData:f.formData,formUrlEncoded:f.formUrlEncoded},u},{})}return p},{});return Object.entries(o).reduce((s,[a,i])=>(s[a]=$(O({},i),{implementationMSW:i.implementationMSW.function+i.implementationMSW.handler}),s),{})};var si=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{let{filename:a,dirname:i,extension:c}=E(n.target,{backupFilename:T(r.title)}),p=Gt(e,n),l=Q(n.tsconfig);return(await Promise.all(Object.entries(p).map(async([g,f])=>{try{let{imports:d,implementation:h,implementationMSW:b,importsMSW:S,mutators:w,formData:j,formUrlEncoded:M}=f,v=s,A=s,I=n.schemas?"../"+te(i,E(n.schemas).dirname):"../"+a+".schemas";v+=be(n.client,h,[{exports:d,dependency:I}],o,!!n.schemas,l),A+=he(b,[{exports:[...d,...S],dependency:I}],o,!!n.schemas,l);let k=n.schemas?void 0:_upath.join.call(void 0, i,a+".schemas"+c);if(k){let Te=s+Oe(t);await _fsextra.outputFile.call(void 0, k,Te)}w&&(v+=V(w,!0)),j&&(v+=V(j,!0)),M&&(v+=V(M)),v+=`
${h}`,A+=`
${b}`;let re=$e(g)+(K.ANGULAR===n.client?".service":"")+c,ne=_upath.join.call(void 0, i,$e(g),re);await _fsextra.outputFile.call(void 0, ne,v);let H=n.mock?_upath.join.call(void 0, i,$e(g),$e(g)+".msw"+c):void 0;return H&&await _fsextra.outputFile.call(void 0, H,A),[ne,...k?[k]:[],...H?[H]:[]]}catch(d){throw`Oups... \u{1F37B}. An Error occurred while splitting tag ${g} => ${d}`}}))).flatMap(g=>g)};m();var pi=async({operations:e,schemas:t,info:r,output:n,specsName:o,header:s})=>{let{filename:a,dirname:i,extension:c}=E(n.target,{backupFilename:T(r.title)}),p=Gt(e,n),l=Q(n.tsconfig);return(await Promise.all(Object.entries(p).map(async([g,f])=>{try{let{imports:d,implementation:h,implementationMSW:b,importsMSW:S,mutators:w,formData:j,formUrlEncoded:M}=f,v=s,A=n.schemas?te(i,E(n.schemas).dirname):"./"+a+".schemas";v+=be(n.client,h,[{exports:d,dependency:A}],o,!!n.schemas,l),n.mock&&(v+=he(b,[{exports:S,dependency:A}],o,!!n.schemas,l));let I=n.schemas?void 0:_upath.join.call(void 0, i,a+".schemas"+c);if(I){let re=s+Oe(t);await _fsextra.outputFile.call(void 0, I,re)}w&&(v+=V(w)),j&&(v+=V(j)),M&&(v+=V(M)),v+=`

`,v+=h,n.mock&&(v+=`

`,v+=b);let k=_upath.join.call(void 0, i,`${$e(g)}${c}`);return await _fsextra.outputFile.call(void 0, k,v),[k,...I?[I]:[]]}catch(d){throw`Oups... \u{1F37B}. An Error occurred while writing tag ${g} => ${d}`}}))).flatMap(g=>g)};var ci=async({operations:e,schemas:t,target:r,info:n},o,s,a)=>{let{output:i}=s,c=a||n.title,p=Object.keys(t).reduce((g,f)=>{let h=vt(f,r).slice(1).split("/").join("-");return g[f]=h,g},{}),l=i.override.header?U({description:i.override.header(n)}):"";if(i.schemas){let g=i.schemas;await Promise.all(Object.entries(t).map(([f,d])=>{let h=r===f,b=h?g:_upath.join.call(void 0, g,p[f]);return ri({schemaPath:b,schemas:d,target:r,specsName:p,isRootKey:h,header:l})}))}let u=[];if(i.target&&(i.mode===_e.SINGLE?u=await ni({workspace:o,operations:e,output:i,info:n,schemas:t,specsName:p,header:l}):i.mode===_e.SPLIT?u=await oi({workspace:o,operations:e,output:i,info:n,schemas:t,specsName:p,header:l}):i.mode===_e.TAGS?u=await pi({workspace:o,operations:e,output:i,info:n,schemas:t,specsName:p,header:l}):i.mode===_e.TAGS_SPLIT&&(u=await si({workspace:o,operations:e,output:i,info:n,schemas:t,specsName:p,header:l}))),i.workspace){let g=i.workspace,f=u.filter(h=>!h.endsWith(".msw.ts")).map(h=>`export * from '${te(g,E(h).pathWithoutExtension)}';`);i.schemas&&f.push(`export * from '${te(g,E(i.schemas).dirname)}';`);let d=_upath.join.call(void 0, g,"/index.ts");await _fsextra.outputFile.call(void 0, d,_lodashuniq2.default.call(void 0, f).join(`
`)),u=[d,...u]}if(i.prettier)try{await _execa2.default.call(void 0, "prettier",["--write",...i.schemas?[E(i.schemas).dirname]:[],...u])}catch (e6){_console.log.call(void 0, _chalk2.default.yellow(`\u26A0\uFE0F  ${c?`${c} - `:""}Prettier not found`))}nn(c)};m();var li=e=>{rn(e),process.exit(1)};var fi=async(e,t,r)=>{if(t.output.clean){let o=Array.isArray(t.output.clean)?t.output.clean:[];t.output.target&&await Wt(["**/*","!**/*.d.ts",...o],E(t.output.target).dirname),t.output.schemas&&await Wt(["**/*","!**/*.d.ts",...o],E(t.output.schemas).dirname),F(`${r?`${r}: `:""}Cleaning output folder`)}let n=await ei(e,t);await ci(n,e,t,r)},gi=async(e,t,r)=>{if(r){let n=e[r];if(n)try{await fi(t,n,r)}catch(o){F(_chalk2.default.red(`\u{1F6D1}  ${r?`${r} - `:""}${o}`))}else li("Project not found");return}return Promise.all(Object.entries(e).map(async([n,o])=>{try{return await fi(t,o,n)}catch(s){F(_chalk2.default.red(`\u{1F6D1}  ${n?`${n} - `:""}${s}`))}}))},Tx= exports.j =async(e,t)=>{let{path:r,file:n,error:o}=await lt(e,{defaultFileName:"orval.config"});if(!n)throw`failed to load from ${r} => ${o}`;let s=_upath.dirname.call(void 0, r),a=await(L(n)?n():n),i=await P(Object.entries(a),async(p,[l,u])=>(p[l]=await wn(u,s,t),p),{}),c=Object.entries(i).filter(([p])=>(t==null?void 0:t.projectName)===void 0||p===(t==null?void 0:t.projectName)).map(([,{input:p}])=>p.target).filter(p=>D(p));(t==null?void 0:t.watch)&&c.length?Rn(t==null?void 0:t.watch,()=>gi(i,s,t==null?void 0:t.projectName),c):await gi(i,s,t==null?void 0:t.projectName)};exports.a = At; exports.b = m; exports.c = D; exports.d = F; exports.e = kl; exports.f = Ku; exports.g = wn; exports.h = Rn; exports.i = fi; exports.j = Tx;
